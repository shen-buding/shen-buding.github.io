(self.webpackChunkangular_base=self.webpackChunkangular_base||[]).push([[575],{2188:(Jn,tn)=>{window,Jn.exports=function(C){var u={};function a(E){if(u[E])return u[E].exports;var v=u[E]={i:E,l:!1,exports:{}};return C[E].call(v.exports,v,v.exports,a),v.l=!0,v.exports}return a.m=C,a.c=u,a.d=function(E,v,b){a.o(E,v)||Object.defineProperty(E,v,{enumerable:!0,get:b})},a.r=function(E){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},a.t=function(E,v){if(1&v&&(E=a(E)),8&v||4&v&&"object"==typeof E&&E&&E.__esModule)return E;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:E}),2&v&&"string"!=typeof E)for(var x in E)a.d(b,x,function(D){return E[D]}.bind(null,x));return b},a.n=function(E){var v=E&&E.__esModule?function(){return E.default}:function(){return E};return a.d(v,"a",v),v},a.o=function(E,v){return Object.prototype.hasOwnProperty.call(E,v)},a.p="",a(a.s=215)}([function(C,u,a){"use strict";(function(E,v){a.d(u,"a",function(){return we}),a.d(u,"b",function(){return To}),a.d(u,"c",function(){return te}),a.d(u,"d",function(){return Ge}),a.d(u,"e",function(){return Ft}),a.d(u,"f",function(){return Xt}),a.d(u,"g",function(){return Ci}),a.d(u,"h",function(){return J}),a.d(u,"i",function(){return j}),a.d(u,"j",function(){return Ro}),a.d(u,"k",function(){return br}),a.d(u,"l",function(){return Yn}),a.d(u,"m",function(){return $e}),a.d(u,"n",function(){return xa}),a.d(u,"o",function(){return ot}),a.d(u,"p",function(){return xr}),a.d(u,"q",function(){return Li}),a.d(u,"r",function(){return Ir}),a.d(u,"s",function(){return z}),a.d(u,"t",function(){return Or}),a.d(u,"u",function(){return Fo}),a.d(u,"v",function(){return si}),a.d(u,"w",function(){return mo}),a.d(u,"x",function(){return bo}),a.d(u,"y",function(){return mn}),a.d(u,"z",function(){return Mn}),a.d(u,"A",function(){return w}),a.d(u,"B",function(){return Zr}),a.d(u,"C",function(){return Be}),a.d(u,"D",function(){return ui}),a.d(u,"E",function(){return Dr}),a.d(u,"F",function(){return Ii}),a.d(u,"G",function(){return Di}),a.d(u,"H",function(){return mr}),a.d(u,"I",function(){return Pa}),a.d(u,"J",function(){return lr}),a.d(u,"K",function(){return ft}),a.d(u,"L",function(){return Oo}),a.d(u,"M",function(){return Eo});var x=[];Object.freeze(x);var D={};function F(){return++Ot.mobxGuid}function R(c){throw U(!1,c),"X"}function U(c,h){if(!c)throw new Error("[mobx] "+(h||"An invariant failed, however the error is obfuscated because this is a production build."))}function $(c){var h=!1;return function(){if(!h)return h=!0,c.apply(this,arguments)}}Object.freeze(D);var K=function(){};function se(c){return null!==c&&"object"==typeof c}function ie(c){if(null===c||"object"!=typeof c)return!1;var h=Object.getPrototypeOf(c);return h===Object.prototype||null===h}function Te(c,h,S){Object.defineProperty(c,h,{enumerable:!1,writable:!0,configurable:!0,value:S})}function Ee(c,h){var S="isMobX"+c;return h.prototype[S]=!0,function(L){return se(L)&&!0===L[S]}}function W(c){return c instanceof Map}function k(c){return c instanceof Set}function le(c){var h=new Set;for(var S in c)h.add(S);return Object.getOwnPropertySymbols(c).forEach(function(L){Object.getOwnPropertyDescriptor(c,L).enumerable&&h.add(L)}),Array.from(h)}function be(c){return c&&c.toString?c.toString():new String(c).toString()}function Pe(c){return null===c?null:"object"==typeof c?""+c:c}var Je=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:Object.getOwnPropertyNames,we=Symbol("mobx administration"),Ye=function(){function c(h){void 0===h&&(h="Atom@"+F()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=tt.NOT_TRACKING}return c.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},c.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},c.prototype.reportObserved=function(){return dn(this)},c.prototype.reportChanged=function(){Qn(),function vo(c){c.lowestObserverState!==tt.STALE&&(c.lowestObserverState=tt.STALE,c.observers.forEach(function(h){h.dependenciesState===tt.UP_TO_DATE&&(h.isTracing!==ye.NONE&&Ve(h,c),h.onBecomeStale()),h.dependenciesState=tt.STALE}))}(this),wn()},c.prototype.toString=function(){return this.name},c}(),it=Ee("Atom",Ye);function ot(c,h,S){void 0===h&&(h=K),void 0===S&&(S=K);var L=new Ye(c);return h!==K&&function _i(c,h,S){return ji("onBecomeObserved",c,h,S)}(L,h),S!==K&&Dr(L,S),L}var zt={identity:function at(c,h){return c===h},structural:function ht(c,h){return ke(c,h)},default:function It(c,h){return Object.is(c,h)},shallow:function St(c,h){return ke(c,h,1)}},Qe=function(c,h){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,L){S.__proto__=L}||function(S,L){for(var ee in L)L.hasOwnProperty(ee)&&(S[ee]=L[ee])})(c,h)};var gt=function(){return gt=Object.assign||function(h){for(var S,L=1,ee=arguments.length;L<ee;L++)for(var he in S=arguments[L])Object.prototype.hasOwnProperty.call(S,he)&&(h[he]=S[he]);return h},gt.apply(this,arguments)};function Ie(c){var h="function"==typeof Symbol&&c[Symbol.iterator],S=0;return h?h.call(c):{next:function(){return c&&S>=c.length&&(c=void 0),{value:c&&c[S++],done:!c}}}}function re(c,h){var S="function"==typeof Symbol&&c[Symbol.iterator];if(!S)return c;var ee,Me,L=S.call(c),he=[];try{for(;(void 0===h||h-- >0)&&!(ee=L.next()).done;)he.push(ee.value)}catch(Ke){Me={error:Ke}}finally{try{ee&&!ee.done&&(S=L.return)&&S.call(L)}finally{if(Me)throw Me.error}}return he}function Y(){for(var c=[],h=0;h<arguments.length;h++)c=c.concat(re(arguments[h]));return c}var V=Symbol("mobx did run lazy initializers"),ge=Symbol("mobx pending decorators"),Oe={},xe={};function ct(c,h){var S=h?Oe:xe;return S[c]||(S[c]={configurable:!0,enumerable:h,get:function(){return vt(this),this[c]},set:function(L){vt(this),this[c]=L}})}function vt(c){var h,S;if(!0!==c[V]){var L=c[ge];if(L){Te(c,V,!0);var ee=Y(Object.getOwnPropertySymbols(L),Object.keys(L));try{for(var he=Ie(ee),Me=he.next();!Me.done;Me=he.next()){var ut=L[Me.value];ut.propertyCreator(c,ut.prop,ut.descriptor,ut.decoratorTarget,ut.decoratorArguments)}}catch(jt){h={error:jt}}finally{try{Me&&!Me.done&&(S=he.return)&&S.call(he)}finally{if(h)throw h.error}}}}}function Ct(c,h){return function(){var L,ee=function(Me,Ke,ut,jt){return!0===jt?(h(Me,Ke,ut,Me,L),null):(Object.prototype.hasOwnProperty.call(Me,ge)||Te(Me,ge,gt({},Me[ge])),Me[ge][Ke]={prop:Ke,propertyCreator:h,descriptor:ut,decoratorTarget:Me,decoratorArguments:L},ct(Ke,c))};return Nt(arguments)?(L=x,ee.apply(null,arguments)):(L=Array.prototype.slice.call(arguments),ee)}}function Nt(c){return(2===c.length||3===c.length)&&("string"==typeof c[1]||"symbol"==typeof c[1])||4===c.length&&!0===c[3]}function Le(c,h,S){return bo(c)?c:Array.isArray(c)?Be.array(c,{name:S}):ie(c)?Be.object(c,void 0,{name:S}):W(c)?Be.map(c,{name:S}):k(c)?Be.set(c,{name:S}):c}function yt(c){return c}function Pt(c){U(c);var S=Ct(!0,function(L,ee,he,Me,Ke){var ut=he?he.initializer?he.initializer.call(L):he.value:void 0;Wi(L).addObservableProp(ee,ut,c)});return S.enhancer=c,S}var Ut={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Gt(c){return null==c?Ut:"string"==typeof c?{name:c,deep:!0,proxy:!0}:c}Object.freeze(Ut);var Yt=Pt(Le),sn=Pt(function Rt(c,h,S){return null==c||w(c)||mn(c)||Mn(c)||_n(c)?c:Array.isArray(c)?Be.array(c,{name:S,deep:!1}):ie(c)?Be.object(c,void 0,{name:S,deep:!1}):W(c)?Be.map(c,{name:S,deep:!1}):k(c)?Be.set(c,{name:S,deep:!1}):R(!1)}),Zt=Pt(yt),un=Pt(function xt(c,h,S){return ke(c,h)?h:c});function gn(c){return c.defaultDecorator?c.defaultDecorator.enhancer:!1===c.deep?yt:Le}var cn={box:function(c,h){arguments.length>2&&lt("box");var S=Gt(h);return new Un(c,gn(S),S.name,!0,S.equals)},array:function(c,h){arguments.length>2&&lt("array");var S=Gt(h);return Aa(c,gn(S),S.name)},map:function(c,h){arguments.length>2&&lt("map");var S=Gt(h);return new To(c,gn(S),S.name)},set:function(c,h){arguments.length>2&&lt("set");var S=Gt(h);return new Pr(c,gn(S),S.name)},object:function(c,h,S){"string"==typeof arguments[1]&&lt("object");var L=Gt(S);if(!1===L.proxy)return Li({},c,h,L);var ee=Kr(L),Me=Uo(Li({},void 0,void 0,L));return Go(Me,c,h,ee),Me},ref:Zt,shallow:sn,deep:Yt,struct:un},Be=function fn(c,h,S){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return Yt.apply(null,arguments);if(bo(c))return c;var L=ie(c)?Be.object(c,h,S):Array.isArray(c)?Be.array(c,h):W(c)?Be.map(c,h):k(c)?Be.set(c,h):c;if(L!==c)return L;R(!1)};function lt(c){R("Expected one or two arguments to observable."+c+". Did you accidentally try to use observable."+c+" as decorator?")}Object.keys(cn).forEach(function(c){return Be[c]=cn[c]});var ve=Ct(!1,function(c,h,S,L,ee){var he=S.get,Me=S.set,Ke=ee[0]||{};Wi(c).addComputedProp(c,h,gt({get:he,set:Me,context:c},Ke))}),me=ve({equals:zt.structural}),$e=function(h,S,L){if("string"==typeof S||null!==h&&"object"==typeof h&&1===arguments.length)return ve.apply(null,arguments);var ee="object"==typeof S?S:{};return ee.get=h,ee.set="function"==typeof S?S:ee.set,ee.name=ee.name||h.name||"",new Nr(ee)};$e.struct=me;var tt=(()=>{return(c=tt||(tt={}))[c.NOT_TRACKING=-1]="NOT_TRACKING",c[c.UP_TO_DATE=0]="UP_TO_DATE",c[c.POSSIBLY_STALE=1]="POSSIBLY_STALE",c[c.STALE=2]="STALE",tt;var c})(),ye=(()=>{return(c=ye||(ye={}))[c.NONE=0]="NONE",c[c.LOG=1]="LOG",c[c.BREAK=2]="BREAK",ye;var c})(),fe=function c(h){this.cause=h};function ne(c){return c instanceof fe}function _(c){switch(c.dependenciesState){case tt.UP_TO_DATE:return!1;case tt.NOT_TRACKING:case tt.STALE:return!0;case tt.POSSIBLY_STALE:for(var h=Xt(!0),S=dt(),L=c.observing,ee=L.length,he=0;he<ee;he++){var Me=L[he];if(Wr(Me)){if(Ot.disableErrorBoundaries)Me.get();else try{Me.get()}catch{return Mt(S),Ft(h),!0}if(c.dependenciesState===tt.STALE)return Mt(S),Ft(h),!0}}return En(c),Mt(S),Ft(h),!1}}function j(){return null!==Ot.trackingDerivation}function T(c){var h=c.observers.size>0;Ot.computationDepth>0&&h&&R(!1),!Ot.allowStateChanges&&(h||"strict"===Ot.enforceActions)&&R(!1)}function B(c,h,S){var L=Xt(!0);En(c),c.newObserving=new Array(c.observing.length+100),c.unboundDepsCount=0,c.runId=++Ot.runId;var he,ee=Ot.trackingDerivation;if(Ot.trackingDerivation=c,!0===Ot.disableErrorBoundaries)he=h.call(S);else try{he=h.call(S)}catch(Me){he=new fe(Me)}return Ot.trackingDerivation=ee,function We(c){for(var h=c.observing,S=c.observing=c.newObserving,L=tt.UP_TO_DATE,ee=0,he=c.unboundDepsCount,Me=0;Me<he;Me++)0===(Ke=S[Me]).diffValue&&(Ke.diffValue=1,ee!==Me&&(S[ee]=Ke),ee++),Ke.dependenciesState>L&&(L=Ke.dependenciesState);for(S.length=ee,c.newObserving=null,he=h.length;he--;)0===(Ke=h[he]).diffValue&&Vn(Ke,c),Ke.diffValue=0;for(;ee--;){var Ke;1===(Ke=S[ee]).diffValue&&(Ke.diffValue=0,zr(Ke,c))}L!==tt.UP_TO_DATE&&(c.dependenciesState=L,c.onBecomeStale())}(c),Ft(L),he}function Xe(c){var h=c.observing;c.observing=[];for(var S=h.length;S--;)Vn(h[S],c);c.dependenciesState=tt.NOT_TRACKING}function ft(c){var h=dt();try{return c()}finally{Mt(h)}}function dt(){var c=Ot.trackingDerivation;return Ot.trackingDerivation=null,c}function Mt(c){Ot.trackingDerivation=c}function Xt(c){var h=Ot.allowStateReads;return Ot.allowStateReads=c,h}function Ft(c){Ot.allowStateReads=c}function En(c){if(c.dependenciesState!==tt.UP_TO_DATE){c.dependenciesState=tt.UP_TO_DATE;for(var h=c.observing,S=h.length;S--;)h[S].lowestObserverState=tt.UP_TO_DATE}}var Bn=0,Yr=1;function Hn(c,h,S){var L=function(){return Io(c,h,S||this,arguments)};return L.isMobxAction=!0,L}function Io(c,h,S,L){var ee=Ro(c);try{return h.apply(S,L)}catch(he){throw ee.error=he,he}finally{Ci(ee)}}function Ro(c,h,S){var ut=dt();Qn();var rn={prevDerivation:ut,prevAllowStateChanges:$r(!0),prevAllowStateReads:Xt(!0),notifySpy:false,startTime:0,actionId:Yr++,parentActionId:Bn};return Bn=rn.actionId,rn}function Ci(c){Bn!==c.actionId&&R("invalid action stack. did you forget to finish an action?"),Bn=c.parentActionId,void 0!==c.error&&(Ot.suppressReactionErrors=!0),sr(c.prevAllowStateChanges),Ft(c.prevAllowStateReads),wn(),Mt(c.prevDerivation),Ot.suppressReactionErrors=!1}function Ge(c,h){var L,S=$r(c);try{L=h()}finally{sr(S)}return L}function $r(c){var h=Ot.allowStateChanges;return Ot.allowStateChanges=c,h}function sr(c){Ot.allowStateChanges=c}Object.getOwnPropertyDescriptor(function(){},"name");var Un=function(c){function h(S,L,ee,he,Me){void 0===ee&&(ee="ObservableValue@"+F()),void 0===he&&(he=!0),void 0===Me&&(Me=zt.default);var Ke=c.call(this,ee)||this;return Ke.enhancer=L,Ke.name=ee,Ke.equals=Me,Ke.hasUnreportedChange=!1,Ke.value=L(S,void 0,ee),Ke}return function Et(c,h){function S(){this.constructor=c}Qe(c,h),c.prototype=null===h?Object.create(h):(S.prototype=h.prototype,new S)}(h,c),h.prototype.dehanceValue=function(S){return void 0!==this.dehancer?this.dehancer(S):S},h.prototype.set=function(S){(S=this.prepareNewValue(S))!==Ot.UNCHANGED&&this.setNewValue(S)},h.prototype.prepareNewValue=function(S){if(T(this),ur(this)){var L=er(this,{object:this,type:"update",newValue:S});if(!L)return Ot.UNCHANGED;S=L.newValue}return S=this.enhancer(S,this.value,this.name),this.equals(this.value,S)?Ot.UNCHANGED:S},h.prototype.setNewValue=function(S){var L=this.value;this.value=S,this.reportChanged(),$n(this)&&tr(this,{type:"update",object:this,newValue:S,oldValue:L})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(S){return Qr(this,S)},h.prototype.observe=function(S,L){return L&&S({object:this,type:"update",newValue:this.value,oldValue:void 0}),xo(this,S)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return Pe(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(Ye),_o=Ee("ObservableValue",Un),Nr=function(){function c(h){this.dependenciesState=tt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=tt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+F(),this.value=new fe(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ye.NONE,U(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+F(),h.set&&(this.setter=Hn(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?zt.structural:zt.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return c.prototype.onBecomeStale=function(){!function q(c){c.lowestObserverState===tt.UP_TO_DATE&&(c.lowestObserverState=tt.POSSIBLY_STALE,c.observers.forEach(function(h){h.dependenciesState===tt.UP_TO_DATE&&(h.dependenciesState=tt.POSSIBLY_STALE,h.isTracing!==ye.NONE&&Ve(h,c),h.onBecomeStale())}))}(this)},c.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},c.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},c.prototype.get=function(){this.isComputing&&R("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ot.inBatch||0!==this.observers.size||this.keepAlive?(dn(this),_(this)&&this.trackAndCompute()&&function ni(c){c.lowestObserverState!==tt.STALE&&(c.lowestObserverState=tt.STALE,c.observers.forEach(function(h){h.dependenciesState===tt.POSSIBLY_STALE?h.dependenciesState=tt.STALE:h.dependenciesState===tt.UP_TO_DATE&&(c.lowestObserverState=tt.UP_TO_DATE)}))}(this)):_(this)&&(this.warnAboutUntrackedRead(),Qn(),this.value=this.computeValue(!1),wn());var h=this.value;if(ne(h))throw h.cause;return h},c.prototype.peek=function(){var h=this.computeValue(!1);if(ne(h))throw h.cause;return h},c.prototype.set=function(h){if(this.setter){U(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else U(!1,!1)},c.prototype.trackAndCompute=function(){var h=this.value,S=this.dependenciesState===tt.NOT_TRACKING,L=this.computeValue(!0),ee=S||ne(h)||ne(L)||!this.equals(h,L);return ee&&(this.value=L),ee},c.prototype.computeValue=function(h){var S;if(this.isComputing=!0,Ot.computationDepth++,h)S=B(this,this.derivation,this.scope);else if(!0===Ot.disableErrorBoundaries)S=this.derivation.call(this.scope);else try{S=this.derivation.call(this.scope)}catch(L){S=new fe(L)}return Ot.computationDepth--,this.isComputing=!1,S},c.prototype.suspend=function(){this.keepAlive||(Xe(this),this.value=void 0)},c.prototype.observe=function(h,S){var L=this,ee=!0,he=void 0;return Yn(function(){var Me=L.get();if(!ee||S){var Ke=dt();h({type:"update",object:L,newValue:Me,oldValue:he}),Mt(Ke)}ee=!1,he=Me})},c.prototype.warnAboutUntrackedRead=function(){},c.prototype.toJSON=function(){return this.get()},c.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},c.prototype.valueOf=function(){return Pe(this.get())},c.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},c}(),Wr=Ee("ComputedValue",Nr),yr=function c(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ei={};function ho(){return typeof window<"u"?window:typeof v<"u"?v:typeof self<"u"?self:ei}var c,jo=!0,Lo=!1,Ot=((c=ho()).__mobxInstanceCount>0&&!c.__mobxGlobals&&(jo=!1),c.__mobxGlobals&&c.__mobxGlobals.version!==(new yr).version&&(jo=!1),jo?c.__mobxGlobals?(c.__mobxInstanceCount+=1,c.__mobxGlobals.UNCHANGED||(c.__mobxGlobals.UNCHANGED={}),c.__mobxGlobals):(c.__mobxInstanceCount=1,c.__mobxGlobals=new yr):(setTimeout(function(){Lo||R("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new yr));function zr(c,h){c.observers.add(h),c.lowestObserverState>h.dependenciesState&&(c.lowestObserverState=h.dependenciesState)}function Vn(c,h){c.observers.delete(h),0===c.observers.size&&Ai(c)}function Ai(c){!1===c.isPendingUnobservation&&(c.isPendingUnobservation=!0,Ot.pendingUnobservations.push(c))}function Qn(){Ot.inBatch++}function wn(){if(0==--Ot.inBatch){hn();for(var c=Ot.pendingUnobservations,h=0;h<c.length;h++){var S=c[h];S.isPendingUnobservation=!1,0===S.observers.size&&(S.isBeingObserved&&(S.isBeingObserved=!1,S.onBecomeUnobserved()),S instanceof Nr&&S.suspend())}Ot.pendingUnobservations=[]}}function dn(c){var h=Ot.trackingDerivation;return null!==h?(h.runId!==c.lastAccessedBy&&(c.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=c,c.isBeingObserved||(c.isBeingObserved=!0,c.onBecomeObserved())),!0):(0===c.observers.size&&Ot.inBatch>0&&Ai(c),!1)}function Ve(c,h){if(console.log("[mobx.trace] '"+c.name+"' is invalidated due to a change in: '"+h.name+"'"),c.isTracing===ye.BREAK){var S=[];N(Or(c),S,1),new Function("debugger;\n/*\nTracing '"+c.name+"'\n\nYou are entering this break point because derivation '"+c.name+"' is being traced and '"+h.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(c instanceof Nr?c.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+S.join("\n")+"\n*/\n    ")()}}function N(c,h,S){h.length>=1e3?h.push("(and many more)"):(h.push(""+new Array(S).join("\t")+c.name),c.dependencies&&c.dependencies.forEach(function(L){return N(L,h,S+1)}))}var te=function(){function c(h,S,L,ee){void 0===h&&(h="Reaction@"+F()),void 0===ee&&(ee=!1),this.name=h,this.onInvalidate=S,this.errorHandler=L,this.requiresObservable=ee,this.observing=[],this.newObserving=[],this.dependenciesState=tt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+F(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ye.NONE}return c.prototype.onBecomeStale=function(){this.schedule()},c.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ot.pendingReactions.push(this),hn())},c.prototype.isScheduled=function(){return this._isScheduled},c.prototype.runReaction=function(){if(!this.isDisposed){if(Qn(),this._isScheduled=!1,_(this)){this._isTrackPending=!0;try{this.onInvalidate()}catch(h){this.reportExceptionInDerivation(h)}}wn()}},c.prototype.track=function(h){if(!this.isDisposed){Qn(),this._isRunning=!0;var ee=B(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Xe(this),ne(ee)&&this.reportExceptionInDerivation(ee.cause),wn()}},c.prototype.reportExceptionInDerivation=function(h){var S=this;if(this.errorHandler)this.errorHandler(h,this);else{if(Ot.disableErrorBoundaries)throw h;var L="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ot.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(L,h),Ot.globalReactionErrorHandlers.forEach(function(ee){return ee(h,S)})}},c.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Qn(),Xe(this),wn()))},c.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[we]=this,h},c.prototype.toString=function(){return"Reaction["+this.name+"]"},c.prototype.trace=function(h){void 0===h&&(h=!1),function fi(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var S=!1;"boolean"==typeof c[c.length-1]&&(S=c.pop());var L=Tr(c);if(!L)return R(!1);L.isTracing===ye.NONE&&console.log("[mobx.trace] '"+L.name+"' tracing enabled"),L.isTracing=S?ye.BREAK:ye.LOG}(this,h)},c}(),Dt=function(c){return c()};function hn(){Ot.inBatch>0||Ot.isRunningReactions||Dt(qt)}function qt(){Ot.isRunningReactions=!0;for(var c=Ot.pendingReactions,h=0;c.length>0;){100==++h&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+c[0]),c.splice(0));for(var S=c.splice(0),L=0,ee=S.length;L<ee;L++)S[L].runReaction()}Ot.isRunningReactions=!1}var nn=Ee("Reaction",te);function mr(c){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ni(){R(!1)}function ri(c){return function(h,S,L){if(L){if(L.value)return{value:Hn(c,L.value),enumerable:!1,configurable:!0,writable:!0};var ee=L.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Hn(c,ee.call(this))}}}return Ea(c).apply(this,arguments)}}function Ea(c){return function(h,S,L){Object.defineProperty(h,S,{configurable:!0,enumerable:!1,get:function(){},set:function(ee){Te(this,S,br(c,ee))}})}}var br=function(h,S,L,ee){return 1===arguments.length&&"function"==typeof h?Hn(h.name||"<unnamed action>",h):2===arguments.length&&"function"==typeof S?Hn(h,S):1===arguments.length&&"string"==typeof h?ri(h):!0!==ee?ri(S).apply(null,arguments):void Te(h,S,Hn(h.name||S,L.value,this))};function Di(c,h){return Io("string"==typeof c?c:c.name||"<unnamed action>","function"==typeof c?c:h,this,void 0)}function Fo(c){return"function"==typeof c&&!0===c.isMobxAction}function ko(c,h,S){Te(c,h,Hn(h,S.bind(c)))}function Yn(c,h){void 0===h&&(h=D);var ee,S=h&&h.name||c.name||"Autorun@"+F();if(h.scheduler||h.delay){var he=Rn(h),Me=!1;ee=new te(S,function(){Me||(Me=!0,he(function(){Me=!1,ee.isDisposed||ee.track(Ke)}))},h.onError,h.requiresObservable)}else ee=new te(S,function(){this.track(Ke)},h.onError,h.requiresObservable);function Ke(){c(ee)}return ee.schedule(),ee.getDisposer()}br.bound=function zi(c,h,S,L){return!0===L?(ko(c,h,S.value),null):S?{configurable:!0,enumerable:!1,get:function(){return ko(this,h,S.value||S.initializer.call(this)),this[h]},set:Ni}:{enumerable:!1,configurable:!0,set:function(ee){ko(this,h,ee)},get:function(){}}};var oi=function(c){return c()};function Rn(c){return c.scheduler?c.scheduler:c.delay?function(h){return setTimeout(h,c.delay)}:oi}function Ii(c,h,S){void 0===S&&(S=D);var jt,L=S.name||"Reaction@"+F(),ee=br(L,S.onError?function Ri(c,h){return function(){try{return h.apply(this,arguments)}catch(S){c.call(this,S)}}}(S.onError,h):h),he=!S.scheduler&&!S.delay,Me=Rn(S),Ke=!0,ut=!1,Lt=S.compareStructural?zt.structural:S.equals||zt.default,rn=new te(L,function(){Ke||he?on():ut||(ut=!0,Me(on))},S.onError,S.requiresObservable);function on(){if(ut=!1,!rn.isDisposed){var pn=!1;rn.track(function(){var Tn=c(rn);pn=Ke||!Lt(jt,Tn),jt=Tn}),Ke&&S.fireImmediately&&ee(jt,rn),!Ke&&!0===pn&&ee(jt,rn),Ke&&(Ke=!1)}}return rn.schedule(),rn.getDisposer()}function Dr(c,h,S){return ji("onBecomeUnobserved",c,h,S)}function ji(c,h,S,L){var ee="function"==typeof L?z(h,S):z(h),he="function"==typeof L?L:S,Me=c+"Listeners";return ee[Me]?ee[Me].add(he):ee[Me]=new Set([he]),"function"!=typeof ee[c]?R(!1):function(){var ut=ee[Me];ut&&(ut.delete(he),0===ut.size&&delete ee[Me])}}function xa(c){var h=c.enforceActions,S=c.computedRequiresReaction,L=c.computedConfigurable,ee=c.disableErrorBoundaries,he=c.reactionScheduler,Me=c.reactionRequiresObservable,Ke=c.observableRequiresReaction;if(!0===c.isolateGlobalState&&function wi(){(Ot.pendingReactions.length||Ot.inBatch||Ot.isRunningReactions)&&R("isolateGlobalState should be called before MobX is running any reactions"),Lo=!0,jo&&(0==--ho().__mobxInstanceCount&&(ho().__mobxGlobals=void 0),Ot=new yr)}(),void 0!==h){var ut=void 0;switch(h){case!0:case"observed":ut=!0;break;case!1:case"never":ut=!1;break;case"strict":case"always":ut="strict";break;default:R("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}Ot.enforceActions=ut,Ot.allowStateChanges=!(!0===ut||"strict"===ut)}void 0!==S&&(Ot.computedRequiresReaction=!!S),void 0!==Me&&(Ot.reactionRequiresObservable=!!Me),void 0!==Ke&&(Ot.observableRequiresReaction=!!Ke,Ot.allowStateReads=!Ot.observableRequiresReaction),void 0!==L&&(Ot.computedConfigurable=!!L),void 0!==ee&&(!0===ee&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ot.disableErrorBoundaries=!!ee),he&&function gr(c){var h=Dt;Dt=function(S){return c(function(){return h(S)})}}(he)}function Li(c,h,S,L){var ee=Kr(L=Gt(L));return vt(c),Wi(c,L.name,ee.enhancer),h&&Go(c,h,S,ee),c}function Kr(c){return c.defaultDecorator||(!1===c.deep?Zt:Yt)}function Go(c,h,S,L){var Me,Ke;Qn();try{var rn=Je(h);try{for(var on=Ie(rn),pn=on.next();!pn.done;pn=on.next()){var ut=pn.value,Tn=Object.getOwnPropertyDescriptor(h,ut),Wn=(S&&ut in S?S[ut]:Tn.get?ve:L)(c,ut,Tn,!0);Wn&&Object.defineProperty(c,ut,Wn)}}catch(Da){Me={error:Da}}finally{try{pn&&!pn.done&&(Ke=on.return)&&Ke.call(on)}finally{if(Me)throw Me.error}}}finally{wn()}}function Or(c,h){return yo(z(c,h))}function yo(c){var h={name:c.name};return c.observing&&c.observing.length>0&&(h.dependencies=function de(c){var h=[];return c.forEach(function(S){-1===h.indexOf(S)&&h.push(S)}),h}(c.observing).map(yo)),h}var Er=0;function Ho(){this.message="FLOW_CANCELLED"}function Ir(c){1!==arguments.length&&R("Flow expects 1 argument and cannot be used as decorator");var h=c.name||"<unnamed flow>";return function(){var Me,S=this,L=arguments,ee=++Er,he=br(h+" - runid: "+ee+" - init",c).apply(S,L),Ke=void 0,ut=new Promise(function(jt,Lt){var rn=0;function on(zn){var Wn;Ke=void 0;try{Wn=br(h+" - runid: "+ee+" - yield "+rn++,he.next).call(he,zn)}catch(Vo){return Lt(Vo)}Tn(Wn)}function pn(zn){var Wn;Ke=void 0;try{Wn=br(h+" - runid: "+ee+" - yield "+rn++,he.throw).call(he,zn)}catch(Vo){return Lt(Vo)}Tn(Wn)}function Tn(zn){if(!zn||"function"!=typeof zn.then)return zn.done?jt(zn.value):(Ke=Promise.resolve(zn.value)).then(on,pn);zn.then(Tn,Lt)}Me=Lt,on(void 0)});return ut.cancel=br(h+" - runid: "+ee+" - cancel",function(){try{Ke&&Fi(Ke);var jt=he.return(void 0),Lt=Promise.resolve(jt.value);Lt.then(K,K),Fi(Lt),Me(new Ho)}catch(rn){Me(rn)}}),ut}}function Fi(c){"function"==typeof c.cancel&&c.cancel()}function go(c,h){if(null==c)return!1;if(void 0!==h){if(!1===w(c)||!c[we].values.has(h))return!1;var S=z(c,h);return Wr(S)}return Wr(c)}function si(c){return arguments.length>1?R(!1):go(c)}function mo(c,h){return"string"!=typeof h?R(!1):go(c,h)}function li(c,h){return null!=c&&(void 0!==h?!!w(c)&&c[we].values.has(h):w(c)||!!c[we]||it(c)||nn(c)||Wr(c))}function bo(c){return 1!==arguments.length&&R(!1),li(c)}function Zr(c){return w(c)?c[we].getKeys():Mn(c)||_n(c)?Array.from(c.keys()):mn(c)?c.map(function(h,S){return S}):R(!1)}function Oo(c){return w(c)?Zr(c).map(function(h){return c[h]}):Mn(c)?Zr(c).map(function(h){return c.get(h)}):_n(c)?Array.from(c.values()):mn(c)?c.slice():R(!1)}function xr(c){return w(c)?Zr(c).map(function(h){return[h,c[h]]}):Mn(c)?Zr(c).map(function(h){return[h,c.get(h)]}):_n(c)?Array.from(c.entries()):mn(c)?c.map(function(h,S){return[S,h]}):R(!1)}function ki(c,h,S){if(2!==arguments.length||_n(c))if(w(c)){var he=c[we];he.values.get(h)?he.write(h,S):he.addObservableProp(h,S,he.defaultEnhancer)}else if(Mn(c))c.set(h,S);else if(_n(c))c.add(h);else{if(!mn(c))return R(!1);"number"!=typeof h&&(h=parseInt(h,10)),U(h>=0,"Not a valid index: '"+h+"'"),Qn(),h>=c.length&&(c.length=h+1),c[h]=S,wn()}else{Qn();var L=h;try{for(var ee in L)ki(c,ee,L[ee])}finally{wn()}}}function ui(c,h,S,L){return"function"==typeof S?function Hi(c,h,S,L){return J(c,h).observe(S,L)}(c,h,S,L):function Ca(c,h,S){return J(c).observe(h,S)}(c,h,S)}Ho.prototype=Object.create(Error.prototype);var ci={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Jr(c,h,S,L){return L.detectCycles&&c.set(h,S),S}function Sr(c,h,S){if(!h.recurseEverything&&!bo(c)||"object"!=typeof c)return c;if(null===c)return null;if(c instanceof Date)return c;if(_o(c))return Sr(c.get(),h,S);if(bo(c)&&Zr(c),!0===h.detectCycles&&null!==c&&S.has(c))return S.get(c);if(mn(c)||Array.isArray(c)){var ee=Jr(S,c,[],h),he=c.map(function(pn){return Sr(pn,h,S)});ee.length=he.length;for(var Me=0,Ke=he.length;Me<Ke;Me++)ee[Me]=he[Me];return ee}if(_n(c)||Object.getPrototypeOf(c)===Set.prototype){if(!1===h.exportMapsAsObjects){var ut=Jr(S,c,new Set,h);return c.forEach(function(pn){ut.add(Sr(pn,h,S))}),ut}var jt=Jr(S,c,[],h);return c.forEach(function(pn){jt.push(Sr(pn,h,S))}),jt}if(Mn(c)||Object.getPrototypeOf(c)===Map.prototype){if(!1===h.exportMapsAsObjects){var Lt=Jr(S,c,new Map,h);return c.forEach(function(pn,Tn){Lt.set(Tn,Sr(pn,h,S))}),Lt}var rn=Jr(S,c,{},h);return c.forEach(function(pn,Tn){rn[Tn]=Sr(pn,h,S)}),rn}var on=Jr(S,c,{},h);return le(c).forEach(function(pn){on[pn]=Sr(c[pn],h,S)}),on}function Pa(c,h){var S;return"boolean"==typeof h&&(h={detectCycles:h}),h||(h=ci),h.detectCycles=void 0===h.detectCycles?!0===h.recurseEverything:!0===h.detectCycles,h.detectCycles&&(S=new Map),Sr(c,h,S)}function Tr(c){switch(c.length){case 0:return Ot.trackingDerivation;case 1:return z(c[0]);case 2:return z(c[0],c[1])}}function lr(c,h){void 0===h&&(h=void 0),Qn();try{return c.apply(h)}finally{wn()}}function Eo(c,h,S){return 1===arguments.length||h&&"object"==typeof h?Rr(c,h):Ui(c,h,S||{})}function Ui(c,h,S){var L;"number"==typeof S.timeout&&(L=setTimeout(function(){if(!he[we].isDisposed){he();var Me=new Error("WHEN_TIMEOUT");if(!S.onError)throw Me;S.onError(Me)}},S.timeout)),S.name=S.name||"When@"+F();var ee=Hn(S.name+"-effect",h),he=Yn(function(Me){c()&&(Me.dispose(),L&&clearTimeout(L),ee())},S);return he}function Rr(c,h){var S,L=new Promise(function(ee,he){var Me=Ui(c,ee,gt(gt({},h),{onError:he}));S=function(){Me(),he("WHEN_CANCELLED")}});return L.cancel=S,L}function di(c){return c[we]}function pi(c){return"string"==typeof c||"number"==typeof c||"symbol"==typeof c}var Vi={has:function(c,h){if(h===we||"constructor"===h||h===V)return!0;var S=di(c);return pi(h)?S.has(h):h in c},get:function(c,h){if(h===we||"constructor"===h||h===V)return c[h];var S=di(c),L=S.values.get(h);if(L instanceof Ye){var ee=L.get();return void 0===ee&&S.has(h),ee}return pi(h)&&S.has(h),c[h]},set:function(c,h,S){return!!pi(h)&&(ki(c,h,S),!0)},deleteProperty:function(c,h){return!!pi(h)&&(di(c).remove(h),!0)},ownKeys:function(c){return di(c).keysAtom.reportObserved(),Reflect.ownKeys(c)},preventExtensions:function(c){return R("Dynamic observable objects cannot be frozen"),!1}};function Uo(c){var h=new Proxy(c,Vi);return c[we].proxy=h,h}function ur(c){return void 0!==c.interceptors&&c.interceptors.length>0}function Qr(c,h){var S=c.interceptors||(c.interceptors=[]);return S.push(h),$(function(){var L=S.indexOf(h);-1!==L&&S.splice(L,1)})}function er(c,h){var S=dt();try{for(var L=Y(c.interceptors||[]),ee=0,he=L.length;ee<he&&(U(!(h=L[ee](h))||h.type,"Intercept handlers should return nothing or a change object"),h);ee++);return h}finally{Mt(S)}}function $n(c){return void 0!==c.changeListeners&&c.changeListeners.length>0}function xo(c,h){var S=c.changeListeners||(c.changeListeners=[]);return S.push(h),$(function(){var L=S.indexOf(h);-1!==L&&S.splice(L,1)})}function tr(c,h){var S=dt(),L=c.changeListeners;if(L){for(var ee=0,he=(L=L.slice()).length;ee<he;ee++)L[ee](h);Mt(S)}}var Ma={get:function(c,h){return h===we?c[we]:"length"===h?c[we].getArrayLength():"number"==typeof h?Cr.get.call(c,h):"string"!=typeof h||isNaN(h)?Cr.hasOwnProperty(h)?Cr[h]:c[h]:Cr.get.call(c,parseInt(h))},set:function(c,h,S){return"length"===h&&c[we].setArrayLength(S),"number"==typeof h&&Cr.set.call(c,h,S),"symbol"==typeof h||isNaN(h)?c[h]=S:Cr.set.call(c,parseInt(h),S),!0},preventExtensions:function(c){return R("Observable arrays cannot be frozen"),!1}};function Aa(c,h,S,L){void 0===S&&(S="ObservableArray@"+F()),void 0===L&&(L=!1);var ee=new hi(S,h,L);!function Ne(c,h,S){Object.defineProperty(c,h,{enumerable:!1,writable:!1,configurable:!0,value:S})}(ee.values,we,ee);var he=new Proxy(ee.values,Ma);if(ee.proxy=he,c&&c.length){var Me=$r(!0);ee.spliceWithArray(0,0,c),sr(Me)}return he}var hi=function(){function c(h,S,L){this.owned=L,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Ye(h||"ObservableArray@"+F()),this.enhancer=function(ee,he){return S(ee,he,h+"[..]")}}return c.prototype.dehanceValue=function(h){return void 0!==this.dehancer?this.dehancer(h):h},c.prototype.dehanceValues=function(h){return void 0!==this.dehancer&&h.length>0?h.map(this.dehancer):h},c.prototype.intercept=function(h){return Qr(this,h)},c.prototype.observe=function(h,S){return void 0===S&&(S=!1),S&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),xo(this,h)},c.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},c.prototype.setArrayLength=function(h){if("number"!=typeof h||h<0)throw new Error("[mobx.array] Out of range: "+h);var S=this.values.length;if(h!==S)if(h>S){for(var L=new Array(h-S),ee=0;ee<h-S;ee++)L[ee]=void 0;this.spliceWithArray(S,0,L)}else this.spliceWithArray(h,S-h)},c.prototype.updateArrayLength=function(h,S){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=S},c.prototype.spliceWithArray=function(h,S,L){var ee=this;T(this.atom);var he=this.values.length;if(void 0===h?h=0:h>he?h=he:h<0&&(h=Math.max(0,he+h)),S=1===arguments.length?he-h:null==S?0:Math.max(0,Math.min(S,he-h)),void 0===L&&(L=x),ur(this)){var Me=er(this,{object:this.proxy,type:"splice",index:h,removedCount:S,added:L});if(!Me)return x;S=Me.removedCount,L=Me.added}L=0===L.length?L:L.map(function(jt){return ee.enhancer(jt,void 0)});var ut=this.spliceItemsIntoValues(h,S,L);return(0!==S||0!==L.length)&&this.notifyArraySplice(h,L,ut),this.dehanceValues(ut)},c.prototype.spliceItemsIntoValues=function(h,S,L){var ee;if(L.length<1e4)return(ee=this.values).splice.apply(ee,Y([h,S],L));var he=this.values.slice(h,h+S);return this.values=this.values.slice(0,h).concat(L,this.values.slice(h+S)),he},c.prototype.notifyArrayChildUpdate=function(h,S,L){var ee=!this.owned&&!1,he=$n(this),Me=he||ee?{object:this.proxy,type:"update",index:h,newValue:S,oldValue:L}:null;this.atom.reportChanged(),he&&tr(this,Me)},c.prototype.notifyArraySplice=function(h,S,L){var ee=!this.owned&&!1,he=$n(this),Me=he||ee?{object:this.proxy,type:"splice",index:h,removed:L,added:S,removedCount:L.length,addedCount:S.length}:null;this.atom.reportChanged(),he&&tr(this,Me)},c}(),Cr={intercept:function(c){return this[we].intercept(c)},observe:function(c,h){return void 0===h&&(h=!1),this[we].observe(c,h)},clear:function(){return this.splice(0)},replace:function(c){var h=this[we];return h.spliceWithArray(0,h.values.length,c)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(c,h){for(var S=[],L=2;L<arguments.length;L++)S[L-2]=arguments[L];var ee=this[we];switch(arguments.length){case 0:return[];case 1:return ee.spliceWithArray(c);case 2:return ee.spliceWithArray(c,h)}return ee.spliceWithArray(c,h,S)},spliceWithArray:function(c,h,S){return this[we].spliceWithArray(c,h,S)},push:function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var S=this[we];return S.spliceWithArray(S.values.length,0,c),S.values.length},pop:function(){return this.splice(Math.max(this[we].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var S=this[we];return S.spliceWithArray(0,0,c),S.values.length},reverse:function(){var c=this.slice();return c.reverse.apply(c,arguments)},sort:function(c){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(c){var h=this[we],S=h.dehanceValues(h.values).indexOf(c);return S>-1&&(this.splice(S,1),!0)},get:function(c){var h=this[we];if(h){if(c<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[c]);console.warn("[mobx.array] Attempt to read an array index ("+c+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(c,h){var S=this[we],L=S.values;if(c<L.length){T(S.atom);var ee=L[c];if(ur(S)){var he=er(S,{type:"update",object:S.proxy,index:c,newValue:h});if(!he)return;h=he.newValue}(h=S.enhancer(h,ee))!==ee&&(L[c]=h,S.notifyArrayChildUpdate(c,h,ee))}else{if(c!==L.length)throw new Error("[mobx.array] Index out of bounds, "+c+" is larger than "+L.length);S.spliceWithArray(c,0,[h])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(c){"function"==typeof Array.prototype[c]&&(Cr[c]=function(){var h=this[we];h.atom.reportObserved();var S=h.dehanceValues(h.values);return S[c].apply(S,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(c){"function"==typeof Array.prototype[c]&&(Cr[c]=function(h,S){var L=this,ee=this[we];return ee.atom.reportObserved(),ee.dehanceValues(ee.values)[c](function(Me,Ke){return h.call(S,Me,Ke,L)},S)})}),["reduce","reduceRight"].forEach(function(c){Cr[c]=function(){var h=this,S=this[we];S.atom.reportObserved();var L=arguments[0];return arguments[0]=function(ee,he,Me){return he=S.dehanceValue(he),L(ee,he,Me,h)},S.values[c].apply(S.values,arguments)}});var Na=Ee("ObservableArrayAdministration",hi);function mn(c){return se(c)&&Na(c[we])}var Yi,Co,So={},To=function(){function c(h,S,L){if(void 0===S&&(S=Le),void 0===L&&(L="ObservableMap@"+F()),this.enhancer=S,this.name=L,this[Yi]=So,this._keysAtom=ot(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return c.prototype._has=function(h){return this._data.has(h)},c.prototype.has=function(h){var S=this;if(!Ot.trackingDerivation)return this._has(h);var L=this._hasMap.get(h);if(!L){var ee=L=new Un(this._has(h),yt,this.name+"."+be(h)+"?",!1);this._hasMap.set(h,ee),Dr(ee,function(){return S._hasMap.delete(h)})}return L.get()},c.prototype.set=function(h,S){var L=this._has(h);if(ur(this)){var ee=er(this,{type:L?"update":"add",object:this,newValue:S,name:h});if(!ee)return this;S=ee.newValue}return L?this._updateValue(h,S):this._addValue(h,S),this},c.prototype.delete=function(h){var S=this;if(T(this._keysAtom),ur(this)&&!(L=er(this,{type:"delete",object:this,name:h})))return!1;if(this._has(h)){var he=$n(this),L=he?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return lr(function(){S._keysAtom.reportChanged(),S._updateHasMapEntry(h,!1),S._data.get(h).setNewValue(void 0),S._data.delete(h)}),he&&tr(this,L),!0}return!1},c.prototype._updateHasMapEntry=function(h,S){var L=this._hasMap.get(h);L&&L.setNewValue(S)},c.prototype._updateValue=function(h,S){var L=this._data.get(h);if((S=L.prepareNewValue(S))!==Ot.UNCHANGED){var he=$n(this),Me=he?{type:"update",object:this,oldValue:L.value,name:h,newValue:S}:null;L.setNewValue(S),he&&tr(this,Me)}},c.prototype._addValue=function(h,S){var L=this;T(this._keysAtom),lr(function(){var Ke=new Un(S,L.enhancer,L.name+"."+be(h),!1);L._data.set(h,Ke),S=Ke.value,L._updateHasMapEntry(h,!0),L._keysAtom.reportChanged()});var he=$n(this);he&&tr(this,he?{type:"add",object:this,name:h,newValue:S}:null)},c.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},c.prototype.dehanceValue=function(h){return void 0!==this.dehancer?this.dehancer(h):h},c.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},c.prototype.values=function(){var h=this,S=this.keys();return wt({next:function(){var L=S.next(),ee=L.done;return{done:ee,value:ee?void 0:h.get(L.value)}}})},c.prototype.entries=function(){var h=this,S=this.keys();return wt({next:function(){var L=S.next(),ee=L.done,he=L.value;return{done:ee,value:ee?void 0:[he,h.get(he)]}}})},c.prototype[(Yi=we,Symbol.iterator)]=function(){return this.entries()},c.prototype.forEach=function(h,S){var L,ee;try{for(var he=Ie(this),Me=he.next();!Me.done;Me=he.next()){var Ke=re(Me.value,2);h.call(S,Ke[1],Ke[0],this)}}catch(Lt){L={error:Lt}}finally{try{Me&&!Me.done&&(ee=he.return)&&ee.call(he)}finally{if(L)throw L.error}}},c.prototype.merge=function(h){var S=this;return Mn(h)&&(h=h.toJS()),lr(function(){var L=$r(!0);try{ie(h)?le(h).forEach(function(ee){return S.set(ee,h[ee])}):Array.isArray(h)?h.forEach(function(ee){var he=re(ee,2);return S.set(he[0],he[1])}):W(h)?(h.constructor!==Map&&R("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(ee,he){return S.set(he,ee)})):null!=h&&R("Cannot initialize map from "+h)}finally{sr(L)}}),this},c.prototype.clear=function(){var h=this;lr(function(){ft(function(){var S,L;try{for(var ee=Ie(h.keys()),he=ee.next();!he.done;he=ee.next())h.delete(he.value)}catch(Ke){S={error:Ke}}finally{try{he&&!he.done&&(L=ee.return)&&L.call(ee)}finally{if(S)throw S.error}}})})},c.prototype.replace=function(h){var S=this;return lr(function(){var L,ee,he,Me,Ke=function Ae(c){if(W(c)||Mn(c))return c;if(Array.isArray(c))return new Map(c);if(ie(c)){var h=new Map;for(var S in c)h.set(S,c[S]);return h}return R("Cannot convert to map from '"+c+"'")}(h),ut=new Map,jt=!1;try{for(var Lt=Ie(S._data.keys()),rn=Lt.next();!rn.done;rn=Lt.next())if(!Ke.has(on=rn.value))if(S.delete(on))jt=!0;else{var Tn=S._data.get(on);ut.set(on,Tn)}}catch(Ra){L={error:Ra}}finally{try{rn&&!rn.done&&(ee=Lt.return)&&ee.call(Lt)}finally{if(L)throw L.error}}try{for(var zn=Ie(Ke.entries()),Wn=zn.next();!Wn.done;Wn=zn.next()){var on,Vo=re(Wn.value,2),Da=(Tn=Vo[1],S._data.has(on=Vo[0]));if(S.set(on,Tn),S._data.has(on)){var Yu=S._data.get(on);ut.set(on,Yu),Da||(jt=!0)}}}catch(Ra){he={error:Ra}}finally{try{Wn&&!Wn.done&&(Me=zn.return)&&Me.call(zn)}finally{if(he)throw he.error}}if(!jt)if(S._data.size!==ut.size)S._keysAtom.reportChanged();else for(var ls=S._data.keys(),us=ut.keys(),Ia=ls.next(),cs=us.next();!Ia.done;){if(Ia.value!==cs.value){S._keysAtom.reportChanged();break}Ia=ls.next(),cs=us.next()}S._data=ut}),this},Object.defineProperty(c.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),c.prototype.toPOJO=function(){var h,S,L={};try{for(var ee=Ie(this),he=ee.next();!he.done;he=ee.next()){var Me=re(he.value,2),Ke=Me[0],ut=Me[1];L["symbol"==typeof Ke?Ke:be(Ke)]=ut}}catch(jt){h={error:jt}}finally{try{he&&!he.done&&(S=ee.return)&&S.call(ee)}finally{if(h)throw h.error}}return L},c.prototype.toJS=function(){return new Map(this)},c.prototype.toJSON=function(){return this.toPOJO()},c.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(S){return be(S)+": "+h.get(S)}).join(", ")+" }]"},c.prototype.observe=function(h,S){return xo(this,h)},c.prototype.intercept=function(h){return Qr(this,h)},c}(),Mn=Ee("ObservableMap",To),za={},Pr=function(){function c(h,S,L){if(void 0===S&&(S=Le),void 0===L&&(L="ObservableSet@"+F()),this.name=L,this[Co]=za,this._data=new Set,this._atom=ot(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(ee,he){return S(ee,he,L)},h&&this.replace(h)}return c.prototype.dehanceValue=function(h){return void 0!==this.dehancer?this.dehancer(h):h},c.prototype.clear=function(){var h=this;lr(function(){ft(function(){var S,L;try{for(var ee=Ie(h._data.values()),he=ee.next();!he.done;he=ee.next())h.delete(he.value)}catch(Ke){S={error:Ke}}finally{try{he&&!he.done&&(L=ee.return)&&L.call(ee)}finally{if(S)throw S.error}}})})},c.prototype.forEach=function(h,S){var L,ee;try{for(var he=Ie(this),Me=he.next();!Me.done;Me=he.next()){var Ke=Me.value;h.call(S,Ke,Ke,this)}}catch(ut){L={error:ut}}finally{try{Me&&!Me.done&&(ee=he.return)&&ee.call(he)}finally{if(L)throw L.error}}},Object.defineProperty(c.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),c.prototype.add=function(h){var S=this;if(T(this._atom),ur(this)&&!(L=er(this,{type:"add",object:this,newValue:h})))return this;if(!this.has(h)){lr(function(){S._data.add(S.enhancer(h,void 0)),S._atom.reportChanged()});var he=$n(this),L=he?{type:"add",object:this,newValue:h}:null;he&&tr(this,L)}return this},c.prototype.delete=function(h){var S=this;if(ur(this)&&!(L=er(this,{type:"delete",object:this,oldValue:h})))return!1;if(this.has(h)){var he=$n(this),L=he?{type:"delete",object:this,oldValue:h}:null;return lr(function(){S._atom.reportChanged(),S._data.delete(h)}),he&&tr(this,L),!0}return!1},c.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},c.prototype.entries=function(){var h=0,S=Array.from(this.keys()),L=Array.from(this.values());return wt({next:function(){var ee=h;return h+=1,ee<L.length?{value:[S[ee],L[ee]],done:!1}:{done:!0}}})},c.prototype.keys=function(){return this.values()},c.prototype.values=function(){this._atom.reportObserved();var h=this,S=0,L=Array.from(this._data.values());return wt({next:function(){return S<L.length?{value:h.dehanceValue(L[S++]),done:!1}:{done:!0}}})},c.prototype.replace=function(h){var S=this;return _n(h)&&(h=h.toJS()),lr(function(){var L=$r(!0);try{Array.isArray(h)||k(h)?(S.clear(),h.forEach(function(ee){return S.add(ee)})):null!=h&&R("Cannot initialize set from "+h)}finally{sr(L)}}),this},c.prototype.observe=function(h,S){return xo(this,h)},c.prototype.intercept=function(h){return Qr(this,h)},c.prototype.toJS=function(){return new Set(this)},c.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},c.prototype[(Co=we,Symbol.iterator)]=function(){return this.values()},c}(),_n=Ee("ObservableSet",Pr),$i=function(){function c(h,S,L,ee){void 0===S&&(S=new Map),this.target=h,this.values=S,this.name=L,this.defaultEnhancer=ee,this.keysAtom=new Ye(L+".keys")}return c.prototype.read=function(h){return this.values.get(h).get()},c.prototype.write=function(h,S){var L=this.target,ee=this.values.get(h);if(ee instanceof Nr)ee.set(S);else{if(ur(this)){if(!(he=er(this,{type:"update",object:this.proxy||L,name:h,newValue:S})))return;S=he.newValue}if((S=ee.prepareNewValue(S))!==Ot.UNCHANGED){var Me=$n(this),he=Me?{type:"update",object:this.proxy||L,oldValue:ee.value,name:h,newValue:S}:null;ee.setNewValue(S),Me&&tr(this,he)}}},c.prototype.has=function(h){var S=this.pendingKeys||(this.pendingKeys=new Map),L=S.get(h);if(L)return L.get();var ee=!!this.values.get(h);return L=new Un(ee,yt,this.name+"."+be(h)+"?",!1),S.set(h,L),L.get()},c.prototype.addObservableProp=function(h,S,L){void 0===L&&(L=this.defaultEnhancer);var ee=this.target;if(ur(this)){var he=er(this,{object:this.proxy||ee,name:h,type:"add",newValue:S});if(!he)return;S=he.newValue}var Me=new Un(S,L,this.name+"."+be(h),!1);this.values.set(h,Me),S=Me.value,Object.defineProperty(ee,h,function s(c){return y[c]||(y[c]={configurable:!0,enumerable:!0,get:function(){return this[we].read(c)},set:function(h){this[we].write(c,h)}})}(h)),this.notifyPropertyAddition(h,S)},c.prototype.addComputedProp=function(h,S,L){var ee=this.target;L.name=L.name||this.name+"."+be(S),this.values.set(S,new Nr(L)),(h===ee||function Se(c,h){var S=Object.getOwnPropertyDescriptor(c,h);return!S||!1!==S.configurable&&!1!==S.writable}(h,S))&&Object.defineProperty(h,S,function g(c){return f[c]||(f[c]={configurable:Ot.computedConfigurable,enumerable:!1,get:function(){return p(this).read(c)},set:function(h){p(this).write(c,h)}})}(S))},c.prototype.remove=function(h){if(this.values.has(h)){var S=this.target;if(ur(this)&&!(L=er(this,{object:this.proxy||S,name:h,type:"remove"})))return;try{Qn();var ee=$n(this),Me=this.values.get(h),Ke=Me&&Me.get();if(Me&&Me.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var ut=this.pendingKeys.get(h);ut&&ut.set(!1)}delete this.target[h];var L=ee?{type:"remove",object:this.proxy||S,oldValue:Ke,name:h}:null;ee&&tr(this,L)}finally{wn()}}},c.prototype.illegalAccess=function(h,S){console.warn("Property '"+S+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},c.prototype.observe=function(h,S){return xo(this,h)},c.prototype.intercept=function(h){return Qr(this,h)},c.prototype.notifyPropertyAddition=function(h,S){var L=$n(this);if(L&&tr(this,L?{type:"add",object:this.proxy||this.target,name:h,newValue:S}:null),this.pendingKeys){var Me=this.pendingKeys.get(h);Me&&Me.set(!0)}this.keysAtom.reportChanged()},c.prototype.getKeys=function(){var h,S;this.keysAtom.reportObserved();var L=[];try{for(var ee=Ie(this.values),he=ee.next();!he.done;he=ee.next()){var Me=re(he.value,2);Me[1]instanceof Un&&L.push(Me[0])}}catch(jt){h={error:jt}}finally{try{he&&!he.done&&(S=ee.return)&&S.call(ee)}finally{if(h)throw h.error}}return L},c}();function Wi(c,h,S){if(void 0===h&&(h=""),void 0===S&&(S=Le),Object.prototype.hasOwnProperty.call(c,we))return c[we];ie(c)||(h=(c.constructor.name||"ObservableObject")+"@"+F()),h||(h="ObservableObject@"+F());var L=new $i(c,new Map,be(h),S);return Te(c,we,L),L}var y=Object.create(null),f=Object.create(null);function p(c){return c[we]||(vt(c),c[we])}var O=Ee("ObservableObjectAdministration",$i);function w(c){return!!se(c)&&(vt(c),O(c[we]))}function z(c,h){if("object"==typeof c&&null!==c){if(mn(c))return void 0!==h&&R(!1),c[we].atom;if(_n(c))return c[we];if(Mn(c)){var S=c;return void 0===h?S._keysAtom:((L=S._data.get(h)||S._hasMap.get(h))||R(!1),L)}var L;if(vt(c),w(c))return h?((L=c[we].values.get(h))||R(!1),L):R(!1);if(it(c)||Wr(c)||nn(c))return c}else if("function"==typeof c&&nn(c[we]))return c[we];return R(!1)}function J(c,h){return c||R("Expecting some object"),void 0!==h?J(z(c,h)):it(c)||Wr(c)||nn(c)||Mn(c)||_n(c)?c:(vt(c),c[we]?c[we]:void R(!1))}var Q=Object.prototype.toString;function ke(c,h,S){return void 0===S&&(S=-1),_e(c,h,S)}function _e(c,h,S,L,ee){if(c===h)return 0!==c||1/c==1/h;if(null==c||null==h)return!1;if(c!=c)return h!=h;var he=typeof c;if("function"!==he&&"object"!==he&&"object"!=typeof h)return!1;var Me=Q.call(c);if(Me!==Q.call(h))return!1;switch(Me){case"[object RegExp]":case"[object String]":return""+c==""+h;case"[object Number]":return+c!=+c?+h!=+h:0==+c?1/+c==1/h:+c==+h;case"[object Date]":case"[object Boolean]":return+c==+h;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(c)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":S>=0&&S++}c=He(c),h=He(h);var Ke="[object Array]"===Me;if(!Ke){if("object"!=typeof c||"object"!=typeof h)return!1;var ut=c.constructor,jt=h.constructor;if(ut!==jt&&!("function"==typeof ut&&ut instanceof ut&&"function"==typeof jt&&jt instanceof jt)&&"constructor"in c&&"constructor"in h)return!1}if(0===S)return!1;S<0&&(S=-1),ee=ee||[];for(var Lt=(L=L||[]).length;Lt--;)if(L[Lt]===c)return ee[Lt]===h;if(L.push(c),ee.push(h),Ke){if((Lt=c.length)!==h.length)return!1;for(;Lt--;)if(!_e(c[Lt],h[Lt],S-1,L,ee))return!1}else{var rn=Object.keys(c),on=void 0;if(Lt=rn.length,Object.keys(h).length!==Lt)return!1;for(;Lt--;)if(!et(h,on=rn[Lt])||!_e(c[on],h[on],S-1,L,ee))return!1}return L.pop(),ee.pop(),!0}function He(c){return mn(c)?c.slice():W(c)||Mn(c)||k(c)||_n(c)?Array.from(c.entries()):c}function et(c,h){return Object.prototype.hasOwnProperty.call(c,h)}function wt(c){return c[Symbol.iterator]=Tt,c}function Tt(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:mr,extras:{getDebugName:function ce(c,h){return(void 0!==h?z(c,h):w(c)||Mn(c)||_n(c)?J(c):z(c)).name}},$mobx:we})}).call(this,a(155),a(82))},function(C,u,a){"use strict";a.d(u,"a",function(){return Ne}),a.d(u,"b",function(){return Te}),a.d(u,"c",function(){return gt}),a.d(u,"d",function(){return Ie}),a.d(u,"e",function(){return se}),a.d(u,"f",function(){return Ae}),a.d(u,"g",function(){return se}),a.d(u,"h",function(){return Et}),a.d(u,"i",function(){return v}),a.d(u,"j",function(){return Qe}),a.d(u,"k",function(){return le});var E,v,b,D,F,R,U,G={},X=[],$=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function K(re,Y){for(var V in Y)re[V]=Y[V];return re}function de(re){var Y=re.parentNode;Y&&Y.removeChild(re)}function se(re,Y,V){var ge,Oe,xe,ct={};for(xe in Y)"key"==xe?ge=Y[xe]:"ref"==xe?Oe=Y[xe]:ct[xe]=Y[xe];if(arguments.length>2&&(ct.children=arguments.length>3?E.call(arguments,2):V),"function"==typeof re&&null!=re.defaultProps)for(xe in re.defaultProps)void 0===ct[xe]&&(ct[xe]=re.defaultProps[xe]);return ie(re,ct,ge,Oe,null)}function ie(re,Y,V,ge,Oe){var xe={type:re,props:Y,key:V,ref:ge,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Oe??++b};return null==Oe&&null!=v.vnode&&v.vnode(xe),xe}function Ae(){return{current:null}}function Te(re){return re.children}function Ne(re,Y){this.props=re,this.context=Y}function Se(re,Y){if(null==Y)return re.__?Se(re.__,re.__.__k.indexOf(re)+1):null;for(var V;Y<re.__k.length;Y++)if(null!=(V=re.__k[Y])&&null!=V.__e)return V.__e;return"function"==typeof re.type?Se(re):null}function ze(re){var Y,V;if(null!=(re=re.__)&&null!=re.__c){for(re.__e=re.__c.base=null,Y=0;Y<re.__k.length;Y++)if(null!=(V=re.__k[Y])&&null!=V.__e){re.__e=re.__c.base=V.__e;break}return ze(re)}}function Ee(re){(!re.__d&&(re.__d=!0)&&D.push(re)&&!pe.__r++||R!==v.debounceRendering)&&((R=v.debounceRendering)||F)(pe)}function pe(){for(var re;pe.__r=D.length;)re=D.sort(function(Y,V){return Y.__v.__b-V.__v.__b}),D=[],re.some(function(Y){var V,ge,Oe,xe,ct,vt;Y.__d&&(ct=(xe=(V=Y).__v).__e,(vt=V.__P)&&(ge=[],(Oe=K({},xe)).__v=xe.__v+1,ot(vt,xe,Oe,V.__n,void 0!==vt.ownerSVGElement,null!=xe.__h?[ct]:null,ge,ct??Se(xe),xe.__h),at(ge,xe),xe.__e!=ct&&ze(xe)))})}function W(re,Y,V,ge,Oe,xe,ct,vt,Ct,Nt){var Le,Rt,yt,xt,Pt,Ut,$t,Gt=ge&&ge.__k||X,Yt=Gt.length;for(V.__k=[],Le=0;Le<Y.length;Le++)if(null!=(xt=V.__k[Le]=null==(xt=Y[Le])||"boolean"==typeof xt?null:"string"==typeof xt||"number"==typeof xt||"bigint"==typeof xt?ie(null,xt,null,null,xt):Array.isArray(xt)?ie(Te,{children:xt},null,null,null):xt.__b>0?ie(xt.type,xt.props,xt.key,null,xt.__v):xt)){if(xt.__=V,xt.__b=V.__b+1,null===(yt=Gt[Le])||yt&&xt.key==yt.key&&xt.type===yt.type)Gt[Le]=void 0;else for(Rt=0;Rt<Yt;Rt++){if((yt=Gt[Rt])&&xt.key==yt.key&&xt.type===yt.type){Gt[Rt]=void 0;break}yt=null}ot(re,xt,yt=yt||G,Oe,xe,ct,vt,Ct,Nt),Pt=xt.__e,(Rt=xt.ref)&&yt.ref!=Rt&&($t||($t=[]),yt.ref&&$t.push(yt.ref,null,xt),$t.push(Rt,xt.__c||Pt,xt)),null!=Pt?(null==Ut&&(Ut=Pt),"function"==typeof xt.type&&xt.__k===yt.__k?xt.__d=Ct=k(xt,Ct,re):Ct=be(re,xt,yt,Gt,Pt,Ct),"function"==typeof V.type&&(V.__d=Ct)):Ct&&yt.__e==Ct&&Ct.parentNode!=re&&(Ct=Se(yt))}for(V.__e=Ut,Le=Yt;Le--;)null!=Gt[Le]&&("function"==typeof V.type&&null!=Gt[Le].__e&&Gt[Le].__e==V.__d&&(V.__d=Se(ge,Le+1)),It(Gt[Le],Gt[Le]));if($t)for(Le=0;Le<$t.length;Le++)St($t[Le],$t[++Le],$t[++Le])}function k(re,Y,V){for(var ge,Oe=re.__k,xe=0;Oe&&xe<Oe.length;xe++)(ge=Oe[xe])&&(ge.__=re,Y="function"==typeof ge.type?k(ge,Y,V):be(V,ge,ge,Oe,ge.__e,Y));return Y}function le(re,Y){return Y=Y||[],null==re||"boolean"==typeof re||(Array.isArray(re)?re.some(function(V){le(V,Y)}):Y.push(re)),Y}function be(re,Y,V,ge,Oe,xe){var ct,vt,Ct;if(void 0!==Y.__d)ct=Y.__d,Y.__d=void 0;else if(null==V||Oe!=xe||null==Oe.parentNode)e:if(null==xe||xe.parentNode!==re)re.appendChild(Oe),ct=null;else{for(vt=xe,Ct=0;(vt=vt.nextSibling)&&Ct<ge.length;Ct+=2)if(vt==Oe)break e;re.insertBefore(Oe,xe),ct=xe}return void 0!==ct?ct:Oe.nextSibling}function Je(re,Y,V){"-"===Y[0]?re.setProperty(Y,V):re[Y]=null==V?"":"number"!=typeof V||$.test(Y)?V:V+"px"}function we(re,Y,V,ge,Oe){var xe;e:if("style"===Y)if("string"==typeof V)re.style.cssText=V;else{if("string"==typeof ge&&(re.style.cssText=ge=""),ge)for(Y in ge)V&&Y in V||Je(re.style,Y,"");if(V)for(Y in V)ge&&V[Y]===ge[Y]||Je(re.style,Y,V[Y])}else if("o"===Y[0]&&"n"===Y[1])xe=Y!==(Y=Y.replace(/Capture$/,"")),Y=Y.toLowerCase()in re?Y.toLowerCase().slice(2):Y.slice(2),re.l||(re.l={}),re.l[Y+xe]=V,V?ge||re.addEventListener(Y,xe?it:Ye,xe):re.removeEventListener(Y,xe?it:Ye,xe);else if("dangerouslySetInnerHTML"!==Y){if(Oe)Y=Y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==Y&&"list"!==Y&&"form"!==Y&&"tabIndex"!==Y&&"download"!==Y&&Y in re)try{re[Y]=V??"";break e}catch{}"function"==typeof V||(null!=V&&(!1!==V||"a"===Y[0]&&"r"===Y[1])?re.setAttribute(Y,V):re.removeAttribute(Y))}}function Ye(re){this.l[re.type+!1](v.event?v.event(re):re)}function it(re){this.l[re.type+!0](v.event?v.event(re):re)}function ot(re,Y,V,ge,Oe,xe,ct,vt,Ct){var Nt,Le,Rt,yt,xt,Pt,Ut,$t,Gt,Yt,sn,Zt=Y.type;if(void 0!==Y.constructor)return null;null!=V.__h&&(Ct=V.__h,vt=Y.__e=V.__e,Y.__h=null,xe=[vt]),(Nt=v.__b)&&Nt(Y);try{e:if("function"==typeof Zt){if($t=Y.props,Gt=(Nt=Zt.contextType)&&ge[Nt.__c],Yt=Nt?Gt?Gt.props.value:Nt.__:ge,V.__c?Ut=(Le=Y.__c=V.__c).__=Le.__E:("prototype"in Zt&&Zt.prototype.render?Y.__c=Le=new Zt($t,Yt):(Y.__c=Le=new Ne($t,Yt),Le.constructor=Zt,Le.render=zt),Gt&&Gt.sub(Le),Le.props=$t,Le.state||(Le.state={}),Le.context=Yt,Le.__n=ge,Rt=Le.__d=!0,Le.__h=[]),null==Le.__s&&(Le.__s=Le.state),null!=Zt.getDerivedStateFromProps&&(Le.__s==Le.state&&(Le.__s=K({},Le.__s)),K(Le.__s,Zt.getDerivedStateFromProps($t,Le.__s))),yt=Le.props,xt=Le.state,Rt)null==Zt.getDerivedStateFromProps&&null!=Le.componentWillMount&&Le.componentWillMount(),null!=Le.componentDidMount&&Le.__h.push(Le.componentDidMount);else{if(null==Zt.getDerivedStateFromProps&&$t!==yt&&null!=Le.componentWillReceiveProps&&Le.componentWillReceiveProps($t,Yt),!Le.__e&&null!=Le.shouldComponentUpdate&&!1===Le.shouldComponentUpdate($t,Le.__s,Yt)||Y.__v===V.__v){Le.props=$t,Le.state=Le.__s,Y.__v!==V.__v&&(Le.__d=!1),Le.__v=Y,Y.__e=V.__e,Y.__k=V.__k,Y.__k.forEach(function(un){un&&(un.__=Y)}),Le.__h.length&&ct.push(Le);break e}null!=Le.componentWillUpdate&&Le.componentWillUpdate($t,Le.__s,Yt),null!=Le.componentDidUpdate&&Le.__h.push(function(){Le.componentDidUpdate(yt,xt,Pt)})}Le.context=Yt,Le.props=$t,Le.state=Le.__s,(Nt=v.__r)&&Nt(Y),Le.__d=!1,Le.__v=Y,Le.__P=re,Nt=Le.render(Le.props,Le.state,Le.context),Le.state=Le.__s,null!=Le.getChildContext&&(ge=K(K({},ge),Le.getChildContext())),Rt||null==Le.getSnapshotBeforeUpdate||(Pt=Le.getSnapshotBeforeUpdate(yt,xt)),sn=null!=Nt&&Nt.type===Te&&null==Nt.key?Nt.props.children:Nt,W(re,Array.isArray(sn)?sn:[sn],Y,V,ge,Oe,xe,ct,vt,Ct),Le.base=Y.__e,Y.__h=null,Le.__h.length&&ct.push(Le),Ut&&(Le.__E=Le.__=null),Le.__e=!1}else null==xe&&Y.__v===V.__v?(Y.__k=V.__k,Y.__e=V.__e):Y.__e=function ht(re,Y,V,ge,Oe,xe,ct,vt){var Ct,Nt,Le,Rt=V.props,yt=Y.props,xt=Y.type,Pt=0;if("svg"===xt&&(Oe=!0),null!=xe)for(;Pt<xe.length;Pt++)if((Ct=xe[Pt])&&"setAttribute"in Ct==!!xt&&(xt?Ct.localName===xt:3===Ct.nodeType)){re=Ct,xe[Pt]=null;break}if(null==re){if(null===xt)return document.createTextNode(yt);re=Oe?document.createElementNS("http://www.w3.org/2000/svg",xt):document.createElement(xt,yt.is&&yt),xe=null,vt=!1}if(null===xt)Rt===yt||vt&&re.data===yt||(re.data=yt);else{if(xe=xe&&E.call(re.childNodes),Nt=(Rt=V.props||G).dangerouslySetInnerHTML,Le=yt.dangerouslySetInnerHTML,!vt){if(null!=xe)for(Rt={},Pt=0;Pt<re.attributes.length;Pt++)Rt[re.attributes[Pt].name]=re.attributes[Pt].value;(Le||Nt)&&(Le&&(Nt&&Le.__html==Nt.__html||Le.__html===re.innerHTML)||(re.innerHTML=Le&&Le.__html||""))}if(function Pe(re,Y,V,ge,Oe){var xe;for(xe in V)"children"===xe||"key"===xe||xe in Y||we(re,xe,null,V[xe],ge);for(xe in Y)Oe&&"function"!=typeof Y[xe]||"children"===xe||"key"===xe||"value"===xe||"checked"===xe||V[xe]===Y[xe]||we(re,xe,Y[xe],V[xe],ge)}(re,yt,Rt,Oe,vt),Le)Y.__k=[];else if(Pt=Y.props.children,W(re,Array.isArray(Pt)?Pt:[Pt],Y,V,ge,Oe&&"foreignObject"!==xt,xe,ct,xe?xe[0]:V.__k&&Se(V,0),vt),null!=xe)for(Pt=xe.length;Pt--;)null!=xe[Pt]&&de(xe[Pt]);vt||("value"in yt&&void 0!==(Pt=yt.value)&&(Pt!==Rt.value||Pt!==re.value||"progress"===xt&&!Pt)&&we(re,"value",Pt,Rt.value,!1),"checked"in yt&&void 0!==(Pt=yt.checked)&&Pt!==re.checked&&we(re,"checked",Pt,Rt.checked,!1))}return re}(V.__e,Y,V,ge,Oe,xe,ct,Ct);(Nt=v.diffed)&&Nt(Y)}catch(un){Y.__v=null,(Ct||null!=xe)&&(Y.__e=vt,Y.__h=!!Ct,xe[xe.indexOf(vt)]=null),v.__e(un,Y,V)}}function at(re,Y){v.__c&&v.__c(Y,re),re.some(function(V){try{re=V.__h,V.__h=[],re.some(function(ge){ge.call(V)})}catch(ge){v.__e(ge,V.__v)}})}function St(re,Y,V){try{"function"==typeof re?re(Y):re.current=Y}catch(ge){v.__e(ge,V)}}function It(re,Y,V){var ge,Oe;if(v.unmount&&v.unmount(re),(ge=re.ref)&&(ge.current&&ge.current!==re.__e||St(ge,null,Y)),null!=(ge=re.__c)){if(ge.componentWillUnmount)try{ge.componentWillUnmount()}catch(xe){v.__e(xe,Y)}ge.base=ge.__P=null}if(ge=re.__k)for(Oe=0;Oe<ge.length;Oe++)ge[Oe]&&It(ge[Oe],Y,"function"!=typeof re.type);V||null==re.__e||de(re.__e),re.__e=re.__d=void 0}function zt(re,Y,V){return this.constructor(re,V)}function Qe(re,Y,V){var ge,Oe,xe;v.__&&v.__(re,Y),Oe=(ge="function"==typeof V)?null:V&&V.__k||Y.__k,xe=[],ot(Y,re=(!ge&&V||Y).__k=se(Te,null,[re]),Oe||G,G,void 0!==Y.ownerSVGElement,!ge&&V?[V]:Oe?null:Y.firstChild?E.call(Y.childNodes):null,xe,!ge&&V?V:Oe?Oe.__e:Y.firstChild,ge),at(xe,re)}function Et(re,Y){Qe(re,Y,Et)}function gt(re,Y,V){var ge,Oe,xe,ct=K({},re.props);for(xe in Y)"key"==xe?ge=Y[xe]:"ref"==xe?Oe=Y[xe]:ct[xe]=Y[xe];return arguments.length>2&&(ct.children=arguments.length>3?E.call(arguments,2):V),ie(re.type,ct,ge||re.key,Oe||re.ref,null)}function Ie(re,Y){var V={__c:Y="__cC"+U++,__:re,Consumer:function(ge,Oe){return ge.children(Oe)},Provider:function(ge){var Oe,xe;return this.getChildContext||(Oe=[],(xe={})[Y]=this,this.getChildContext=function(){return xe},this.shouldComponentUpdate=function(ct){this.props.value!==ct.value&&Oe.some(Ee)},this.sub=function(ct){Oe.push(ct);var vt=ct.componentWillUnmount;ct.componentWillUnmount=function(){Oe.splice(Oe.indexOf(ct),1),vt&&vt.call(ct)}}),ge.children}};return V.Provider.__=V.Consumer.contextType=V}E=X.slice,v={__e:function(re,Y){for(var V,ge,Oe;Y=Y.__;)if((V=Y.__c)&&!V.__)try{if((ge=V.constructor)&&null!=ge.getDerivedStateFromError&&(V.setState(ge.getDerivedStateFromError(re)),Oe=V.__d),null!=V.componentDidCatch&&(V.componentDidCatch(re),Oe=V.__d),Oe)return V.__E=V}catch(xe){re=xe}throw re}},b=0,Ne.prototype.setState=function(re,Y){var V;V=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=K({},this.state),"function"==typeof re&&(re=re(K({},V),this.props)),re&&K(V,re),null!=re&&this.__v&&(Y&&this.__h.push(Y),Ee(this))},Ne.prototype.forceUpdate=function(re){this.__v&&(this.__e=!0,re&&this.__h.push(re),Ee(this))},Ne.prototype.render=Te,D=[],F="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,pe.__r=0,U=0},function(C,u,a){var E=a(116),v=a(44),b=a(178);E||v(Object.prototype,"toString",b,{unsafe:!0})},function(C,u,a){"use strict";var E=a(39),v=a(83),b=a(70),x=a(56),D=a(111),F="Array Iterator",R=x.set,U=x.getterFor(F);C.exports=D(Array,"Array",function(G,X){R(this,{type:F,target:E(G),index:0,kind:X})},function(){var G=U(this),X=G.target,$=G.kind,K=G.index++;return!X||K>=X.length?(G.target=void 0,{value:void 0,done:!0}):"keys"==$?{value:K,done:!1}:"values"==$?{value:X[K],done:!1}:{value:[K,X[K]],done:!1}},"values"),b.Arguments=b.Array,v("keys"),v("values"),v("entries")},function(C,u,a){var E=a(7),v=a(147),b=a(148),x=a(3),D=a(57),F=a(27),R=F("iterator"),U=F("toStringTag"),G=x.values,X=function(K,de){if(K){if(K[R]!==G)try{D(K,R,G)}catch{K[R]=G}if(K[U]||D(K,U,de),v[de])for(var se in x)if(K[se]!==x[se])try{D(K,se,x[se])}catch{K[se]=x[se]}}};for(var $ in v)X(E[$]&&E[$].prototype,$);X(b,"DOMTokenList")},function(C,u,a){"use strict";var E=a(16),v=a(7),b=a(46),x=a(76),D=a(35),F=a(15),R=a(64),U=a(36),G=a(109),X=a(18),$=a(34),K=a(99),de=a(28),se=a(33),ie=a(58),Ae=a(88),Te=a(32),Ne=a(38),Se=a(39),ze=a(87),Ee=a(40),pe=a(71),W=a(54),k=a(66),le=a(72),be=a(139),Pe=a(112),Je=a(51),we=a(37),Ye=a(93),it=a(101),ot=a(44),at=a(84),ht=a(91),St=a(69),It=a(85),zt=a(27),Qe=a(149),Et=a(150),gt=a(73),Ie=a(56),re=a(74).forEach,Y=ht("hidden"),V="Symbol",ge="prototype",Oe=zt("toPrimitive"),xe=Ie.set,ct=Ie.getterFor(V),vt=Object[ge],Ct=v.Symbol,Nt=Ct&&Ct[ge],Le=v.TypeError,Rt=v.QObject,yt=b("JSON","stringify"),xt=Je.f,Pt=we.f,Ut=be.f,$t=Ye.f,Gt=F([].push),Yt=at("symbols"),sn=at("op-symbols"),Zt=at("string-to-symbol-registry"),un=at("symbol-to-string-registry"),gn=at("wks"),fn=!Rt||!Rt[ge]||!Rt[ge].findChild,cn=U&&X(function(){return 7!=W(Pt({},"a",{get:function(){return Pt(this,"a",{value:7}).a}})).a})?function(j,T,M){var B=xt(vt,T);B&&delete vt[T],Pt(j,T,M),B&&j!==vt&&Pt(vt,T,B)}:Pt,Be=function(j,T){var M=Yt[j]=W(Nt);return xe(M,{type:V,tag:j,description:T}),U||(M.description=T),M},lt=function(T,M,B){T===vt&&lt(sn,M,B),Te(T);var ae=ze(M);return Te(B),$(Yt,ae)?(B.enumerable?($(T,Y)&&T[Y][ae]&&(T[Y][ae]=!1),B=W(B,{enumerable:pe(0,!1)})):($(T,Y)||Pt(T,Y,pe(1,{})),T[Y][ae]=!0),cn(T,ae,B)):Pt(T,ae,B)},ve=function(T,M){Te(T);var B=Se(M),ae=k(B).concat(fe(B));return re(ae,function(We){(!U||D($e,B,We))&&lt(T,We,B[We])}),T},$e=function(T){var M=ze(T),B=D($t,this,M);return!(this===vt&&$(Yt,M)&&!$(sn,M))&&(!(B||!$(this,M)||!$(Yt,M)||$(this,Y)&&this[Y][M])||B)},tt=function(T,M){var B=Se(T),ae=ze(M);if(B!==vt||!$(Yt,ae)||$(sn,ae)){var We=xt(B,ae);return We&&$(Yt,ae)&&!($(B,Y)&&B[Y][ae])&&(We.enumerable=!0),We}},ye=function(T){var M=Ut(Se(T)),B=[];return re(M,function(ae){!$(Yt,ae)&&!$(St,ae)&&Gt(B,ae)}),B},fe=function(T){var M=T===vt,B=Ut(M?sn:Se(T)),ae=[];return re(B,function(We){$(Yt,We)&&(!M||$(vt,We))&&Gt(ae,Yt[We])}),ae};if(G||(Ct=function(){if(ie(Nt,this))throw Le("Symbol is not a constructor");var T=arguments.length&&void 0!==arguments[0]?Ee(arguments[0]):void 0,M=It(T),B=function(ae){this===vt&&D(B,sn,ae),$(this,Y)&&$(this[Y],M)&&(this[Y][M]=!1),cn(this,M,pe(1,ae))};return U&&fn&&cn(vt,M,{configurable:!0,set:B}),Be(M,T)},ot(Nt=Ct[ge],"toString",function(){return ct(this).tag}),ot(Ct,"withoutSetter",function(j){return Be(It(j),j)}),Ye.f=$e,we.f=lt,Je.f=tt,le.f=be.f=ye,Pe.f=fe,Qe.f=function(j){return Be(zt(j),j)},U&&(Pt(Nt,"description",{configurable:!0,get:function(){return ct(this).description}}),R||ot(vt,"propertyIsEnumerable",$e,{unsafe:!0}))),E({global:!0,wrap:!0,forced:!G,sham:!G},{Symbol:Ct}),re(k(gn),function(j){Et(j)}),E({target:V,stat:!0,forced:!G},{for:function(j){var T=Ee(j);if($(Zt,T))return Zt[T];var M=Ct(T);return Zt[T]=M,un[M]=T,M},keyFor:function(T){if(!Ae(T))throw Le(T+" is not a symbol");if($(un,T))return un[T]},useSetter:function(){fn=!0},useSimple:function(){fn=!1}}),E({target:"Object",stat:!0,forced:!G,sham:!U},{create:function(T,M){return void 0===M?W(T):ve(W(T),M)},defineProperty:lt,defineProperties:ve,getOwnPropertyDescriptor:tt}),E({target:"Object",stat:!0,forced:!G},{getOwnPropertyNames:ye,getOwnPropertySymbols:fe}),E({target:"Object",stat:!0,forced:X(function(){Pe.f(1)})},{getOwnPropertySymbols:function(T){return Pe.f(Ne(T))}}),yt&&E({target:"JSON",stat:!0,forced:!G||X(function(){var j=Ct();return"[null]"!=yt([j])||"{}"!=yt({a:j})||"{}"!=yt(Object(j))})},{stringify:function(T,M,B){var ae=it(arguments),We=M;if((se(M)||void 0!==T)&&!Ae(T))return K(M)||(M=function(Xe,ft){if(de(We)&&(ft=D(We,this,Xe,ft)),!Ae(ft))return ft}),ae[1]=M,x(yt,null,ae)}}),!Nt[Oe]){var _=Nt.valueOf;ot(Nt,Oe,function(j){return D(_,this)})}gt(Ct,V),St[Y]=!0},function(C,u,a){"use strict";var E=a(146).charAt,v=a(40),b=a(56),x=a(111),D="String Iterator",F=b.set,R=b.getterFor(D);x(String,"String",function(U){F(this,{type:D,string:v(U),index:0})},function(){var K,G=R(this),X=G.string,$=G.index;return $>=X.length?{value:void 0,done:!0}:(K=E(X,$),G.index+=K.length,{value:K,done:!1})})},function(C,u,a){(function(E){var v=function(b){return b&&b.Math==Math&&b};C.exports=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof E&&E)||function(){return this}()||Function("return this")()}).call(this,a(82))},function(C,u,a){"use strict";var E=a(16),v=a(36),b=a(7),x=a(15),D=a(34),F=a(28),R=a(58),U=a(40),G=a(37).f,X=a(134),$=b.Symbol,K=$&&$.prototype;if(v&&F($)&&(!("description"in K)||void 0!==$().description)){var de={},se=function(){var pe=arguments.length<1||void 0===arguments[0]?void 0:U(arguments[0]),W=R(K,this)?new $(pe):void 0===pe?$():$(pe);return""===pe&&(de[W]=!0),W};X(se,$),se.prototype=K,K.constructor=se;var ie="Symbol(test)"==String($("test")),Ae=x(K.toString),Te=x(K.valueOf),Ne=/^Symbol\((.*)\)[^)]+$/,Se=x("".replace),ze=x("".slice);G(K,"description",{configurable:!0,get:function(){var pe=Te(this),W=Ae(pe);if(D(de,pe))return"";var k=ie?ze(W,7,-1):Se(W,Ne,"$1");return""===k?void 0:k}}),E({global:!0,forced:!0},{Symbol:se})}},function(C,u,a){a(150)("iterator")},function(C,u,a){"use strict";a.d(u,"a",function(){return E.a}),a.d(u,"c",function(){return E.e}),a.d(u,"h",function(){return ze}),a.d(u,"i",function(){return ie}),a.d(u,"j",function(){return de}),a.d(u,"b",function(){return at}),a.d(u,"e",function(){return zt}),a.d(u,"f",function(){return ht}),a.d(u,"g",function(){return ye});var v,b,x,E=a(1),D=0,F=[],R=E.i.__b,U=E.i.__r,G=E.i.diffed,X=E.i.__c,$=E.i.unmount;function K(T,M){E.i.__h&&E.i.__h(b,T,D||M),D=0;var B=b.__H||(b.__H={__:[],__h:[]});return T>=B.__.length&&B.__.push({}),B.__[T]}function de(T){return D=1,se(Ye,T)}function se(T,M,B){var ae=K(v++,2);return ae.t=T,ae.__c||(ae.__=[B?B(M):Ye(void 0,M),function(We){var Xe=ae.t(ae.__[0],We);ae.__[0]!==Xe&&(ae.__=[Xe,ae.__[1]],ae.__c.setState({}))}],ae.__c=b),ae.__}function ie(T,M){var B=K(v++,3);!E.i.__s&&we(B.__H,M)&&(B.__=T,B.__H=M,b.__H.__h.push(B))}function Ae(T,M){var B=K(v++,4);!E.i.__s&&we(B.__H,M)&&(B.__=T,B.__H=M,b.__h.push(B))}function Se(T,M){var B=K(v++,7);return we(B.__H,M)&&(B.__=T(),B.__H=M,B.__h=T),B.__}function ze(T,M){return D=8,Se(function(){return T},M)}function k(){var T;for(F.sort(function(M,B){return M.__v.__b-B.__v.__b});T=F.pop();)if(T.__P)try{T.__H.__h.forEach(Pe),T.__H.__h.forEach(Je),T.__H.__h=[]}catch(M){T.__H.__h=[],E.i.__e(M,T.__v)}}E.i.__b=function(T){b=null,R&&R(T)},E.i.__r=function(T){U&&U(T),v=0;var M=(b=T.__c).__H;M&&(M.__h.forEach(Pe),M.__h.forEach(Je),M.__h=[])},E.i.diffed=function(T){G&&G(T);var M=T.__c;M&&M.__H&&M.__H.__h.length&&(1!==F.push(M)&&x===E.i.requestAnimationFrame||((x=E.i.requestAnimationFrame)||be)(k)),b=null},E.i.__c=function(T,M){M.some(function(B){try{B.__h.forEach(Pe),B.__h=B.__h.filter(function(ae){return!ae.__||Je(ae)})}catch(ae){M.some(function(We){We.__h&&(We.__h=[])}),M=[],E.i.__e(ae,B.__v)}}),X&&X(T,M)},E.i.unmount=function(T){$&&$(T);var M,B=T.__c;B&&B.__H&&(B.__H.__.forEach(function(ae){try{Pe(ae)}catch(We){M=We}}),M&&E.i.__e(M,B.__v))};var le="function"==typeof requestAnimationFrame;function be(T){var M,B=function(){clearTimeout(ae),le&&cancelAnimationFrame(M),setTimeout(T)},ae=setTimeout(B,100);le&&(M=requestAnimationFrame(B))}function Pe(T){var M=b,B=T.__c;"function"==typeof B&&(T.__c=void 0,B()),b=M}function Je(T){var M=b;T.__c=T.__(),b=M}function we(T,M){return!T||T.length!==M.length||M.some(function(B,ae){return B!==T[ae]})}function Ye(T,M){return"function"==typeof M?M(T):M}function it(T,M){for(var B in M)T[B]=M[B];return T}function ot(T,M){for(var B in T)if("__source"!==B&&!(B in M))return!0;for(var ae in M)if("__source"!==ae&&T[ae]!==M[ae])return!0;return!1}function at(T){this.props=T}function ht(T,M){function B(We){var Xe=this.props.ref,ft=Xe==We.ref;return!ft&&Xe&&(Xe.call?Xe(null):Xe.current=null),M?!M(this.props,We)||!ft:ot(this.props,We)}function ae(We){return this.shouldComponentUpdate=B,Object(E.e)(T,We)}return ae.displayName="Memo("+(T.displayName||T.name)+")",ae.prototype.isReactComponent=!0,ae.__f=!0,ae}(at.prototype=new E.a).isPureReactComponent=!0,at.prototype.shouldComponentUpdate=function(T,M){return ot(this.props,T)||ot(this.state,M)};var St=E.i.__b;E.i.__b=function(T){T.type&&T.type.__f&&T.ref&&(T.props.ref=T.ref,T.ref=null),St&&St(T)};var It=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function zt(T){function M(B,ae){var We=it({},B);return delete We.ref,T(We,!(ae=B.ref||ae)||"object"==typeof ae&&!("current"in ae)?null:ae)}return M.$$typeof=It,M.render=M,M.prototype.isReactComponent=M.__f=!0,M.displayName="ForwardRef("+(T.displayName||T.name)+")",M}var Qe=function(T,M){return null==T?null:Object(E.k)(Object(E.k)(T).map(M))},Et={map:Qe,forEach:Qe,count:function(T){return T?Object(E.k)(T).length:0},only:function(T){var M=Object(E.k)(T);if(1!==M.length)throw"Children.only";return M[0]},toArray:E.k},gt=E.i.__e;E.i.__e=function(T,M,B){if(T.then)for(var ae,We=M;We=We.__;)if((ae=We.__c)&&ae.__c)return null==M.__e&&(M.__e=B.__e,M.__k=B.__k),ae.__c(T,M);gt(T,M,B)};var Ie=E.i.unmount;function re(T,M,B){return T&&(T.__c&&T.__c.__H&&(T.__c.__H.__.forEach(function(ae){"function"==typeof ae.__c&&ae.__c()}),T.__c.__H=null),null!=(T=it({},T)).__c&&(T.__c.__P===B&&(T.__c.__P=M),T.__c=null),T.__k=T.__k&&T.__k.map(function(ae){return re(ae,M,B)})),T}function Y(T,M,B){return T&&(T.__v=null,T.__k=T.__k&&T.__k.map(function(ae){return Y(ae,M,B)}),T.__c&&T.__c.__P===M&&(T.__e&&B.insertBefore(T.__e,T.__d),T.__c.__e=!0,T.__c.__P=B)),T}function V(){this.__u=0,this.t=null,this.__b=null}function ge(T){var M=T.__.__c;return M&&M.__e&&M.__e(T)}function xe(){this.u=null,this.o=null}E.i.unmount=function(T){var M=T.__c;M&&M.__R&&M.__R(),M&&!0===T.__h&&(T.type=null),Ie&&Ie(T)},(V.prototype=new E.a).__c=function(T,M){var B=M.__c,ae=this;null==ae.t&&(ae.t=[]),ae.t.push(B);var We=ge(ae.__v),Xe=!1,ft=function(){Xe||(Xe=!0,B.__R=null,We?We(dt):dt())};B.__R=ft;var dt=function(){if(!--ae.__u){if(ae.state.__e){var Xt=ae.state.__e;ae.__v.__k[0]=Y(Xt,Xt.__c.__P,Xt.__c.__O)}var Ft;for(ae.setState({__e:ae.__b=null});Ft=ae.t.pop();)Ft.forceUpdate()}},Mt=!0===M.__h;ae.__u++||Mt||ae.setState({__e:ae.__b=ae.__v.__k[0]}),T.then(ft,ft)},V.prototype.componentWillUnmount=function(){this.t=[]},V.prototype.render=function(T,M){if(this.__b){if(this.__v.__k){var B=document.createElement("div"),ae=this.__v.__k[0].__c;this.__v.__k[0]=re(this.__b,B,ae.__O=ae.__P)}this.__b=null}var We=M.__e&&Object(E.e)(E.b,null,T.fallback);return We&&(We.__h=null),[Object(E.e)(E.b,null,M.__e?null:T.children),We]};var ct=function(T,M,B){if(++B[1]===B[0]&&T.o.delete(M),T.props.revealOrder&&("t"!==T.props.revealOrder[0]||!T.o.size))for(B=T.u;B;){for(;B.length>3;)B.pop()();if(B[1]<B[0])break;T.u=B=B[2]}};function vt(T){return this.getChildContext=function(){return T.context},T.children}function Ct(T){var M=this,B=T.i;M.componentWillUnmount=function(){Object(E.j)(null,M.l),M.l=null,M.i=null},M.i&&M.i!==B&&M.componentWillUnmount(),T.__v?(M.l||(M.i=B,M.l={nodeType:1,parentNode:B,childNodes:[],appendChild:function(ae){this.childNodes.push(ae),M.i.appendChild(ae)},insertBefore:function(ae,We){this.childNodes.push(ae),M.i.appendChild(ae)},removeChild:function(ae){this.childNodes.splice(this.childNodes.indexOf(ae)>>>1,1),M.i.removeChild(ae)}}),Object(E.j)(Object(E.e)(vt,{context:M.context},T.__v),M.l)):M.l&&M.componentWillUnmount()}(xe.prototype=new E.a).__e=function(T){var M=this,B=ge(M.__v),ae=M.o.get(T);return ae[0]++,function(We){var Xe=function(){M.props.revealOrder?(ae.push(We),ct(M,T,ae)):We()};B?B(Xe):Xe()}},xe.prototype.render=function(T){this.u=null,this.o=new Map;var M=Object(E.k)(T.children);T.revealOrder&&"b"===T.revealOrder[0]&&M.reverse();for(var B=M.length;B--;)this.o.set(M[B],this.u=[1,0,this.u]);return T.children},xe.prototype.componentDidUpdate=xe.prototype.componentDidMount=function(){var T=this;this.o.forEach(function(M,B){ct(T,B,M)})};var Le=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Rt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,yt=typeof document<"u",xt=function(T){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(T)};E.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(T){Object.defineProperty(E.a.prototype,T,{configurable:!0,get:function(){return this["UNSAFE_"+T]},set:function(M){Object.defineProperty(this,T,{configurable:!0,writable:!0,value:M})}})});var $t=E.i.event;function Gt(){}function Yt(){return this.cancelBubble}function sn(){return this.defaultPrevented}E.i.event=function(T){return $t&&(T=$t(T)),T.persist=Gt,T.isPropagationStopped=Yt,T.isDefaultPrevented=sn,T.nativeEvent=T};var Zt,un={configurable:!0,get:function(){return this.class}},gn=E.i.vnode;E.i.vnode=function(T){var M=T.type,B=T.props,ae=B;if("string"==typeof M){var We=-1===M.indexOf("-");for(var Xe in ae={},B){var ft=B[Xe];yt&&"children"===Xe&&"noscript"===M||"value"===Xe&&"defaultValue"in B&&null==ft||("defaultValue"===Xe&&"value"in B&&null==B.value?Xe="value":"download"===Xe&&!0===ft?ft="":/ondoubleclick/i.test(Xe)?Xe="ondblclick":/^onchange(textarea|input)/i.test(Xe+M)&&!xt(B.type)?Xe="oninput":/^onfocus$/i.test(Xe)?Xe="onfocusin":/^onblur$/i.test(Xe)?Xe="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Xe)?Xe=Xe.toLowerCase():We&&Rt.test(Xe)?Xe=Xe.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===ft&&(ft=void 0),ae[Xe]=ft)}"select"==M&&ae.multiple&&Array.isArray(ae.value)&&(ae.value=Object(E.k)(B.children).forEach(function(dt){dt.props.selected=-1!=ae.value.indexOf(dt.props.value)})),"select"==M&&null!=ae.defaultValue&&(ae.value=Object(E.k)(B.children).forEach(function(dt){dt.props.selected=ae.multiple?-1!=ae.defaultValue.indexOf(dt.props.value):ae.defaultValue==dt.props.value})),T.props=ae,B.class!=B.className&&(un.enumerable="className"in B,null!=B.className&&(ae.class=B.className),Object.defineProperty(ae,"className",un))}T.$$typeof=Le,gn&&gn(T)};var fn=E.i.__r;function ve(T){return!!T&&T.$$typeof===Le}E.i.__r=function(T){fn&&fn(T),Zt=T.__c};var ye=function(T,M){return T(M)};u.d={useState:de,useReducer:se,useEffect:ie,useLayoutEffect:Ae,useRef:function Te(T){return D=5,Se(function(){return{current:T}},[])},useImperativeHandle:function Ne(T,M,B){D=6,Ae(function(){"function"==typeof T?T(M()):T&&(T.current=M())},null==B?B:B.concat(T))},useMemo:Se,useCallback:ze,useContext:function Ee(T){var M=b.context[T.__c],B=K(v++,9);return B.c=T,M?(null==B.__&&(B.__=!0,M.sub(b)),M.props.value):T.__},useDebugValue:function pe(T,M){E.i.useDebugValue&&E.i.useDebugValue(M?M(T):T)},version:"17.0.2",Children:Et,render:function Pt(T,M,B){return null==M.__k&&(M.textContent=""),Object(E.j)(T,M),"function"==typeof B&&B(),T?T.__c:null},hydrate:function Ut(T,M,B){return Object(E.h)(T,M),"function"==typeof B&&B(),T?T.__c:null},unmountComponentAtNode:function $e(T){return!!T.__k&&(Object(E.j)(null,T),!0)},createPortal:function Nt(T,M){return Object(E.e)(Ct,{__v:T,i:M})},createElement:E.e,createContext:E.d,createFactory:function lt(T){return E.e.bind(null,T)},cloneElement:function me(T){return ve(T)?E.c.apply(null,arguments):T},createRef:E.f,Fragment:E.b,isValidElement:ve,findDOMNode:function tt(T){return T&&(T.base||1===T.nodeType&&T)||null},Component:E.a,PureComponent:at,memo:ht,forwardRef:zt,flushSync:function(T,M){return T(M)},unstable_batchedUpdates:ye,StrictMode:E.b,Suspense:V,SuspenseList:xe,lazy:function Oe(T){var M,B,ae;function We(Xe){if(M||(M=T()).then(function(ft){B=ft.default||ft},function(ft){ae=ft}),ae)throw ae;if(!B)throw M;return Object(E.e)(B,Xe)}return We.displayName="Lazy",We.__f=!0,We},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(T){return Zt.__n[T.__c].props.value}}}}}},function(C,u,a){var E=a(7),v=a(147),b=a(148),x=a(179),D=a(57),F=function(U){if(U&&U.forEach!==x)try{D(U,"forEach",x)}catch{U.forEach=x}};for(var R in v)v[R]&&F(E[R]&&E[R].prototype);F(b)},function(C,u,a){a(16)({target:"Object",stat:!0},{setPrototypeOf:a(97)})},function(C,u,a){var E=a(16),v=a(18),b=a(38),x=a(96),D=a(137);E({target:"Object",stat:!0,forced:v(function(){x(1)}),sham:!D},{getPrototypeOf:function(U){return x(b(U))}})},function(C,u,a){var E=a(16),v=a(46),b=a(76),x=a(199),D=a(157),F=a(32),R=a(33),U=a(54),G=a(18),X=v("Reflect","construct"),$=Object.prototype,K=[].push,de=G(function(){function Ae(){}return!(X(function(){},[],Ae)instanceof Ae)}),se=!G(function(){X(function(){})}),ie=de||se;E({target:"Reflect",stat:!0,forced:ie,sham:ie},{construct:function(Te,Ne){D(Te),F(Ne);var Se=arguments.length<3?Te:D(arguments[2]);if(se&&!de)return X(Te,Ne,Se);if(Te==Se){switch(Ne.length){case 0:return new Te;case 1:return new Te(Ne[0]);case 2:return new Te(Ne[0],Ne[1]);case 3:return new Te(Ne[0],Ne[1],Ne[2]);case 4:return new Te(Ne[0],Ne[1],Ne[2],Ne[3])}var ze=[null];return b(K,ze,Ne),new(b(x,Te,ze))}var Ee=Se.prototype,pe=U(R(Ee)?Ee:$),W=b(Te,pe,Ne);return R(W)?W:pe}})},function(C,u){var a=Function.prototype,E=a.bind,v=a.call,b=E&&E.bind(v);C.exports=E?function(x){return x&&b(v,x)}:function(x){return x&&function(){return v.apply(x,arguments)}}},function(C,u,a){var E=a(7),v=a(51).f,b=a(57),x=a(44),D=a(108),F=a(134),R=a(95);C.exports=function(U,G){var se,ie,Ae,Te,Ne,X=U.target,$=U.global,K=U.stat;if(se=$?E:K?E[X]||D(X,{}):(E[X]||{}).prototype)for(ie in G){if(Te=G[ie],Ae=U.noTargetGet?(Ne=v(se,ie))&&Ne.value:se[ie],!R($?ie:X+(K?".":"#")+ie,U.forced)&&void 0!==Ae){if(typeof Te==typeof Ae)continue;F(Te,Ae)}(U.sham||Ae&&Ae.sham)&&b(Te,"sham",!0),x(se,ie,Te,U)}}},function(C,u,a){"use strict";var E=a(16),v=a(7),b=a(99),x=a(100),D=a(33),F=a(67),R=a(43),U=a(39),G=a(61),X=a(27),$=a(75),K=a(101),de=$("slice"),se=X("species"),ie=v.Array,Ae=Math.max;E({target:"Array",proto:!0,forced:!de},{slice:function(Ne,Se){var k,le,be,ze=U(this),Ee=R(ze),pe=F(Ne,Ee),W=F(void 0===Se?Ee:Se,Ee);if(b(ze)&&((x(k=ze.constructor)&&(k===ie||b(k.prototype))||D(k)&&null===(k=k[se]))&&(k=void 0),k===ie||void 0===k))return K(ze,pe,W);for(le=new(void 0===k?ie:k)(Ae(W-pe,0)),be=0;pe<W;pe++,be++)pe in ze&&G(le,be,ze[pe]);return le.length=be,le}})},function(C,u){C.exports=function(a){try{return!!a()}catch{return!0}}},function(C,u,a){"use strict";var E=a(16),v=a(102);E({target:"RegExp",proto:!0,forced:/./.exec!==v},{exec:v})},function(C,u,a){var E=a(16),v=a(38),b=a(66);E({target:"Object",stat:!0,forced:a(18)(function(){b(1)})},{keys:function(R){return b(v(R))}})},function(C,u,a){var E=a(16),v=a(18),b=a(39),x=a(51).f,D=a(36),F=v(function(){x(1)});E({target:"Object",stat:!0,forced:!D||F,sham:!D},{getOwnPropertyDescriptor:function(G,X){return x(b(G),X)}})},function(C,u,a){"use strict";var E=a(16),v=a(74).filter;E({target:"Array",proto:!0,forced:!a(75)("filter")},{filter:function(F){return v(this,F,arguments.length>1?arguments[1]:void 0)}})},function(C,u,a){var E=a(16),v=a(36),b=a(135),x=a(39),D=a(51),F=a(61);E({target:"Object",stat:!0,sham:!v},{getOwnPropertyDescriptors:function(U){for(var se,ie,G=x(U),X=D.f,$=b(G),K={},de=0;$.length>de;)void 0!==(ie=X(G,se=$[de++]))&&F(K,se,ie);return K}})},function(C,u,a){var E=a(36),v=a(94).EXISTS,b=a(15),x=a(37).f,D=Function.prototype,F=b(D.toString),R=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,U=b(R.exec);E&&!v&&x(D,"name",{configurable:!0,get:function(){try{return U(R,F(this))[1]}catch{return""}}})},function(C,u,a){var E=a(16),v=a(182);E({target:"Array",stat:!0,forced:!a(118)(function(D){Array.from(D)})},{from:v})},,function(C,u,a){var E=a(7),v=a(84),b=a(34),x=a(85),D=a(109),F=a(128),R=v("wks"),U=E.Symbol,G=U&&U.for,X=F?U:U&&U.withoutSetter||x;C.exports=function($){if(!b(R,$)||!D&&"string"!=typeof R[$]){var K="Symbol."+$;R[$]=D&&b(U,$)?U[$]:F&&G?G(K):X(K)}return R[$]}},function(C,u){C.exports=function(a){return"function"==typeof a}},function(C,u,a){"use strict";var E=a(16),v=a(7),b=a(18),x=a(99),D=a(33),F=a(38),R=a(43),U=a(61),G=a(119),X=a(75),$=a(27),K=a(65),de=$("isConcatSpreadable"),se=9007199254740991,ie="Maximum allowed index exceeded",Ae=v.TypeError,Te=K>=51||!b(function(){var Ee=[];return Ee[de]=!1,Ee.concat()[0]!==Ee}),Ne=X("concat"),Se=function(Ee){if(!D(Ee))return!1;var pe=Ee[de];return void 0!==pe?!!pe:x(Ee)};E({target:"Array",proto:!0,forced:!Te||!Ne},{concat:function(pe){var be,Pe,Je,we,Ye,W=F(this),k=G(W,0),le=0;for(be=-1,Je=arguments.length;be<Je;be++)if(Se(Ye=-1===be?W:arguments[be])){if(le+(we=R(Ye))>se)throw Ae(ie);for(Pe=0;Pe<we;Pe++,le++)Pe in Ye&&U(k,le,Ye[Pe])}else{if(le>=se)throw Ae(ie);U(k,le++,Ye)}return k.length=le,k}})},function(C,u,a){var E=a(16),v=a(198);E({target:"Object",stat:!0,forced:Object.assign!==v},{assign:v})},function(C,u,a){"use strict";var E=a(105),v="object"==typeof self&&self&&self.Object===Object&&self,b=E.a||v||Function("return this")();u.a=b},function(C,u,a){var E=a(7),v=a(33),b=E.String,x=E.TypeError;C.exports=function(D){if(v(D))return D;throw x(b(D)+" is not an object")}},function(C,u,a){var E=a(28);C.exports=function(v){return"object"==typeof v?null!==v:E(v)}},function(C,u,a){var E=a(15),v=a(38),b=E({}.hasOwnProperty);C.exports=Object.hasOwn||function(D,F){return b(v(D),F)}},function(C,u){var a=Function.prototype.call;C.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(C,u,a){var E=a(18);C.exports=!E(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(C,u,a){var E=a(7),v=a(36),b=a(129),x=a(32),D=a(87),F=E.TypeError,R=Object.defineProperty;u.f=v?R:function(G,X,$){if(x(G),X=D(X),x($),b)try{return R(G,X,$)}catch{}if("get"in $||"set"in $)throw F("Accessors not supported");return"value"in $&&(G[X]=$.value),G}},function(C,u,a){var E=a(7),v=a(45),b=E.Object;C.exports=function(x){return b(v(x))}},function(C,u,a){var E=a(81),v=a(45);C.exports=function(b){return E(v(b))}},function(C,u,a){var E=a(7),v=a(98),b=E.String;C.exports=function(x){if("Symbol"===v(x))throw TypeError("Cannot convert a Symbol value to a string");return b(x)}},function(C,u,a){"use strict";var E=a(16),v=a(74).map;E({target:"Array",proto:!0,forced:!a(75)("map")},{map:function(F){return v(this,F,arguments.length>1?arguments[1]:void 0)}})},function(C,u,a){"use strict";(function(E){a.d(u,"d",function(){return F}),a.d(u,"c",function(){return R}),a.d(u,"b",function(){return U}),a.d(u,"a",function(){return X});var v=a(10);function F(){var K=function($,K){var de="function"==typeof Symbol&&$[Symbol.iterator];if(!de)return $;var ie,Te,se=de.call($),Ae=[];try{for(;(void 0===K||K-- >0)&&!(ie=se.next()).done;)Ae.push(ie.value)}catch(Ne){Te={error:Ne}}finally{try{ie&&!ie.done&&(de=se.return)&&de.call(se)}finally{if(Te)throw Te.error}}return Ae}(Object(v.j)(0),2)[1];return Object(v.h)(function(){K(function(se){return se+1})},[])}function R($){if(!$||"object"!=typeof $)return!1;var K=Object.getPrototypeOf($);return!K||K===Object.prototype}function U($){return"function"==typeof Symbol?Symbol.for($):"__$mobx-react "+$+"__"}var G={};function X(){return typeof window<"u"?window:typeof E<"u"?E:typeof self<"u"?self:G}}).call(this,a(82))},function(C,u,a){var E=a(90);C.exports=function(v){return E(v.length)}},function(C,u,a){var E=a(7),v=a(28),b=a(34),x=a(57),D=a(108),F=a(92),R=a(56),U=a(94).CONFIGURABLE,G=R.get,X=R.enforce,$=String(String).split("String");(C.exports=function(K,de,se,ie){var ze,Ae=!!ie&&!!ie.unsafe,Te=!!ie&&!!ie.enumerable,Ne=!!ie&&!!ie.noTargetGet,Se=ie&&void 0!==ie.name?ie.name:de;v(se)&&("Symbol("===String(Se).slice(0,7)&&(Se="["+String(Se).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(se,"name")||U&&se.name!==Se)&&x(se,"name",Se),(ze=X(se)).source||(ze.source=$.join("string"==typeof Se?Se:""))),K!==E?(Ae?!Ne&&K[de]&&(Te=!0):delete K[de],Te?K[de]=se:x(K,de,se)):Te?K[de]=se:D(de,se)})(Function.prototype,"toString",function(){return v(this)&&G(this).source||F(this)})},function(C,u,a){var v=a(7).TypeError;C.exports=function(b){if(null==b)throw v("Can't call method on "+b);return b}},function(C,u,a){var E=a(7),v=a(28),b=function(x){return v(x)?x:void 0};C.exports=function(x,D){return arguments.length<2?b(E[x]):E[x]&&E[x][D]}},function(C,u,a){var E=a(16),v=a(35),b=a(33),x=a(32),D=a(200),F=a(51),R=a(96);E({target:"Reflect",stat:!0},{get:function U(G,X){var K,de,$=arguments.length<3?G:arguments[2];return x(G)===$?G[X]:(K=F.f(G,X))?D(K)?K.value:void 0===K.get?void 0:v(K.get,$):b(de=R(G))?U(de,X,$):void 0}})},function(C,u,a){"use strict";(function(E){var v=a(31),b=a(165),x=tn&&!tn.nodeType&&tn,D=x&&"object"==typeof E&&E&&!E.nodeType&&E,R=D&&D.exports===x?v.a.Buffer:void 0;u.a=(R?R.isBuffer:void 0)||b.a}).call(this,a(121)(C))},function(C,u,a){"use strict";(function(E){var v=a(105),b=tn&&!tn.nodeType&&tn,x=b&&"object"==typeof E&&E&&!E.nodeType&&E,F=x&&x.exports===b&&v.a.process,R=function(){try{return x&&x.require&&x.require("util").types||F&&F.binding&&F.binding("util")}catch{}}();u.a=R}).call(this,a(121)(C))},function(C,u,a){var E=a(15),v=E({}.toString),b=E("".slice);C.exports=function(x){return b(v(x),8,-1)}},function(C,u,a){var E=a(36),v=a(35),b=a(93),x=a(71),D=a(39),F=a(87),R=a(34),U=a(129),G=Object.getOwnPropertyDescriptor;u.f=E?G:function($,K){if($=D($),K=F(K),U)try{return G($,K)}catch{}if(R($,K))return x(!v(b.f,$,K),$[K])}},function(C,u,a){var E=a(16),v=a(213).entries;E({target:"Object",stat:!0},{entries:function(x){return v(x)}})},function(C,u,a){var E=a(46);C.exports=E("navigator","userAgent")||""},function(C,u,a){var Te,E=a(32),v=a(168),b=a(110),x=a(69),D=a(133),F=a(86),R=a(91),X="prototype",$="script",K=R("IE_PROTO"),de=function(){},se=function(Se){return"<"+$+">"+Se+"</"+$+">"},ie=function(Se){Se.write(se("")),Se.close();var ze=Se.parentWindow.Object;return Se=null,ze},Ne=function(){try{Te=new ActiveXObject("htmlfile")}catch{}Ne=typeof document<"u"?document.domain&&Te?ie(Te):function(){var Ee,Se=F("iframe");return Se.style.display="none",D.appendChild(Se),Se.src=String("javascript:"),(Ee=Se.contentWindow.document).open(),Ee.write(se("document.F=Object")),Ee.close(),Ee.F}():ie(Te);for(var Se=b.length;Se--;)delete Ne[X][b[Se]];return Ne()};x[K]=!0,C.exports=Object.create||function(ze,Ee){var pe;return null!==ze?(de[X]=E(ze),pe=new de,de[X]=null,pe[K]=ze):pe=Ne(),void 0===Ee?pe:v(pe,Ee)}},function(C,u,a){var E=a(7),v=a(28),b=a(89),x=E.TypeError;C.exports=function(D){if(v(D))return D;throw x(b(D)+" is not a function")}},function(C,u,a){var de,se,ie,E=a(170),v=a(7),b=a(15),x=a(33),D=a(57),F=a(34),R=a(107),U=a(91),G=a(69),X="Object already initialized",$=v.TypeError;if(E||R.state){var Ne=R.state||(R.state=new(0,v.WeakMap)),Se=b(Ne.get),ze=b(Ne.has),Ee=b(Ne.set);de=function(W,k){if(ze(Ne,W))throw new $(X);return k.facade=W,Ee(Ne,W,k),k},se=function(W){return Se(Ne,W)||{}},ie=function(W){return ze(Ne,W)}}else{var pe=U("state");G[pe]=!0,de=function(W,k){if(F(W,pe))throw new $(X);return k.facade=W,D(W,pe,k),k},se=function(W){return F(W,pe)?W[pe]:{}},ie=function(W){return F(W,pe)}}C.exports={set:de,get:se,has:ie,enforce:function(W){return ie(W)?se(W):de(W,{})},getterFor:function(W){return function(k){var le;if(!x(k)||(le=se(k)).type!==W)throw $("Incompatible receiver, "+W+" required");return le}}}},function(C,u,a){var E=a(36),v=a(37),b=a(71);C.exports=E?function(x,D,F){return v.f(x,D,b(1,F))}:function(x,D,F){return x[D]=F,x}},function(C,u,a){var E=a(15);C.exports=E({}.isPrototypeOf)},function(C,u,a){var E=a(55);C.exports=function(v,b){var x=v[b];return null==x?void 0:E(x)}},function(C,u,a){"use strict";a(173)("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},a(177))},function(C,u,a){"use strict";var E=a(87),v=a(37),b=a(71);C.exports=function(x,D,F){var R=E(D);R in x?v.f(x,R,b(0,F)):x[R]=F}},function(C,u,a){var E=a(15),v=a(55),b=E(E.bind);C.exports=function(x,D){return v(x),void 0===D?x:b?b(x,D):function(){return x.apply(D,arguments)}}},function(C,u,a){var E=a(16),v=a(214),b=a(83);E({target:"Array",proto:!0},{fill:v}),b("fill")},function(C,u){C.exports=!1},function(C,u,a){var R,U,E=a(7),v=a(53),b=E.process,x=E.Deno,D=b&&b.versions||x&&x.version,F=D&&D.v8;F&&(U=(R=F.split("."))[0]>0&&R[0]<4?1:+(R[0]+R[1])),!U&&v&&(!(R=v.match(/Edge\/(\d+)/))||R[1]>=74)&&(R=v.match(/Chrome\/(\d+)/))&&(U=+R[1]),C.exports=U},function(C,u,a){var E=a(131),v=a(110);C.exports=Object.keys||function(x){return E(x,v)}},function(C,u,a){var E=a(68),v=Math.max,b=Math.min;C.exports=function(x,D){var F=E(x);return F<0?v(F+D,0):b(F,D)}},function(C,u){var a=Math.ceil,E=Math.floor;C.exports=function(v){var b=+v;return b!=b||0===b?0:(b>0?E:a)(b)}},function(C,u){C.exports={}},function(C,u){C.exports={}},function(C,u){C.exports=function(a,E){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:E}}},function(C,u,a){var E=a(131),b=a(110).concat("length","prototype");u.f=Object.getOwnPropertyNames||function(D){return E(D,b)}},function(C,u,a){var E=a(37).f,v=a(34),x=a(27)("toStringTag");C.exports=function(D,F,R){D&&!v(D=R?D:D.prototype,x)&&E(D,x,{configurable:!0,value:F})}},function(C,u,a){var E=a(62),v=a(15),b=a(81),x=a(38),D=a(43),F=a(119),R=v([].push),U=function(G){var X=1==G,$=2==G,K=3==G,de=4==G,se=6==G,ie=7==G,Ae=5==G||se;return function(Te,Ne,Se,ze){for(var Je,we,Ee=x(Te),pe=b(Ee),W=E(Ne,Se),k=D(pe),le=0,be=ze||F,Pe=X?be(Te,k):$||ie?be(Te,0):void 0;k>le;le++)if((Ae||le in pe)&&(we=W(Je=pe[le],le,Ee),G))if(X)Pe[le]=we;else if(we)switch(G){case 3:return!0;case 5:return Je;case 6:return le;case 2:R(Pe,Je)}else switch(G){case 4:return!1;case 7:R(Pe,Je)}return se?-1:K||de?de:Pe}};C.exports={forEach:U(0),map:U(1),filter:U(2),some:U(3),every:U(4),find:U(5),findIndex:U(6),filterReject:U(7)}},function(C,u,a){var E=a(18),v=a(27),b=a(65),x=v("species");C.exports=function(D){return b>=51||!E(function(){var F=[];return(F.constructor={})[x]=function(){return{foo:1}},1!==F[D](Boolean).foo})}},function(C,u){var a=Function.prototype,E=a.apply,b=a.call;C.exports="object"==typeof Reflect&&Reflect.apply||(a.bind?b.bind(E):function(){return b.apply(E,arguments)})},function(C,u,a){"use strict";var E=a(16),v=a(15),b=a(81),x=a(39),D=a(120),F=v([].join),R=b!=Object,U=D("join",",");E({target:"Array",proto:!0,forced:R||!U},{join:function(X){return F(x(this),void 0===X?",":X)}})},function(C,u,a){"use strict";var E=a(76),v=a(35),b=a(15),x=a(122),D=a(154),F=a(32),R=a(45),U=a(156),G=a(123),X=a(90),$=a(40),K=a(59),de=a(113),se=a(124),ie=a(102),Ae=a(151),Te=a(18),Ne=Ae.UNSUPPORTED_Y,Se=4294967295,ze=Math.min,Ee=[].push,pe=b(/./.exec),W=b(Ee),k=b("".slice),le=!Te(function(){var be=/(?:)/,Pe=be.exec;be.exec=function(){return Pe.apply(this,arguments)};var Je="ab".split(be);return 2!==Je.length||"a"!==Je[0]||"b"!==Je[1]});x("split",function(be,Pe,Je){var we;return we="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(Ye,it){var ot=$(R(this)),at=void 0===it?Se:it>>>0;if(0===at)return[];if(void 0===Ye)return[ot];if(!D(Ye))return v(Pe,ot,Ye,at);for(var Qe,Et,gt,ht=[],It=0,zt=new RegExp(Ye.source,(Ye.ignoreCase?"i":"")+(Ye.multiline?"m":"")+(Ye.unicode?"u":"")+(Ye.sticky?"y":"")+"g");(Qe=v(ie,zt,ot))&&!((Et=zt.lastIndex)>It&&(W(ht,k(ot,It,Qe.index)),Qe.length>1&&Qe.index<ot.length&&E(Ee,ht,de(Qe,1)),gt=Qe[0].length,It=Et,ht.length>=at));)zt.lastIndex===Qe.index&&zt.lastIndex++;return It===ot.length?(gt||!pe(zt,""))&&W(ht,""):W(ht,k(ot,It)),ht.length>at?de(ht,0,at):ht}:"0".split(void 0,0).length?function(Ye,it){return void 0===Ye&&0===it?[]:v(Pe,this,Ye,it)}:Pe,[function(it,ot){var at=R(this),ht=null==it?void 0:K(it,be);return ht?v(ht,it,at,ot):v(we,$(at),it,ot)},function(Ye,it){var ot=F(this),at=$(Ye),ht=Je(we,ot,at,it,we!==Pe);if(ht.done)return ht.value;var St=U(ot,RegExp),It=ot.unicode,Qe=new St(Ne?"^(?:"+ot.source+")":ot,(ot.ignoreCase?"i":"")+(ot.multiline?"m":"")+(ot.unicode?"u":"")+(Ne?"g":"y")),Et=void 0===it?Se:it>>>0;if(0===Et)return[];if(0===at.length)return null===se(Qe,at)?[at]:[];for(var gt=0,Ie=0,re=[];Ie<at.length;){Qe.lastIndex=Ne?0:Ie;var V,Y=se(Qe,Ne?k(at,Ie):at);if(null===Y||(V=ze(X(Qe.lastIndex+(Ne?Ie:0)),at.length))===gt)Ie=G(at,Ie,It);else{if(W(re,k(at,gt,Ie)),re.length===Et)return re;for(var ge=1;ge<=Y.length-1;ge++)if(W(re,Y[ge]),re.length===Et)return re;Ie=gt=V}}return W(re,k(at,gt)),re}]},!le,Ne)},function(C,u,a){"use strict";var E=a(36),v=a(7),b=a(15),x=a(95),D=a(44),F=a(34),R=a(143),U=a(58),G=a(88),X=a(130),$=a(18),K=a(72).f,de=a(51).f,se=a(37).f,ie=a(196),Ae=a(159).trim,Te="Number",Ne=v[Te],Se=Ne.prototype,ze=v.TypeError,Ee=b("".slice),pe=b("".charCodeAt),W=function(we){var Ye=X(we,"number");return"bigint"==typeof Ye?Ye:k(Ye)},k=function(we){var it,ot,at,ht,St,It,zt,Qe,Ye=X(we,"number");if(G(Ye))throw ze("Cannot convert a Symbol value to a number");if("string"==typeof Ye&&Ye.length>2)if(Ye=Ae(Ye),43===(it=pe(Ye,0))||45===it){if(88===(ot=pe(Ye,2))||120===ot)return NaN}else if(48===it){switch(pe(Ye,1)){case 66:case 98:at=2,ht=49;break;case 79:case 111:at=8,ht=55;break;default:return+Ye}for(It=(St=Ee(Ye,2)).length,zt=0;zt<It;zt++)if((Qe=pe(St,zt))<48||Qe>ht)return NaN;return parseInt(St,at)}return+Ye};if(x(Te,!Ne(" 0o1")||!Ne("0b1")||Ne("+0x1"))){for(var Je,le=function(Ye){var it=arguments.length<1?0:Ne(W(Ye)),ot=this;return U(Se,ot)&&$(function(){ie(ot)})?R(Object(it),ot,le):it},be=E?K(Ne):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;be.length>Pe;Pe++)F(Ne,Je=be[Pe])&&!F(le,Je)&&se(le,Je,de(Ne,Je));le.prototype=Se,Se.constructor=le,D(v,Te,le)}},function(C,u,a){a(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(C,u,a){var E=a(7),v=a(15),b=a(18),x=a(50),D=E.Object,F=v("".split);C.exports=b(function(){return!D("z").propertyIsEnumerable(0)})?function(R){return"String"==x(R)?F(R,""):D(R)}:D},function(C,u){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{"object"==typeof window&&(a=window)}C.exports=a},function(C,u,a){var E=a(27),v=a(54),b=a(37),x=E("unscopables"),D=Array.prototype;null==D[x]&&b.f(D,x,{configurable:!0,value:v(null)}),C.exports=function(F){D[x][F]=!0}},function(C,u,a){var E=a(64),v=a(107);(C.exports=function(b,x){return v[b]||(v[b]=void 0!==x?x:{})})("versions",[]).push({version:"3.19.3",mode:E?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(C,u,a){var E=a(15),v=0,b=Math.random(),x=E(1..toString);C.exports=function(D){return"Symbol("+(void 0===D?"":D)+")_"+x(++v+b,36)}},function(C,u,a){var E=a(7),v=a(33),b=E.document,x=v(b)&&v(b.createElement);C.exports=function(D){return x?b.createElement(D):{}}},function(C,u,a){var E=a(130),v=a(88);C.exports=function(b){var x=E(b,"string");return v(x)?x:x+""}},function(C,u,a){var E=a(7),v=a(46),b=a(28),x=a(58),D=a(128),F=E.Object;C.exports=D?function(R){return"symbol"==typeof R}:function(R){var U=v("Symbol");return b(U)&&x(U.prototype,F(R))}},function(C,u,a){var v=a(7).String;C.exports=function(b){try{return v(b)}catch{return"Object"}}},function(C,u,a){var E=a(68),v=Math.min;C.exports=function(b){return b>0?v(E(b),9007199254740991):0}},function(C,u,a){var E=a(84),v=a(85),b=E("keys");C.exports=function(x){return b[x]||(b[x]=v(x))}},function(C,u,a){var E=a(15),v=a(28),b=a(107),x=E(Function.toString);v(b.inspectSource)||(b.inspectSource=function(D){return x(D)}),C.exports=b.inspectSource},function(C,u,a){"use strict";var E={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,b=v&&!E.call({1:2},1);u.f=b?function(D){var F=v(this,D);return!!F&&F.enumerable}:E},function(C,u,a){var E=a(36),v=a(34),b=Function.prototype,x=E&&Object.getOwnPropertyDescriptor,D=v(b,"name"),F=D&&"something"===function(){}.name,R=D&&(!E||E&&x(b,"name").configurable);C.exports={EXISTS:D,PROPER:F,CONFIGURABLE:R}},function(C,u,a){var E=a(18),v=a(28),b=/#|\.prototype\./,x=function(G,X){var $=F[D(G)];return $==U||$!=R&&(v(X)?E(X):!!X)},D=x.normalize=function(G){return String(G).replace(b,".").toLowerCase()},F=x.data={},R=x.NATIVE="N",U=x.POLYFILL="P";C.exports=x},function(C,u,a){var E=a(7),v=a(34),b=a(28),x=a(38),D=a(91),F=a(137),R=D("IE_PROTO"),U=E.Object,G=U.prototype;C.exports=F?U.getPrototypeOf:function(X){var $=x(X);if(v($,R))return $[R];var K=$.constructor;return b(K)&&$ instanceof K?K.prototype:$ instanceof U?G:null}},function(C,u,a){var E=a(15),v=a(32),b=a(172);C.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var F,x=!1,D={};try{(F=E(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(D,[]),x=D instanceof Array}catch{}return function(U,G){return v(U),b(G),x?F(U,G):U.__proto__=G,U}}():void 0)},function(C,u,a){var E=a(7),v=a(116),b=a(28),x=a(50),F=a(27)("toStringTag"),R=E.Object,U="Arguments"==x(function(){return arguments}());C.exports=v?x:function(X){var $,K,de;return void 0===X?"Undefined":null===X?"Null":"string"==typeof(K=function(X,$){try{return X[$]}catch{}}($=R(X),F))?K:U?x($):"Object"==(de=x($))&&b($.callee)?"Arguments":de}},function(C,u,a){var E=a(50);C.exports=Array.isArray||function(b){return"Array"==E(b)}},function(C,u,a){var E=a(15),v=a(18),b=a(28),x=a(98),D=a(46),F=a(92),R=function(){},U=[],G=D("Reflect","construct"),X=/^\s*(?:class|function)\b/,$=E(X.exec),K=!X.exec(R),de=function(ie){if(!b(ie))return!1;try{return G(R,U,ie),!0}catch{return!1}};C.exports=!G||v(function(){var ie;return de(de.call)||!de(Object)||!de(function(){ie=!0})||ie})?function(ie){if(!b(ie))return!1;switch(x(ie)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return K||!!$(X,F(ie))}:de},function(C,u,a){var E=a(15);C.exports=E([].slice)},function(C,u,a){"use strict";var pe,W,E=a(35),v=a(15),b=a(40),x=a(184),D=a(151),F=a(84),R=a(54),U=a(56).get,G=a(185),X=a(186),$=F("native-string-replace",String.prototype.replace),K=RegExp.prototype.exec,de=K,se=v("".charAt),ie=v("".indexOf),Ae=v("".replace),Te=v("".slice),Ne=(W=/b*/g,E(K,pe=/a/,"a"),E(K,W,"a"),0!==pe.lastIndex||0!==W.lastIndex),Se=D.BROKEN_CARET,ze=void 0!==/()??/.exec("")[1];(Ne||ze||Se||G||X)&&(de=function(W){var Je,we,Ye,it,ot,at,ht,k=this,le=U(k),be=b(W),Pe=le.raw;if(Pe)return Pe.lastIndex=k.lastIndex,Je=E(de,Pe,be),k.lastIndex=Pe.lastIndex,Je;var St=le.groups,It=Se&&k.sticky,zt=E(x,k),Qe=k.source,Et=0,gt=be;if(It&&(zt=Ae(zt,"y",""),-1===ie(zt,"g")&&(zt+="g"),gt=Te(be,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==se(be,k.lastIndex-1))&&(Qe="(?: "+Qe+")",gt=" "+gt,Et++),we=new RegExp("^(?:"+Qe+")",zt)),ze&&(we=new RegExp("^"+Qe+"$(?!\\s)",zt)),Ne&&(Ye=k.lastIndex),it=E(K,It?we:k,gt),It?it?(it.input=Te(it.input,Et),it[0]=Te(it[0],Et),it.index=k.lastIndex,k.lastIndex+=it[0].length):k.lastIndex=0:Ne&&it&&(k.lastIndex=k.global?it.index+it[0].length:Ye),ze&&it&&it.length>1&&E($,it[0],we,function(){for(ot=1;ot<arguments.length-2;ot++)void 0===arguments[ot]&&(it[ot]=void 0)}),it&&St)for(it.groups=at=R(null),ot=0;ot<St.length;ot++)at[(ht=St[ot])[0]]=it[ht[1]];return it}),C.exports=de},function(C,u,a){"use strict";var E=a(16),v=a(7),b=a(67),x=a(68),D=a(43),F=a(38),R=a(119),U=a(61),X=a(75)("splice"),$=v.TypeError,K=Math.max,de=Math.min,se=9007199254740991,ie="Maximum allowed length exceeded";E({target:"Array",proto:!0,forced:!X},{splice:function(Te,Ne){var W,k,le,be,Pe,Je,Se=F(this),ze=D(Se),Ee=b(Te,ze),pe=arguments.length;if(0===pe?W=k=0:1===pe?(W=0,k=ze-Ee):(W=pe-2,k=de(K(x(Ne),0),ze-Ee)),ze+W-k>se)throw $(ie);for(le=R(Se,k),be=0;be<k;be++)(Pe=Ee+be)in Se&&U(le,be,Se[Pe]);if(le.length=k,W<k){for(be=Ee;be<ze-k;be++)Je=be+W,(Pe=be+k)in Se?Se[Je]=Se[Pe]:delete Se[Je];for(be=ze;be>ze-k+W;be--)delete Se[be-1]}else if(W>k)for(be=ze-k;be>Ee;be--)Je=be+W-1,(Pe=be+k-1)in Se?Se[Je]=Se[Pe]:delete Se[Je];for(be=0;be<W;be++)Se[be+Ee]=arguments[be+2];return Se.length=ze-k+W,le}})},function(C,u,a){"use strict";var E=a(16),v=a(201);E({target:"String",proto:!0,forced:a(202)("anchor")},{anchor:function(D){return v(this,"a","name",D)}})},function(C,u,a){"use strict";(function(E){u.a="object"==typeof E&&E&&E.Object===Object&&E}).call(this,a(82))},function(C,u,a){"use strict";(function(E){var v=a(31),b=tn&&!tn.nodeType&&tn,x=b&&"object"==typeof E&&E&&!E.nodeType&&E,F=x&&x.exports===b?v.a.Buffer:void 0,R=F?F.allocUnsafe:void 0;u.a=function U(G,X){if(X)return G.slice();var $=G.length,K=R?R($):new G.constructor($);return G.copy(K),K}}).call(this,a(121)(C))},function(C,u,a){var E=a(7),v=a(108),b="__core-js_shared__",x=E[b]||v(b,{});C.exports=x},function(C,u,a){var E=a(7),v=Object.defineProperty;C.exports=function(b,x){try{v(E,b,{value:x,configurable:!0,writable:!0})}catch{E[b]=x}return x}},function(C,u,a){var E=a(65),v=a(18);C.exports=!!Object.getOwnPropertySymbols&&!v(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&E&&E<41})},function(C,u){C.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(C,u,a){"use strict";var E=a(16),v=a(35),b=a(64),x=a(94),D=a(28),F=a(171),R=a(96),U=a(97),G=a(73),X=a(57),$=a(44),K=a(27),de=a(70),se=a(136),ie=x.PROPER,Ae=x.CONFIGURABLE,Te=se.IteratorPrototype,Ne=se.BUGGY_SAFARI_ITERATORS,Se=K("iterator"),Ee="values",pe="entries",W=function(){return this};C.exports=function(k,le,be,Pe,Je,we,Ye){F(be,le,Pe);var Qe,Et,gt,it=function(Ie){if(Ie===Je&&It)return It;if(!Ne&&Ie in ht)return ht[Ie];switch(Ie){case"keys":case Ee:case pe:return function(){return new be(this,Ie)}}return function(){return new be(this)}},ot=le+" Iterator",at=!1,ht=k.prototype,St=ht[Se]||ht["@@iterator"]||Je&&ht[Je],It=!Ne&&St||it(Je),zt="Array"==le&&ht.entries||St;if(zt&&(Qe=R(zt.call(new k)))!==Object.prototype&&Qe.next&&(!b&&R(Qe)!==Te&&(U?U(Qe,Te):D(Qe[Se])||$(Qe,Se,W)),G(Qe,ot,!0,!0),b&&(de[ot]=W)),ie&&Je==Ee&&St&&St.name!==Ee&&(!b&&Ae?X(ht,"name",Ee):(at=!0,It=function(){return v(St,this)})),Je)if(Et={values:it(Ee),keys:we?It:it("keys"),entries:it(pe)},Ye)for(gt in Et)(Ne||at||!(gt in ht))&&$(ht,gt,Et[gt]);else E({target:le,proto:!0,forced:Ne||at},Et);return(!b||Ye)&&ht[Se]!==It&&$(ht,Se,It,{name:Je}),de[le]=It,Et}},function(C,u){u.f=Object.getOwnPropertySymbols},function(C,u,a){var E=a(7),v=a(67),b=a(43),x=a(61),D=E.Array,F=Math.max;C.exports=function(R,U,G){for(var X=b(R),$=v(U,X),K=v(void 0===G?X:G,X),de=D(F(K-$,0)),se=0;$<K;$++,se++)x(de,se,R[$]);return de.length=se,de}},function(C,u,a){var E=a(7),v=a(62),b=a(35),x=a(32),D=a(89),F=a(140),R=a(43),U=a(58),G=a(141),X=a(115),$=a(142),K=E.TypeError,de=function(ie,Ae){this.stopped=ie,this.result=Ae},se=de.prototype;C.exports=function(ie,Ae,Te){var W,k,le,be,Pe,Je,we,Se=!(!Te||!Te.AS_ENTRIES),ze=!(!Te||!Te.IS_ITERATOR),Ee=!(!Te||!Te.INTERRUPTED),pe=v(Ae,Te&&Te.that),Ye=function(ot){return W&&$(W,"normal",ot),new de(!0,ot)},it=function(ot){return Se?(x(ot),Ee?pe(ot[0],ot[1],Ye):pe(ot[0],ot[1])):Ee?pe(ot,Ye):pe(ot)};if(ze)W=ie;else{if(!(k=X(ie)))throw K(D(ie)+" is not iterable");if(F(k)){for(le=0,be=R(ie);be>le;le++)if((Pe=it(ie[le]))&&U(se,Pe))return Pe;return new de(!1)}W=G(ie,k)}for(Je=W.next;!(we=b(Je,W)).done;){try{Pe=it(we.value)}catch(ot){$(W,"throw",ot)}if("object"==typeof Pe&&Pe&&U(se,Pe))return Pe}return new de(!1)}},function(C,u,a){var E=a(98),v=a(59),b=a(70),D=a(27)("iterator");C.exports=function(F){if(null!=F)return v(F,D)||v(F,"@@iterator")||b[E(F)]}},function(C,u,a){var b={};b[a(27)("toStringTag")]="z",C.exports="[object z]"===String(b)},function(C,u,a){var E=a(7),v=a(58),b=E.TypeError;C.exports=function(x,D){if(v(D,x))return x;throw b("Incorrect invocation")}},function(C,u,a){var v=a(27)("iterator"),b=!1;try{var x=0,D={next:function(){return{done:!!x++}},return:function(){b=!0}};D[v]=function(){return this},Array.from(D,function(){throw 2})}catch{}C.exports=function(F,R){if(!R&&!b)return!1;var U=!1;try{var G={};G[v]=function(){return{next:function(){return{done:U=!0}}}},F(G)}catch{}return U}},function(C,u,a){var E=a(180);C.exports=function(v,b){return new(E(v))(0===b?0:b)}},function(C,u,a){"use strict";var E=a(18);C.exports=function(v,b){var x=[][v];return!!x&&E(function(){x.call(null,b||function(){throw 1},1)})}},function(C,u){C.exports=function(a){if(!a.webpackPolyfill){var E=Object.create(a);E.children||(E.children=[]),Object.defineProperty(E,"loaded",{enumerable:!0,get:function(){return E.l}}),Object.defineProperty(E,"id",{enumerable:!0,get:function(){return E.i}}),Object.defineProperty(E,"exports",{enumerable:!0}),E.webpackPolyfill=1}return E}},function(C,u,a){"use strict";a(19);var E=a(15),v=a(44),b=a(102),x=a(18),D=a(27),F=a(57),R=D("species"),U=RegExp.prototype;C.exports=function(G,X,$,K){var de=D(G),se=!x(function(){var Ne={};return Ne[de]=function(){return 7},7!=""[G](Ne)}),ie=se&&!x(function(){var Ne=!1,Se=/a/;return"split"===G&&((Se={}).constructor={},Se.constructor[R]=function(){return Se},Se.flags="",Se[de]=/./[de]),Se.exec=function(){return Ne=!0,null},Se[de](""),!Ne});if(!se||!ie||$){var Ae=E(/./[de]),Te=X(de,""[G],function(Ne,Se,ze,Ee,pe){var W=E(Ne),k=Se.exec;return k===b||k===U.exec?se&&!pe?{done:!0,value:Ae(Se,ze,Ee)}:{done:!0,value:W(ze,Se,Ee)}:{done:!1}});v(String.prototype,G,Te[0]),v(U,de,Te[1])}K&&F(U[de],"sham",!0)}},function(C,u,a){"use strict";var E=a(146).charAt;C.exports=function(v,b,x){return b+(x?E(v,b).length:1)}},function(C,u,a){var E=a(7),v=a(35),b=a(32),x=a(28),D=a(50),F=a(102),R=E.TypeError;C.exports=function(U,G){var X=U.exec;if(x(X)){var $=v(X,U,G);return null!==$&&b($),$}if("RegExp"===D(U))return v(F,U,G);throw R("RegExp#exec called on incompatible receiver")}},function(C,u,a){"use strict";var E=a(76),v=a(35),b=a(15),x=a(122),D=a(18),F=a(32),R=a(28),U=a(68),G=a(90),X=a(40),$=a(45),K=a(123),de=a(59),se=a(197),ie=a(124),Te=a(27)("replace"),Ne=Math.max,Se=Math.min,ze=b([].concat),Ee=b([].push),pe=b("".indexOf),W=b("".slice),k=function(Je){return void 0===Je?Je:String(Je)},le="$0"==="a".replace(/./,"$0"),be=!!/./[Te]&&""===/./[Te]("a","$0");x("replace",function(Je,we,Ye){var it=be?"$":"$0";return[function(at,ht){var St=$(this),It=null==at?void 0:de(at,Te);return It?v(It,at,St,ht):v(we,X(St),at,ht)},function(ot,at){var ht=F(this),St=X(ot);if("string"==typeof at&&-1===pe(at,it)&&-1===pe(at,"$<")){var It=Ye(we,ht,St,at);if(It.done)return It.value}var zt=R(at);zt||(at=X(at));var Qe=ht.global;if(Qe){var Et=ht.unicode;ht.lastIndex=0}for(var gt=[];;){var Ie=ie(ht,St);if(null===Ie||(Ee(gt,Ie),!Qe))break;""===X(Ie[0])&&(ht.lastIndex=K(St,G(ht.lastIndex),Et))}for(var Y="",V=0,ge=0;ge<gt.length;ge++){for(var Oe=X((Ie=gt[ge])[0]),xe=Ne(Se(U(Ie.index),St.length),0),ct=[],vt=1;vt<Ie.length;vt++)Ee(ct,k(Ie[vt]));var Ct=Ie.groups;if(zt){var Nt=ze([Oe],ct,xe,St);void 0!==Ct&&Ee(Nt,Ct);var Le=X(E(at,void 0,Nt))}else Le=se(Oe,St,xe,ct,Ct,at);xe>=V&&(Y+=W(St,V,xe)+Le,V=xe+Oe.length)}return Y+W(St,V)}]},!!D(function(){var Je=/./;return Je.exec=function(){var we=[];return we.groups={a:"7"},we},"7"!=="".replace(Je,"$<a>")})||!le||be)},function(C,u,a){var E=a(50),v=a(7);C.exports="process"==E(v.process)},function(C,u,a){a(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(C,u,a){var E=a(109);C.exports=E&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(C,u,a){var E=a(36),v=a(18),b=a(86);C.exports=!E&&!v(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a})},function(C,u,a){var E=a(7),v=a(35),b=a(33),x=a(88),D=a(59),F=a(169),R=a(27),U=E.TypeError,G=R("toPrimitive");C.exports=function(X,$){if(!b(X)||x(X))return X;var de,K=D(X,G);if(K){if(void 0===$&&($="default"),de=v(K,X,$),!b(de)||x(de))return de;throw U("Can't convert object to primitive value")}return void 0===$&&($="number"),F(X,$)}},function(C,u,a){var E=a(15),v=a(34),b=a(39),x=a(132).indexOf,D=a(69),F=E([].push);C.exports=function(R,U){var K,G=b(R),X=0,$=[];for(K in G)!v(D,K)&&v(G,K)&&F($,K);for(;U.length>X;)v(G,K=U[X++])&&(~x($,K)||F($,K));return $}},function(C,u,a){var E=a(39),v=a(67),b=a(43),x=function(D){return function(F,R,U){var K,G=E(F),X=b(G),$=v(U,X);if(D&&R!=R){for(;X>$;)if((K=G[$++])!=K)return!0}else for(;X>$;$++)if((D||$ in G)&&G[$]===R)return D||$||0;return!D&&-1}};C.exports={includes:x(!0),indexOf:x(!1)}},function(C,u,a){var E=a(46);C.exports=E("document","documentElement")},function(C,u,a){var E=a(34),v=a(135),b=a(51),x=a(37);C.exports=function(D,F){for(var R=v(F),U=x.f,G=b.f,X=0;X<R.length;X++){var $=R[X];E(D,$)||U(D,$,G(F,$))}}},function(C,u,a){var E=a(46),v=a(15),b=a(72),x=a(112),D=a(32),F=v([].concat);C.exports=E("Reflect","ownKeys")||function(U){var G=b.f(D(U)),X=x.f;return X?F(G,X(U)):G}},function(C,u,a){"use strict";var X,$,K,E=a(18),v=a(28),b=a(54),x=a(96),D=a(44),F=a(27),R=a(64),U=F("iterator"),G=!1;[].keys&&("next"in(K=[].keys())?($=x(x(K)))!==Object.prototype&&(X=$):G=!0),null==X||E(function(){var se={};return X[U].call(se)!==se})?X={}:R&&(X=b(X)),v(X[U])||D(X,U,function(){return this}),C.exports={IteratorPrototype:X,BUGGY_SAFARI_ITERATORS:G}},function(C,u,a){var E=a(18);C.exports=!E(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})},function(C,u,a){var E=a(16),v=a(15),b=a(69),x=a(33),D=a(34),F=a(37).f,R=a(72),U=a(139),G=a(174),X=a(85),$=a(176),K=!1,de=X("meta"),se=0,ie=function(Ee){F(Ee,de,{value:{objectID:"O"+se++,weakData:{}}})},ze=C.exports={enable:function(){ze.enable=function(){},K=!0;var Ee=R.f,pe=v([].splice),W={};W[de]=1,Ee(W).length&&(R.f=function(k){for(var le=Ee(k),be=0,Pe=le.length;be<Pe;be++)if(le[be]===de){pe(le,be,1);break}return le},E({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:U.f}))},fastKey:function(Ee,pe){if(!x(Ee))return"symbol"==typeof Ee?Ee:("string"==typeof Ee?"S":"P")+Ee;if(!D(Ee,de)){if(!G(Ee))return"F";if(!pe)return"E";ie(Ee)}return Ee[de].objectID},getWeakData:function(Ee,pe){if(!D(Ee,de)){if(!G(Ee))return!0;if(!pe)return!1;ie(Ee)}return Ee[de].weakData},onFreeze:function(Ee){return $&&K&&G(Ee)&&!D(Ee,de)&&ie(Ee),Ee}};b[de]=!0},function(C,u,a){var E=a(50),v=a(39),b=a(72).f,x=a(113),D="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.f=function(U){return D&&"Window"==E(U)?function(R){try{return b(R)}catch{return x(D)}}(U):b(v(U))}},function(C,u,a){var E=a(27),v=a(70),b=E("iterator"),x=Array.prototype;C.exports=function(D){return void 0!==D&&(v.Array===D||x[b]===D)}},function(C,u,a){var E=a(7),v=a(35),b=a(55),x=a(32),D=a(89),F=a(115),R=E.TypeError;C.exports=function(U,G){var X=arguments.length<2?F(U):G;if(b(X))return x(v(X,U));throw R(D(U)+" is not iterable")}},function(C,u,a){var E=a(35),v=a(32),b=a(59);C.exports=function(x,D,F){var R,U;v(x);try{if(!(R=b(x,"return"))){if("throw"===D)throw F;return F}R=E(R,x)}catch(G){U=!0,R=G}if("throw"===D)throw F;if(U)throw R;return v(R),F}},function(C,u,a){var E=a(28),v=a(33),b=a(97);C.exports=function(x,D,F){var R,U;return b&&E(R=D.constructor)&&R!==F&&v(U=R.prototype)&&U!==F.prototype&&b(x,U),x}},function(C,u,a){var E=a(44);C.exports=function(v,b,x){for(var D in b)E(v,D,b[D],x);return v}},function(C,u,a){"use strict";var E=a(46),v=a(37),b=a(27),x=a(36),D=b("species");C.exports=function(F){var R=E(F);x&&R&&!R[D]&&(0,v.f)(R,D,{configurable:!0,get:function(){return this}})}},function(C,u,a){var E=a(15),v=a(68),b=a(40),x=a(45),D=E("".charAt),F=E("".charCodeAt),R=E("".slice),U=function(G){return function(X,$){var ie,Ae,K=b(x(X)),de=v($),se=K.length;return de<0||de>=se?G?"":void 0:(ie=F(K,de))<55296||ie>56319||de+1===se||(Ae=F(K,de+1))<56320||Ae>57343?G?D(K,de):ie:G?R(K,de,de+2):Ae-56320+(ie-55296<<10)+65536}};C.exports={codeAt:U(!1),charAt:U(!0)}},function(C,u){C.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(C,u,a){var v=a(86)("span").classList,b=v&&v.constructor&&v.constructor.prototype;C.exports=b===Object.prototype?void 0:b},function(C,u,a){var E=a(27);u.f=E},function(C,u,a){var E=a(181),v=a(34),b=a(149),x=a(37).f;C.exports=function(D){var F=E.Symbol||(E.Symbol={});v(F,D)||x(F,D,{value:b.f(D)})}},function(C,u,a){var E=a(18),b=a(7).RegExp,x=E(function(){var R=b("a","y");return R.lastIndex=2,null!=R.exec("abcd")}),D=x||E(function(){return!b("a","y").sticky}),F=x||E(function(){var R=b("^r","gy");return R.lastIndex=2,null!=R.exec("str")});C.exports={BROKEN_CARET:F,MISSED_STICKY:D,UNSUPPORTED_Y:x}},function(C,u,a){"use strict";var E=a(16),v=a(132).includes,b=a(83);E({target:"Array",proto:!0},{includes:function(D){return v(this,D,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(C,u,a){"use strict";var E=a(16),v=a(15),b=a(193),x=a(45),D=a(40),F=a(194),R=v("".indexOf);E({target:"String",proto:!0,forced:!F("includes")},{includes:function(G){return!!~R(D(x(this)),D(b(G)),arguments.length>1?arguments[1]:void 0)}})},function(C,u,a){var E=a(33),v=a(50),x=a(27)("match");C.exports=function(D){var F;return E(D)&&(void 0!==(F=D[x])?!!F:"RegExp"==v(D))}},function(C,u){var E,v,a=C.exports={};function b(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function D(ie){if(E===setTimeout)return setTimeout(ie,0);if((E===b||!E)&&setTimeout)return E=setTimeout,setTimeout(ie,0);try{return E(ie,0)}catch{try{return E.call(null,ie,0)}catch{return E.call(this,ie,0)}}}!function(){try{E="function"==typeof setTimeout?setTimeout:b}catch{E=b}try{v="function"==typeof clearTimeout?clearTimeout:x}catch{v=x}}();var G,R=[],U=!1,X=-1;function $(){!U||!G||(U=!1,G.length?R=G.concat(R):X=-1,R.length&&K())}function K(){if(!U){var ie=D($);U=!0;for(var Ae=R.length;Ae;){for(G=R,R=[];++X<Ae;)G&&G[X].run();X=-1,Ae=R.length}G=null,U=!1,function F(ie){if(v===clearTimeout)return clearTimeout(ie);if((v===x||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(ie);try{return v(ie)}catch{try{return v.call(null,ie)}catch{return v.call(this,ie)}}}(ie)}}function de(ie,Ae){this.fun=ie,this.array=Ae}function se(){}a.nextTick=function(ie){var Ae=new Array(arguments.length-1);if(arguments.length>1)for(var Te=1;Te<arguments.length;Te++)Ae[Te-1]=arguments[Te];R.push(new de(ie,Ae)),1===R.length&&!U&&D(K)},de.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=se,a.addListener=se,a.once=se,a.off=se,a.removeListener=se,a.removeAllListeners=se,a.emit=se,a.prependListener=se,a.prependOnceListener=se,a.listeners=function(ie){return[]},a.binding=function(ie){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(ie){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(C,u,a){var E=a(32),v=a(157),x=a(27)("species");C.exports=function(D,F){var U,R=E(D).constructor;return void 0===R||null==(U=E(R)[x])?F:v(U)}},function(C,u,a){var E=a(7),v=a(100),b=a(89),x=E.TypeError;C.exports=function(D){if(v(D))return D;throw x(b(D)+" is not a constructor")}},function(C,u,a){"use strict";var E=a(16),v=a(159).trim;E({target:"String",proto:!0,forced:a(195)("trim")},{trim:function(){return v(this)}})},function(C,u,a){var E=a(15),v=a(45),b=a(40),x=a(160),D=E("".replace),F="["+x+"]",R=RegExp("^"+F+F+"*"),U=RegExp(F+F+"*$"),G=function(X){return function($){var K=b(v($));return 1&X&&(K=D(K,R,"")),2&X&&(K=D(K,U,"")),K}};C.exports={start:G(1),end:G(2),trim:G(3)}},function(C,u){C.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(C,u,a){"use strict";var E=a(35),v=a(122),b=a(32),x=a(90),D=a(40),F=a(45),R=a(59),U=a(123),G=a(124);v("match",function(X,$,K){return[function(se){var ie=F(this),Ae=null==se?void 0:R(se,X);return Ae?E(Ae,se,ie):new RegExp(se)[X](D(ie))},function(de){var se=b(this),ie=D(de),Ae=K($,se,ie);if(Ae.done)return Ae.value;if(!se.global)return G(se,ie);var Te=se.unicode;se.lastIndex=0;for(var ze,Ne=[],Se=0;null!==(ze=G(se,ie));){var Ee=D(ze[0]);Ne[Se]=Ee,""===Ee&&(se.lastIndex=U(ie,x(se.lastIndex),Te)),Se++}return 0===Se?null:Ne}]})},function(C,u,a){var pe,W,k,le,E=a(7),v=a(76),b=a(62),x=a(28),D=a(34),F=a(18),R=a(133),U=a(101),G=a(86),X=a(163),$=a(126),K=E.setImmediate,de=E.clearImmediate,se=E.process,ie=E.Dispatch,Ae=E.Function,Te=E.MessageChannel,Ne=E.String,Se=0,ze={},Ee="onreadystatechange";try{pe=E.location}catch{}var be=function(Ye){if(D(ze,Ye)){var it=ze[Ye];delete ze[Ye],it()}},Pe=function(Ye){return function(){be(Ye)}},Je=function(Ye){be(Ye.data)},we=function(Ye){E.postMessage(Ne(Ye),pe.protocol+"//"+pe.host)};(!K||!de)&&(K=function(it){var ot=U(arguments,1);return ze[++Se]=function(){v(x(it)?it:Ae(it),void 0,ot)},W(Se),Se},de=function(it){delete ze[it]},$?W=function(Ye){se.nextTick(Pe(Ye))}:ie&&ie.now?W=function(Ye){ie.now(Pe(Ye))}:Te&&!X?(le=(k=new Te).port2,k.port1.onmessage=Je,W=b(le.postMessage,le)):E.addEventListener&&x(E.postMessage)&&!E.importScripts&&pe&&"file:"!==pe.protocol&&!F(we)?(W=we,E.addEventListener("message",Je,!1)):W=Ee in G("script")?function(Ye){R.appendChild(G("script"))[Ee]=function(){R.removeChild(this),be(Ye)}}:function(Ye){setTimeout(Pe(Ye),0)}),C.exports={set:K,clear:de}},function(C,u,a){var E=a(53);C.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(E)},function(C,u,a){"use strict";var E=a(55),v=function(b){var x,D;this.promise=new b(function(F,R){if(void 0!==x||void 0!==D)throw TypeError("Bad Promise constructor");x=F,D=R}),this.resolve=E(x),this.reject=E(D)};C.exports.f=function(b){return new v(b)}},function(C,u,a){"use strict";u.a=function E(){return!1}},function(C,u,a){"use strict";(function(E){a.d(u,"a",function(){return Le});var v=a(0);function F(_,j){void 0===j&&(j="Illegal state"),_||function D(_){throw new Error("[mobx-utils] "+_)}(j)}var X=function(_){return _&&_!==Object.prototype&&Object.getOwnPropertyNames(_).concat(X(Object.getPrototypeOf(_))||[])},K=function(_){return function(_){var j=X(_);return j.filter(function(M,B){return j.indexOf(M)===B})}(_).filter(function(j){return"constructor"!==j&&!~j.indexOf("__")})},de="pending",se="fulfilled",ie="rejected";function Ae(_){switch(this.state){case de:return _.pending&&_.pending(this.value);case ie:return _.rejected&&_.rejected(this.value);case se:return _.fulfilled?_.fulfilled(this.value):this.value}}function Te(_,j){if(F(arguments.length<=2,"fromPromise expects up to two arguments"),F("function"==typeof _||"object"==typeof _&&_&&"function"==typeof _.then,"Please pass a promise or function to fromPromise"),!0===_.isPromiseBasedObservable)return _;"function"==typeof _&&(_=new Promise(_));var T=_;_.then(Object(v.k)("observableFromPromise-resolve",function(B){T.value=B,T.state=se}),Object(v.k)("observableFromPromise-reject",function(B){T.value=B,T.state=ie})),T.isPromiseBasedObservable=!0,T.case=Ae;var M=j&&j.state===se?j.value:void 0;return Object(v.q)(T,{value:M,state:de},{},{deep:!1}),T}!function(_){_.reject=Object(v.k)("fromPromise.reject",function(T){var M=_(Promise.reject(T));return M.state=ie,M.value=T,M}),_.resolve=Object(v.k)("fromPromise.resolve",function j(T){void 0===T&&(T=void 0);var M=_(Promise.resolve(T));return M.state=se,M.value=T,M})}(Te||(Te={}));var k=function(_,j,T,M){var We,B=arguments.length,ae=B<3?j:null===M?M=Object.getOwnPropertyDescriptor(j,T):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(_,j,T,M);else for(var Xe=_.length-1;Xe>=0;Xe--)(We=_[Xe])&&(ae=(B<3?We(ae):B>3?We(j,T,ae):We(j,T))||ae);return B>3&&ae&&Object.defineProperty(j,T,ae),ae};!function(){function _(j,T){var M=this;Object(v.G)(function(){M.current=T,M.subscription=j.subscribe(M)})}_.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},_.prototype.next=function(j){this.current=j},_.prototype.complete=function(){this.dispose()},_.prototype.error=function(j){this.current=j,this.dispose()},k([v.C.ref],_.prototype,"current",void 0),k([v.k.bound],_.prototype,"next",null),k([v.k.bound],_.prototype,"complete",null),k([v.k.bound],_.prototype,"error",null)}();var we=function(){return we=Object.assign||function(_){for(var j,T=1,M=arguments.length;T<M;T++)for(var B in j=arguments[T])Object.prototype.hasOwnProperty.call(j,B)&&(_[B]=j[B]);return _},we.apply(this,arguments)},Ye=function(_,j,T,M){var We,B=arguments.length,ae=B<3?j:null===M?M=Object.getOwnPropertyDescriptor(j,T):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(_,j,T,M);else for(var Xe=_.length-1;Xe>=0;Xe--)(We=_[Xe])&&(ae=(B<3?We(ae):B>3?We(j,T,ae):We(j,T))||ae);return B>3&&ae&&Object.defineProperty(j,T,ae),ae},it=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function Ct(_){if(!_)return"ROOT";for(var j=[];_.parent;)j.push(_.path),_=_.parent;return j.reverse().join("/")}function Nt(_){return Object(v.A)(_)||Object(v.y)(_)||Object(v.z)(_)}function Le(_,j){var T=new WeakMap;function M(Xe){var ft=T.get(Xe.object);(function B(Xe,ft){switch(Xe.type){case"add":ae(Xe.newValue,ft,Xe.name);break;case"update":We(Xe.oldValue),ae(Xe.newValue,ft,Xe.name||""+Xe.index);break;case"remove":case"delete":We(Xe.oldValue);break;case"splice":Xe.removed.map(We),Xe.added.forEach(function(Xt,Ft){return ae(Xt,ft,""+(Xe.index+Ft))});for(var dt=Xe.index+Xe.addedCount;dt<Xe.object.length;dt++)if(Nt(Xe.object[dt])){var Mt=T.get(Xe.object[dt]);Mt&&(Mt.path=""+dt)}}})(Xe,ft),j(Xe,Ct(ft),_)}function ae(Xe,ft,dt){if(Nt(Xe)){var Mt=T.get(Xe);if(Mt){if(Mt.parent!==ft||Mt.path!==dt)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+Ct(ft)+"/"+dt+"', but it already exists at '"+Ct(Mt.parent)+"/"+Mt.path+"'")}else{var Xt={parent:ft,path:dt,dispose:Object(v.D)(Xe,M)};T.set(Xe,Xt),Object(v.p)(Xe).forEach(function(Ft){return ae(Ft[1],Xt,Ft[0])})}}}function We(Xe){if(Nt(Xe)){var ft=T.get(Xe);if(!ft)return;T.delete(Xe),ft.dispose(),Object(v.L)(Xe).forEach(We)}}return ae(_,void 0,""),function(){We(_)}}!function(){function _(j){var T=this;this.model=j,this.localValues=v.C.map({}),this.localComputedValues=v.C.map({}),this.isPropertyDirty=function(M){return T.localValues.has(M)},F(Object(v.A)(j),"createViewModel expects an observable object"),K(j).forEach(function(M){if(M!==v.a&&"__mobxDidRunLazyInitializers"!==M){if(F(-1===it.indexOf(M),"The propertyname "+M+" is reserved and cannot be used with viewModels"),Object(v.w)(j,M)){var B=Object(v.h)(j,M).derivation;T.localComputedValues.set(M,Object(v.m)(B.bind(T)))}var ae=Object.getOwnPropertyDescriptor(j,M);Object.defineProperty(T,M,we(we({},ae?{enumerable:ae.enumerable}:{}),{configurable:!0,get:function(){return Object(v.w)(j,M)?T.localComputedValues.get(M).get():T.isPropertyDirty(M)?T.localValues.get(M):T.model[M]},set:Object(v.k)(function(Xe){Xe!==T.model[M]?T.localValues.set(M,Xe):T.localValues.delete(M)})}))}})}Object.defineProperty(_.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),_.prototype.submit=function(){var j=this;Object(v.B)(this.localValues).forEach(function(T){var M=j.localValues.get(T),B=j.model[T];Object(v.y)(B)?B.replace(M):Object(v.z)(B)?(B.clear(),B.merge(M)):Object(v.v)(M)||(j.model[T]=M)}),this.localValues.clear()},_.prototype.reset=function(){this.localValues.clear()},_.prototype.resetProperty=function(j){this.localValues.delete(j)},Ye([v.m],_.prototype,"isDirty",null),Ye([v.m],_.prototype,"changedValues",null),Ye([v.k.bound],_.prototype,"submit",null),Ye([v.k.bound],_.prototype,"reset",null),Ye([v.k.bound],_.prototype,"resetProperty",null)}();var _,Rt=(_=function(j,T){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,B){M.__proto__=B}||function(M,B){for(var ae in B)B.hasOwnProperty(ae)&&(M[ae]=B[ae])})(j,T)},function(j,T){function M(){this.constructor=j}_(j,T),j.prototype=null===T?Object.create(T):(M.prototype=T.prototype,new M)});(function(_){function j(T,M,B){var ae=void 0===B?{}:B,We=ae.name,Xe=void 0===We?"ogm"+(1e3*Math.random()|0):We,ft=ae.keyToName,dt=void 0===ft?function(Ft){return""+Ft}:ft,Mt=_.call(this)||this;Mt._keyToName=dt,Mt._groupBy=M,Mt._ogmInfoKey=Symbol("ogmInfo"+Xe),Mt._base=T;for(var Xt=0;Xt<T.length;Xt++)Mt._addItem(T[Xt]);return Mt._disposeBaseObserver=Object(v.D)(Mt._base,function(Ft){if("splice"===Ft.type)Object(v.J)(function(){for(var En=0,Bn=Ft.removed;En<Bn.length;En++)Mt._removeItem(Bn[En]);for(var Ar=0,Do=Ft.added;Ar<Do.length;Ar++)Mt._addItem(Do[Ar])});else{if("update"!==Ft.type)throw new Error("illegal state");Object(v.J)(function(){Mt._removeItem(Ft.oldValue),Mt._addItem(Ft.newValue)})}}),Mt}Rt(j,_),j.prototype.clear=function(){throw new Error("not supported")},j.prototype.delete=function(T){throw new Error("not supported")},j.prototype.set=function(T,M){throw new Error("not supported")},j.prototype.dispose=function(){this._disposeBaseObserver();for(var T=0;T<this._base.length;T++){var M=this._base[T];M[this._ogmInfoKey].reaction(),delete M[this._ogmInfoKey]}},j.prototype._getGroupArr=function(T){var M=_.prototype.get.call(this,T);return void 0===M&&(M=Object(v.C)([],{name:"GroupArray["+this._keyToName(T)+"]",deep:!1}),_.prototype.set.call(this,T,M)),M},j.prototype._removeFromGroupArr=function(T,M){var B=_.prototype.get.call(this,T);1===B.length?_.prototype.delete.call(this,T):(M===B.length-1||(B[M]=B[B.length-1],B[M][this._ogmInfoKey].groupArrIndex=M),B.length--)},j.prototype._addItem=function(T){var M=this,B=this._groupBy(T),ae=this._getGroupArr(B),We={groupByValue:B,groupArrIndex:ae.length,reaction:Object(v.F)(function(){return M._groupBy(T)},function(Xe,ft){var dt=T[M._ogmInfoKey];M._removeFromGroupArr(dt.groupByValue,dt.groupArrIndex);var Mt=M._getGroupArr(Xe),Xt=Mt.length;Mt.push(T),dt.groupByValue=Xe,dt.groupArrIndex=Xt})};Object.defineProperty(T,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:We}),ae.push(T)},j.prototype._removeItem=function(T){var M=T[this._ogmInfoKey];this._removeFromGroupArr(M.groupByValue,M.groupArrIndex),M.reaction(),delete T[this._ogmInfoKey]}})(v.b),function(){function _(j,T){this.base=j,this.args=T,this.closestIdx=0,this.isDisposed=!1;for(var M=this.closest=this.root=j,B=0;B<this.args.length-1&&(M=M.get(T[B]));B++)this.closest=M;this.closestIdx=B}_.prototype.exists=function(){this.assertNotDisposed();var j=this.args.length;return this.closestIdx>=j-1&&this.closest.has(this.args[j-1])},_.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},_.prototype.set=function(j){this.assertNotDisposed();for(var T=this.args.length,M=this.closest,B=this.closestIdx;B<T-1;B++){var ae=new Map;M.set(this.args[B],ae),M=ae}this.closestIdx=T-1,this.closest=M,M.set(this.args[T-1],j)},_.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var j=this.args.length;this.closest.delete(this.args[j-1]);for(var T=this.root,M=[T],B=0;B<j-1;B++)T=T.get(this.args[B]),M.push(T);for(B=M.length-1;B>0;B--)0===M[B].size&&M[B-1].delete(this.args[B-1]);this.isDisposed=!0},_.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}();Promise.resolve(),typeof queueMicrotask<"u"&&queueMicrotask}).call(this,a(155))},function(C,u,a){var E;!function(v,b,x){if(v){for(var G,D={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},F={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},R={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},U={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},X=1;X<20;++X)D[111+X]="f"+X;for(X=0;X<=9;++X)D[X+96]=X.toString();W.prototype.bind=function(k,le,be){return this._bindMultiple.call(this,k=k instanceof Array?k:[k],le,be),this},W.prototype.unbind=function(k,le){return this.bind.call(this,k,function(){},le)},W.prototype.trigger=function(k,le){return this._directMap[k+":"+le]&&this._directMap[k+":"+le]({},k),this},W.prototype.reset=function(){var k=this;return k._callbacks={},k._directMap={},k},W.prototype.stopCallback=function(k,le){if((" "+le.className+" ").indexOf(" mousetrap ")>-1||pe(le,this.target))return!1;if("composedPath"in k&&"function"==typeof k.composedPath){var Pe=k.composedPath()[0];Pe!==k.target&&(le=Pe)}return"INPUT"==le.tagName||"SELECT"==le.tagName||"TEXTAREA"==le.tagName||le.isContentEditable},W.prototype.handleKey=function(){var k=this;return k._handleKey.apply(k,arguments)},W.addKeycodes=function(k){for(var le in k)k.hasOwnProperty(le)&&(D[le]=k[le]);G=null},W.init=function(){var k=W(b);for(var le in k)"_"!==le.charAt(0)&&(W[le]=function(be){return function(){return k[be].apply(k,arguments)}}(le))},W.init(),v.Mousetrap=W,C.exports&&(C.exports=W),void 0!==(E=function(){return W}.call(u,a,u,C))&&(C.exports=E)}function $(k,le,be){k.addEventListener?k.addEventListener(le,be,!1):k.attachEvent("on"+le,be)}function K(k){if("keypress"==k.type){var le=String.fromCharCode(k.which);return k.shiftKey||(le=le.toLowerCase()),le}return D[k.which]?D[k.which]:F[k.which]?F[k.which]:String.fromCharCode(k.which).toLowerCase()}function de(k,le){return k.sort().join(",")===le.sort().join(",")}function Te(k){return"shift"==k||"ctrl"==k||"alt"==k||"meta"==k}function Se(k,le,be){return be||(be=function Ne(){if(!G)for(var k in G={},D)k>95&&k<112||D.hasOwnProperty(k)&&(G[D[k]]=k);return G}()[k]?"keydown":"keypress"),"keypress"==be&&le.length&&(be="keydown"),be}function Ee(k,le){var be,Pe,Je,we=[];for(be=function ze(k){return"+"===k?["+"]:(k=k.replace(/\+{2}/g,"+plus")).split("+")}(k),Je=0;Je<be.length;++Je)U[Pe=be[Je]]&&(Pe=U[Pe]),le&&"keypress"!=le&&R[Pe]&&(Pe=R[Pe],we.push("shift")),Te(Pe)&&we.push(Pe);return{key:Pe,modifiers:we,action:le=Se(Pe,we,le)}}function pe(k,le){return null!==k&&k!==b&&(k===le||pe(k.parentNode,le))}function W(k){var le=this;if(k=k||b,!(le instanceof W))return new W(k);le.target=k,le._callbacks={},le._directMap={};var Pe,be={},Je=!1,we=!1,Ye=!1;function it(Qe){Qe=Qe||{};var gt,Et=!1;for(gt in be)Qe[gt]?Et=!0:be[gt]=0;Et||(Ye=!1)}function ot(Qe,Et,gt,Ie,re,Y){var V,ge,Oe=[],xe=gt.type;if(!le._callbacks[Qe])return[];for("keyup"==xe&&Te(Qe)&&(Et=[Qe]),V=0;V<le._callbacks[Qe].length;++V)ge=le._callbacks[Qe][V],!Ie&&ge.seq&&be[ge.seq]!=ge.level||xe!=ge.action||("keypress"!=xe||gt.metaKey||gt.ctrlKey)&&!de(Et,ge.modifiers)||((!Ie&&ge.combo==re||Ie&&ge.seq==Ie&&ge.level==Y)&&le._callbacks[Qe].splice(V,1),Oe.push(ge));return Oe}function at(Qe,Et,gt,Ie){le.stopCallback(Et,Et.target||Et.srcElement,gt,Ie)||!1===Qe(Et,gt)&&(function ie(k){k.preventDefault?k.preventDefault():k.returnValue=!1}(Et),function Ae(k){k.stopPropagation?k.stopPropagation():k.cancelBubble=!0}(Et))}function ht(Qe){"number"!=typeof Qe.which&&(Qe.which=Qe.keyCode);var Et=K(Qe);if(Et){if("keyup"==Qe.type&&Je===Et)return void(Je=!1);le.handleKey(Et,function se(k){var le=[];return k.shiftKey&&le.push("shift"),k.altKey&&le.push("alt"),k.ctrlKey&&le.push("ctrl"),k.metaKey&&le.push("meta"),le}(Qe),Qe)}}function It(Qe,Et,gt,Ie){function re(xe){return function(){Ye=xe,++be[Qe],function St(){clearTimeout(Pe),Pe=setTimeout(it,1e3)}()}}function Y(xe){at(gt,xe,Qe),"keyup"!==Ie&&(Je=K(xe)),setTimeout(it,10)}be[Qe]=0;for(var V=0;V<Et.length;++V){var Oe=V+1===Et.length?Y:re(Ie||Ee(Et[V+1]).action);zt(Et[V],Oe,Ie,Qe,V)}}function zt(Qe,Et,gt,Ie,re){le._directMap[Qe+":"+gt]=Et;var V,Y=(Qe=Qe.replace(/\s+/g," ")).split(" ");Y.length>1?It(Qe,Y,Et,gt):(V=Ee(Qe,gt),le._callbacks[V.key]=le._callbacks[V.key]||[],ot(V.key,V.modifiers,{type:V.action},Ie,Qe,re),le._callbacks[V.key][Ie?"unshift":"push"]({callback:Et,modifiers:V.modifiers,action:V.action,seq:Ie,level:re,combo:Qe}))}le._handleKey=function(Qe,Et,gt){var re,Ie=ot(Qe,Et,gt),Y={},V=0,ge=!1;for(re=0;re<Ie.length;++re)Ie[re].seq&&(V=Math.max(V,Ie[re].level));for(re=0;re<Ie.length;++re)if(Ie[re].seq){if(Ie[re].level!=V)continue;ge=!0,Y[Ie[re].seq]=1,at(Ie[re].callback,gt,Ie[re].combo,Ie[re].seq)}else ge||at(Ie[re].callback,gt,Ie[re].combo);var Oe="keypress"==gt.type&&we;gt.type==Ye&&!Te(Qe)&&!Oe&&it(Y),we=ge&&"keydown"==gt.type},le._bindMultiple=function(Qe,Et,gt){for(var Ie=0;Ie<Qe.length;++Ie)zt(Qe[Ie],Et,gt)},$(k,"keypress",ht),$(k,"keydown",ht),$(k,"keyup",ht)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(C,u,a){var E=a(36),v=a(37),b=a(32),x=a(39),D=a(66);C.exports=E?Object.defineProperties:function(R,U){b(R);for(var de,G=x(U),X=D(U),$=X.length,K=0;$>K;)v.f(R,de=X[K++],G[de]);return R}},function(C,u,a){var E=a(7),v=a(35),b=a(28),x=a(33),D=E.TypeError;C.exports=function(F,R){var U,G;if("string"===R&&b(U=F.toString)&&!x(G=v(U,F))||b(U=F.valueOf)&&!x(G=v(U,F))||"string"!==R&&b(U=F.toString)&&!x(G=v(U,F)))return G;throw D("Can't convert object to primitive value")}},function(C,u,a){var E=a(7),v=a(28),b=a(92),x=E.WeakMap;C.exports=v(x)&&/native code/.test(b(x))},function(C,u,a){"use strict";var E=a(136).IteratorPrototype,v=a(54),b=a(71),x=a(73),D=a(70),F=function(){return this};C.exports=function(R,U,G,X){var $=U+" Iterator";return R.prototype=v(E,{next:b(+!X,G)}),x(R,$,!1,!0),D[$]=F,R}},function(C,u,a){var E=a(7),v=a(28),b=E.String,x=E.TypeError;C.exports=function(D){if("object"==typeof D||v(D))return D;throw x("Can't set "+b(D)+" as a prototype")}},function(C,u,a){"use strict";var E=a(16),v=a(7),b=a(15),x=a(95),D=a(44),F=a(138),R=a(114),U=a(117),G=a(28),X=a(33),$=a(18),K=a(118),de=a(73),se=a(143);C.exports=function(ie,Ae,Te){var Ne=-1!==ie.indexOf("Map"),Se=-1!==ie.indexOf("Weak"),ze=Ne?"set":"add",Ee=v[ie],pe=Ee&&Ee.prototype,W=Ee,k={},le=function(ot){var at=b(pe[ot]);D(pe,ot,"add"==ot?function(St){return at(this,0===St?0:St),this}:"delete"==ot?function(ht){return!(Se&&!X(ht))&&at(this,0===ht?0:ht)}:"get"==ot?function(St){return Se&&!X(St)?void 0:at(this,0===St?0:St)}:"has"==ot?function(St){return!(Se&&!X(St))&&at(this,0===St?0:St)}:function(St,It){return at(this,0===St?0:St,It),this})};if(x(ie,!G(Ee)||!(Se||pe.forEach&&!$(function(){(new Ee).entries().next()}))))W=Te.getConstructor(Ae,ie,Ne,ze),F.enable();else if(x(ie,!0)){var Pe=new W,Je=Pe[ze](Se?{}:-0,1)!=Pe,we=$(function(){Pe.has(1)}),Ye=K(function(ot){new Ee(ot)}),it=!Se&&$(function(){for(var ot=new Ee,at=5;at--;)ot[ze](at,at);return!ot.has(-0)});Ye||((W=Ae(function(ot,at){U(ot,pe);var ht=se(new Ee,ot,W);return null!=at&&R(at,ht[ze],{that:ht,AS_ENTRIES:Ne}),ht})).prototype=pe,pe.constructor=W),(we||it)&&(le("delete"),le("has"),Ne&&le("get")),(it||Je)&&le(ze),Se&&pe.clear&&delete pe.clear}return k[ie]=W,E({global:!0,forced:W!=Ee},k),de(W,ie),Se||Te.setStrong(W,ie,Ne),W}},function(C,u,a){var E=a(18),v=a(33),b=a(50),x=a(175),D=Object.isExtensible,F=E(function(){D(1)});C.exports=F||x?function(U){return!(!v(U)||x&&"ArrayBuffer"==b(U))&&(!D||D(U))}:D},function(C,u,a){var E=a(18);C.exports=E(function(){if("function"==typeof ArrayBuffer){var v=new ArrayBuffer(8);Object.isExtensible(v)&&Object.defineProperty(v,"a",{value:8})}})},function(C,u,a){var E=a(18);C.exports=!E(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(C,u,a){"use strict";var E=a(37).f,v=a(54),b=a(144),x=a(62),D=a(117),F=a(114),R=a(111),U=a(145),G=a(36),X=a(138).fastKey,$=a(56),K=$.set,de=$.getterFor;C.exports={getConstructor:function(se,ie,Ae,Te){var Ne=se(function(W,k){D(W,Se),K(W,{type:ie,index:v(null),first:void 0,last:void 0,size:0}),G||(W.size=0),null!=k&&F(k,W[Te],{that:W,AS_ENTRIES:Ae})}),Se=Ne.prototype,ze=de(ie),Ee=function(W,k,le){var Je,we,be=ze(W),Pe=pe(W,k);return Pe?Pe.value=le:(be.last=Pe={index:we=X(k,!0),key:k,value:le,previous:Je=be.last,next:void 0,removed:!1},be.first||(be.first=Pe),Je&&(Je.next=Pe),G?be.size++:W.size++,"F"!==we&&(be.index[we]=Pe)),W},pe=function(W,k){var Pe,le=ze(W),be=X(k);if("F"!==be)return le.index[be];for(Pe=le.first;Pe;Pe=Pe.next)if(Pe.key==k)return Pe};return b(Se,{clear:function(){for(var le=ze(this),be=le.index,Pe=le.first;Pe;)Pe.removed=!0,Pe.previous&&(Pe.previous=Pe.previous.next=void 0),delete be[Pe.index],Pe=Pe.next;le.first=le.last=void 0,G?le.size=0:this.size=0},delete:function(W){var k=this,le=ze(k),be=pe(k,W);if(be){var Pe=be.next,Je=be.previous;delete le.index[be.index],be.removed=!0,Je&&(Je.next=Pe),Pe&&(Pe.previous=Je),le.first==be&&(le.first=Pe),le.last==be&&(le.last=Je),G?le.size--:k.size--}return!!be},forEach:function(k){for(var Pe,le=ze(this),be=x(k,arguments.length>1?arguments[1]:void 0);Pe=Pe?Pe.next:le.first;)for(be(Pe.value,Pe.key,this);Pe&&Pe.removed;)Pe=Pe.previous},has:function(k){return!!pe(this,k)}}),b(Se,Ae?{get:function(k){var le=pe(this,k);return le&&le.value},set:function(k,le){return Ee(this,0===k?0:k,le)}}:{add:function(k){return Ee(this,k=0===k?0:k,k)}}),G&&E(Se,"size",{get:function(){return ze(this).size}}),Ne},setStrong:function(se,ie,Ae){var Te=ie+" Iterator",Ne=de(ie),Se=de(Te);R(se,ie,function(ze,Ee){K(this,{type:Te,target:ze,state:Ne(ze),kind:Ee,last:void 0})},function(){for(var ze=Se(this),Ee=ze.kind,pe=ze.last;pe&&pe.removed;)pe=pe.previous;return ze.target&&(ze.last=pe=pe?pe.next:ze.state.first)?"keys"==Ee?{value:pe.key,done:!1}:"values"==Ee?{value:pe.value,done:!1}:{value:[pe.key,pe.value],done:!1}:(ze.target=void 0,{value:void 0,done:!0})},Ae?"entries":"values",!Ae,!0),U(ie)}}},function(C,u,a){"use strict";var E=a(116),v=a(98);C.exports=E?{}.toString:function(){return"[object "+v(this)+"]"}},function(C,u,a){"use strict";var E=a(74).forEach,b=a(120)("forEach");C.exports=b?[].forEach:function(D){return E(this,D,arguments.length>1?arguments[1]:void 0)}},function(C,u,a){var E=a(7),v=a(99),b=a(100),x=a(33),F=a(27)("species"),R=E.Array;C.exports=function(U){var G;return v(U)&&(b(G=U.constructor)&&(G===R||v(G.prototype))||x(G)&&null===(G=G[F]))&&(G=void 0),void 0===G?R:G}},function(C,u,a){var E=a(7);C.exports=E},function(C,u,a){"use strict";var E=a(7),v=a(62),b=a(35),x=a(38),D=a(183),F=a(140),R=a(100),U=a(43),G=a(61),X=a(141),$=a(115),K=E.Array;C.exports=function(se){var ie=x(se),Ae=R(this),Te=arguments.length,Ne=Te>1?arguments[1]:void 0,Se=void 0!==Ne;Se&&(Ne=v(Ne,Te>2?arguments[2]:void 0));var pe,W,k,le,be,Pe,ze=$(ie),Ee=0;if(!ze||this==K&&F(ze))for(pe=U(ie),W=Ae?new this(pe):K(pe);pe>Ee;Ee++)Pe=Se?Ne(ie[Ee],Ee):ie[Ee],G(W,Ee,Pe);else for(be=(le=X(ie,ze)).next,W=Ae?new this:[];!(k=b(be,le)).done;Ee++)Pe=Se?D(le,Ne,[k.value,Ee],!0):k.value,G(W,Ee,Pe);return W.length=Ee,W}},function(C,u,a){var E=a(32),v=a(142);C.exports=function(b,x,D,F){try{return F?x(E(D)[0],D[1]):x(D)}catch(R){v(b,"throw",R)}}},function(C,u,a){"use strict";var E=a(32);C.exports=function(){var v=E(this),b="";return v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),v.dotAll&&(b+="s"),v.unicode&&(b+="u"),v.sticky&&(b+="y"),b}},function(C,u,a){var E=a(18),b=a(7).RegExp;C.exports=E(function(){var x=b(".","s");return!(x.dotAll&&x.exec("\n")&&"s"===x.flags)})},function(C,u,a){var E=a(18),b=a(7).RegExp;C.exports=E(function(){var x=b("(?<a>b)","g");return"b"!==x.exec("b").groups.a||"bc"!=="b".replace(x,"$<a>c")})},function(C,u,a){"use strict";var E=a(16),v=a(15),b=a(55),x=a(38),D=a(43),F=a(40),R=a(18),U=a(188),G=a(120),X=a(189),$=a(190),K=a(65),de=a(191),se=[],ie=v(se.sort),Ae=v(se.push),Te=R(function(){se.sort(void 0)}),Ne=R(function(){se.sort(null)}),Se=G("sort"),ze=!R(function(){if(K)return K<70;if(!(X&&X>3)){if($)return!0;if(de)return de<603;var k,le,be,Pe,W="";for(k=65;k<76;k++){switch(le=String.fromCharCode(k),k){case 66:case 69:case 70:case 72:be=3;break;case 68:case 71:be=4;break;default:be=2}for(Pe=0;Pe<47;Pe++)se.push({k:le+Pe,v:be})}for(se.sort(function(Je,we){return we.v-Je.v}),Pe=0;Pe<se.length;Pe++)le=se[Pe].k.charAt(0),W.charAt(W.length-1)!==le&&(W+=le);return"DGBEFHACIJK"!==W}});E({target:"Array",proto:!0,forced:Te||!Ne||!Se||!ze},{sort:function(k){void 0!==k&&b(k);var le=x(this);if(ze)return void 0===k?ie(le):ie(le,k);var Je,we,be=[],Pe=D(le);for(we=0;we<Pe;we++)we in le&&Ae(be,le[we]);for(U(be,function(W){return function(k,le){return void 0===le?-1:void 0===k?1:void 0!==W?+W(k,le)||0:F(k)>F(le)?1:-1}}(k)),Je=be.length,we=0;we<Je;)le[we]=be[we++];for(;we<Pe;)delete le[we++];return le}})},function(C,u,a){var E=a(113),v=Math.floor,b=function(F,R){var U=F.length,G=v(U/2);return U<8?x(F,R):D(F,b(E(F,0,G),R),b(E(F,G),R),R)},x=function(F,R){for(var X,$,U=F.length,G=1;G<U;){for($=G,X=F[G];$&&R(F[$-1],X)>0;)F[$]=F[--$];$!==G++&&(F[$]=X)}return F},D=function(F,R,U,G){for(var X=R.length,$=U.length,K=0,de=0;K<X||de<$;)F[K+de]=K<X&&de<$?G(R[K],U[de])<=0?R[K++]:U[de++]:K<X?R[K++]:U[de++];return F};C.exports=b},function(C,u,a){var v=a(53).match(/firefox\/(\d+)/i);C.exports=!!v&&+v[1]},function(C,u,a){var E=a(53);C.exports=/MSIE|Trident/.test(E)},function(C,u,a){var v=a(53).match(/AppleWebKit\/(\d+)\./);C.exports=!!v&&+v[1]},function(C,u,a){"use strict";var E=a(16),v=a(74).find,b=a(83),x="find",D=!0;x in[]&&Array(1)[x](function(){D=!1}),E({target:"Array",proto:!0,forced:D},{find:function(R){return v(this,R,arguments.length>1?arguments[1]:void 0)}}),b(x)},function(C,u,a){var E=a(7),v=a(154),b=E.TypeError;C.exports=function(x){if(v(x))throw b("The method doesn't accept regular expressions");return x}},function(C,u,a){var v=a(27)("match");C.exports=function(b){var x=/./;try{"/./"[b](x)}catch{try{return x[v]=!1,"/./"[b](x)}catch{}}return!1}},function(C,u,a){var E=a(94).PROPER,v=a(18),b=a(160);C.exports=function(D){return v(function(){return!!b[D]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[D]()||E&&b[D].name!==D})}},function(C,u,a){var E=a(15);C.exports=E(1..valueOf)},function(C,u,a){var E=a(15),v=a(38),b=Math.floor,x=E("".charAt),D=E("".replace),F=E("".slice),R=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,U=/\$([$&'`]|\d{1,2})/g;C.exports=function(G,X,$,K,de,se){var ie=$+G.length,Ae=K.length,Te=U;return void 0!==de&&(de=v(de),Te=R),D(se,Te,function(Ne,Se){var ze;switch(x(Se,0)){case"$":return"$";case"&":return G;case"`":return F(X,0,$);case"'":return F(X,ie);case"<":ze=de[F(Se,1,-1)];break;default:var Ee=+Se;if(0===Ee)return Ne;if(Ee>Ae){var pe=b(Ee/10);return 0===pe?Ne:pe<=Ae?void 0===K[pe-1]?x(Se,1):K[pe-1]+x(Se,1):Ne}ze=K[Ee-1]}return void 0===ze?"":ze})}},function(C,u,a){"use strict";var E=a(36),v=a(15),b=a(35),x=a(18),D=a(66),F=a(112),R=a(93),U=a(38),G=a(81),X=Object.assign,$=Object.defineProperty,K=v([].concat);C.exports=!X||x(function(){if(E&&1!==X({b:1},X($({},"a",{enumerable:!0,get:function(){$(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var de={},se={},ie=Symbol(),Ae="abcdefghijklmnopqrst";return de[ie]=7,Ae.split("").forEach(function(Te){se[Te]=Te}),7!=X({},de)[ie]||D(X({},se)).join("")!=Ae})?function(se,ie){for(var Ae=U(se),Te=arguments.length,Ne=1,Se=F.f,ze=R.f;Te>Ne;)for(var le,Ee=G(arguments[Ne++]),pe=Se?K(D(Ee),Se(Ee)):D(Ee),W=pe.length,k=0;W>k;)le=pe[k++],(!E||b(ze,Ee,le))&&(Ae[le]=Ee[le]);return Ae}:X},function(C,u,a){"use strict";var E=a(7),v=a(15),b=a(55),x=a(33),D=a(34),F=a(101),R=E.Function,U=v([].concat),G=v([].join),X={},$=function(K,de,se){if(!D(X,de)){for(var ie=[],Ae=0;Ae<de;Ae++)ie[Ae]="a["+Ae+"]";X[de]=R("C,a","return new C("+G(ie,",")+")")}return X[de](K,se)};C.exports=R.bind||function(de){var se=b(this),ie=se.prototype,Ae=F(arguments,1),Te=function(){var Se=U(Ae,F(arguments));return this instanceof Te?$(se,Se.length,Se):se.apply(de,Se)};return x(ie)&&(Te.prototype=ie),Te}},function(C,u,a){var E=a(34);C.exports=function(v){return void 0!==v&&(E(v,"value")||E(v,"writable"))}},function(C,u,a){var E=a(15),v=a(45),b=a(40),x=/"/g,D=E("".replace);C.exports=function(F,R,U,G){var X=b(v(F)),$="<"+R;return""!==U&&($+=" "+U+'="'+D(b(G),x,"&quot;")+'"'),$+">"+X+"</"+R+">"}},function(C,u,a){var E=a(18);C.exports=function(v){return E(function(){var b=""[v]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(C,u,a){var E=a(16),v=Math.hypot,b=Math.abs,x=Math.sqrt;E({target:"Math",stat:!0,forced:!!v&&v(1/0,NaN)!==1/0},{hypot:function(R,U){for(var de,se,G=0,X=0,$=arguments.length,K=0;X<$;)K<(de=b(arguments[X++]))?(G=G*(se=K/de)*se+1,K=de):G+=de>0?(se=de/K)*se:de;return K===1/0?1/0:K*x(G)}})},function(C,u,a){"use strict";var xt,Pt,Ut,$t,E=a(16),v=a(64),b=a(7),x=a(46),D=a(35),F=a(205),R=a(44),U=a(144),G=a(97),X=a(73),$=a(145),K=a(55),de=a(28),se=a(33),ie=a(117),Ae=a(92),Te=a(114),Ne=a(118),Se=a(156),ze=a(162).set,Ee=a(206),pe=a(209),W=a(210),k=a(164),le=a(211),be=a(56),Pe=a(95),Je=a(27),we=a(212),Ye=a(126),it=a(65),ot=Je("species"),at="Promise",ht=be.getterFor(at),St=be.set,It=be.getterFor(at),zt=F&&F.prototype,Qe=F,Et=zt,gt=b.TypeError,Ie=b.document,re=b.process,Y=k.f,V=Y,ge=!!(Ie&&Ie.createEvent&&b.dispatchEvent),Oe=de(b.PromiseRejectionEvent),xe="unhandledrejection",yt=!1,Gt=Pe(at,function(){var me=Ae(Qe),$e=me!==String(Qe);if(!$e&&66===it||v&&!Et.finally)return!0;if(it>=51&&/native code/.test(me))return!1;var tt=new Qe(function(ne){ne(1)}),ye=function(ne){ne(function(){},function(){})};return(tt.constructor={})[ot]=ye,!(yt=tt.then(function(){})instanceof ye)||!$e&&we&&!Oe}),Yt=Gt||!Ne(function(me){Qe.all(me).catch(function(){})}),sn=function(me){var $e;return!(!se(me)||!de($e=me.then))&&$e},Zt=function(me,$e){if(!me.notified){me.notified=!0;var tt=me.reactions;Ee(function(){for(var ye=me.value,fe=1==me.state,ne=0;tt.length>ne;){var ae,We,Xe,_=tt[ne++],j=fe?_.ok:_.fail,T=_.resolve,M=_.reject,B=_.domain;try{j?(fe||(2===me.rejection&&cn(me),me.rejection=1),!0===j?ae=ye:(B&&B.enter(),ae=j(ye),B&&(B.exit(),Xe=!0)),ae===_.promise?M(gt("Promise-chain cycle")):(We=sn(ae))?D(We,ae,T,M):T(ae)):M(ye)}catch(ft){B&&!Xe&&B.exit(),M(ft)}}me.reactions=[],me.notified=!1,$e&&!me.rejection&&gn(me)})}},un=function(me,$e,tt){var ye,fe;ge?((ye=Ie.createEvent("Event")).promise=$e,ye.reason=tt,ye.initEvent(me,!1,!0),b.dispatchEvent(ye)):ye={promise:$e,reason:tt},!Oe&&(fe=b["on"+me])?fe(ye):me===xe&&W("Unhandled promise rejection",tt)},gn=function(me){D(ze,b,function(){var fe,$e=me.facade,tt=me.value;if(fn(me)&&(fe=le(function(){Ye?re.emit("unhandledRejection",tt,$e):un(xe,$e,tt)}),me.rejection=Ye||fn(me)?2:1,fe.error))throw fe.value})},fn=function(me){return 1!==me.rejection&&!me.parent},cn=function(me){D(ze,b,function(){var $e=me.facade;Ye?re.emit("rejectionHandled",$e):un("rejectionhandled",$e,me.value)})},Be=function(me,$e,tt){return function(ye){me($e,ye,tt)}},lt=function(me,$e,tt){me.done||(me.done=!0,tt&&(me=tt),me.value=$e,me.state=2,Zt(me,!0))},ve=function(me,$e,tt){if(!me.done){me.done=!0,tt&&(me=tt);try{if(me.facade===$e)throw gt("Promise can't be resolved itself");var ye=sn($e);ye?Ee(function(){var fe={done:!1};try{D(ye,$e,Be(ve,fe,me),Be(lt,fe,me))}catch(ne){lt(fe,ne,me)}}):(me.value=$e,me.state=1,Zt(me,!1))}catch(fe){lt({done:!1},fe,me)}}};if(Gt&&(Qe=function($e){ie(this,Et),K($e),D(xt,this);var tt=ht(this);try{$e(Be(ve,tt),Be(lt,tt))}catch(ye){lt(tt,ye)}},(xt=function($e){St(this,{type:at,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=U(Et=Qe.prototype,{then:function($e,tt){var ye=It(this),fe=ye.reactions,ne=Y(Se(this,Qe));return ne.ok=!de($e)||$e,ne.fail=de(tt)&&tt,ne.domain=Ye?re.domain:void 0,ye.parent=!0,fe[fe.length]=ne,0!=ye.state&&Zt(ye,!1),ne.promise},catch:function(me){return this.then(void 0,me)}}),Pt=function(){var me=new xt,$e=ht(me);this.promise=me,this.resolve=Be(ve,$e),this.reject=Be(lt,$e)},k.f=Y=function(me){return me===Qe||me===Ut?new Pt(me):V(me)},!v&&de(F)&&zt!==Object.prototype)){$t=zt.then,yt||(R(zt,"then",function($e,tt){var ye=this;return new Qe(function(fe,ne){D($t,ye,fe,ne)}).then($e,tt)},{unsafe:!0}),R(zt,"catch",Et.catch,{unsafe:!0}));try{delete zt.constructor}catch{}G&&G(zt,Et)}E({global:!0,wrap:!0,forced:Gt},{Promise:Qe}),X(Qe,at,!1,!0),$(at),Ut=x(at),E({target:at,stat:!0,forced:Gt},{reject:function($e){var tt=Y(this);return D(tt.reject,void 0,$e),tt.promise}}),E({target:at,stat:!0,forced:v||Gt},{resolve:function($e){return pe(v&&this===Ut?Qe:this,$e)}}),E({target:at,stat:!0,forced:Yt},{all:function($e){var tt=this,ye=Y(tt),fe=ye.resolve,ne=ye.reject,_=le(function(){var j=K(tt.resolve),T=[],M=0,B=1;Te($e,function(ae){var We=M++,Xe=!1;B++,D(j,tt,ae).then(function(ft){Xe||(Xe=!0,T[We]=ft,--B||fe(T))},ne)}),--B||fe(T)});return _.error&&ne(_.value),ye.promise},race:function($e){var tt=this,ye=Y(tt),fe=ye.reject,ne=le(function(){var _=K(tt.resolve);Te($e,function(j){D(_,tt,j).then(ye.resolve,fe)})});return ne.error&&fe(ne.value),ye.promise}})},function(C,u,a){var E=a(7);C.exports=E.Promise},function(C,u,a){var ie,Ae,Te,Ne,Se,ze,Ee,pe,E=a(7),v=a(62),b=a(51).f,x=a(162).set,D=a(163),F=a(207),R=a(208),U=a(126),G=E.MutationObserver||E.WebKitMutationObserver,X=E.document,$=E.process,K=E.Promise,de=b(E,"queueMicrotask"),se=de&&de.value;se||(ie=function(){var W,k;for(U&&(W=$.domain)&&W.exit();Ae;){k=Ae.fn,Ae=Ae.next;try{k()}catch(le){throw Ae?Ne():Te=void 0,le}}Te=void 0,W&&W.enter()},D||U||R||!G||!X?!F&&K&&K.resolve?((Ee=K.resolve(void 0)).constructor=K,pe=v(Ee.then,Ee),Ne=function(){pe(ie)}):U?Ne=function(){$.nextTick(ie)}:(x=v(x,E),Ne=function(){x(ie)}):(Se=!0,ze=X.createTextNode(""),new G(ie).observe(ze,{characterData:!0}),Ne=function(){ze.data=Se=!Se})),C.exports=se||function(W){var k={fn:W,next:void 0};Te&&(Te.next=k),Ae||(Ae=k,Ne()),Te=k}},function(C,u,a){var E=a(53),v=a(7);C.exports=/ipad|iphone|ipod/i.test(E)&&void 0!==v.Pebble},function(C,u,a){var E=a(53);C.exports=/web0s(?!.*chrome)/i.test(E)},function(C,u,a){var E=a(32),v=a(33),b=a(164);C.exports=function(x,D){if(E(x),v(D)&&D.constructor===x)return D;var F=b.f(x);return(0,F.resolve)(D),F.promise}},function(C,u,a){var E=a(7);C.exports=function(v,b){var x=E.console;x&&x.error&&(1==arguments.length?x.error(v):x.error(v,b))}},function(C,u){C.exports=function(a){try{return{error:!1,value:a()}}catch(E){return{error:!0,value:E}}}},function(C,u){C.exports="object"==typeof window},function(C,u,a){var E=a(36),v=a(15),b=a(66),x=a(39),F=v(a(93).f),R=v([].push),U=function(G){return function(X){for(var Ae,$=x(X),K=b($),de=K.length,se=0,ie=[];de>se;)Ae=K[se++],(!E||F($,Ae))&&R(ie,G?[Ae,$[Ae]]:$[Ae]);return ie}};C.exports={entries:U(!0),values:U(!1)}},function(C,u,a){"use strict";var E=a(38),v=a(67),b=a(43);C.exports=function(D){for(var F=E(this),R=b(F),U=arguments.length,G=v(U>1?arguments[1]:void 0,R),X=U>2?arguments[2]:void 0,$=void 0===X?R:v(X,R);$>G;)F[G++]=D;return F}},function(C,u,a){"use strict";a.r(u),a.d(u,"observer",function(){return Vr}),a.d(u,"LogicFlow",function(){return td}),a.d(u,"h",function(){return Ge.g}),a.d(u,"LogicFlowUtil",function(){return E}),a.d(u,"BaseNode",function(){return No}),a.d(u,"RectNode",function(){return yf}),a.d(u,"CircleNode",function(){return bf}),a.d(u,"PolygonNode",function(){return xf}),a.d(u,"DiamondNode",function(){return Cf}),a.d(u,"EllipseNode",function(){return Mf}),a.d(u,"TextNode",function(){return Nf}),a.d(u,"HtmlNode",function(){return If}),a.d(u,"BaseEdge",function(){return es}),a.d(u,"LineEdge",function(){return Hf}),a.d(u,"PolylineEdge",function(){return Vf}),a.d(u,"BezierEdge",function(){return $f}),a.d(u,"Arrow",function(){return T1}),a.d(u,"BaseEdgeModel",function(){return Tc}),a.d(u,"BezierEdgeModel",function(){return Zc}),a.d(u,"LineEdgeModel",function(){return Ha}),a.d(u,"PolylineEdgeModel",function(){return As}),a.d(u,"BaseNodeModel",function(){return Mo}),a.d(u,"CircleNodeModel",function(){return bl}),a.d(u,"DiamondNodeModel",function(){return xl}),a.d(u,"EllipseNodeModel",function(){return Pl}),a.d(u,"PolygonNodeModel",function(){return zl}),a.d(u,"RectNodeModel",function(){return _l}),a.d(u,"TextNodeModel",function(){return Bl}),a.d(u,"HtmlNodeModel",function(){return Gl}),a.d(u,"EditConfigModel",function(){return ep}),a.d(u,"GraphModel",function(){return Kh}),a.d(u,"SnaplineModel",function(){return Zy}),a.d(u,"Keyboard",function(){return im}),a.d(u,"get",function(){return Nv}),a.d(u,"defaults",function(){return zv});var E={};a.r(E),a.d(E,"createUuid",function(){return mi}),a.d(E,"refreshGraphId",function(){return N0}),a.d(E,"createDrag",function(){return Ic}),a.d(E,"StepDrag",function(){return bi});var v=a(0),b=a(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!v.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var x=a(42),D=Object(x.b)("observerBatching");function F(e){e()}function K(e){return Object(v.t)(e)}var Te,se=1e4,Ae=new Set;function Ne(){void 0===Te&&(Te=setTimeout(Ee,1e4))}function Ee(){Te=void 0;var e=Date.now();Ae.forEach(function(n){var t=n.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),n.current=null,Ae.delete(n))}),Ae.size>0&&Ne()}var k=!1,le=[];var Je={};function we(e){return"observer"+e}function Ye(e,n,t){void 0===n&&(n="observed"),void 0===t&&(t=Je);var i=function be(e){return function(){k?le.push(e):e()}}((t.useForceUpdate||x.d)()),l=b.d.useRef(null);if(!l.current){var d=new v.c(we(n),function(){m.mounted?i():(d.dispose(),l.current=null)}),m=function de(e){return{cleanAt:Date.now()+se,reaction:e}}(d);l.current=m,function Se(e){Ae.add(e),Ne()}(l)}var P=l.current.reaction;return b.d.useDebugValue(P,K),b.d.useEffect(function(){return function ze(e){Ae.delete(e)}(l),l.current?l.current.mounted=!0:(l.current={reaction:new v.c(we(n),function(){i()}),cleanAt:1/0},i()),function(){l.current.reaction.dispose(),l.current=null}},[]),function Pe(e){k=!0,le=[];try{var n=e();k=!1;var t=le.length>0?le:void 0;return b.d.useLayoutEffect(function(){t&&t.forEach(function(r){return r()})},[t]),n}finally{k=!1}}(function(){var I,H;if(P.track(function(){try{I=e()}catch(oe){H=oe}}),H)throw H;return I})}var it=function(){return it=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},it.apply(this,arguments)};function ot(e,n){var i,t=it({forwardRef:!1},n),r=e.displayName||e.name,o=function(l,d){return Ye(function(){return e(l,d)},r)};return o.displayName=r,i=t.forwardRef?Object(b.f)(Object(b.e)(o)):Object(b.f)(o),function ht(e,n){Object.keys(e).forEach(function(t){at[t]||Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}(e,i),i.displayName=r,i}var at={$$typeof:!0,render:!0,compare:!0,type:!0};function St(e){var r=e.children||e.render;return"function"!=typeof r?null:Ye(r)}function It(e,n,t,r,o){var l="function"==typeof e[n],d="function"==typeof e["children"===n?"render":"children"];return l&&d?new Error("MobX Observer: Do not use children and render in the same time in`"+t):l||d?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[n]+"` supplied to `"+t+"`, expected `function`.")}St.propTypes={children:It,render:It},St.displayName="Observer",function R(e){e||(e=F),Object(v.n)({reactionScheduler:e}),Object(x.a)()[D]=!0}(b.g);var re=0;var V={};function ge(e){return V[e]||(V[e]=function Y(e){if("function"==typeof Symbol)return Symbol(e);var n="__$mobx-react "+e+" ("+re+")";return re++,n}(e)),V[e]}function Oe(e,n){if(xe(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(n,t[o])||!xe(e[t[o]],n[t[o]]))return!1;return!0}function xe(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}function Ct(e,n,t){Object.hasOwnProperty.call(e,n)?e[n]=t:Object.defineProperty(e,n,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Nt=ge("patchMixins"),Le=ge("patchedDefinition");function yt(e,n){for(var t=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];n.locks++;try{var l;return null!=e&&(l=e.apply(this,o)),l}finally{n.locks--,0===n.locks&&n.methods.forEach(function(d){d.apply(t,o)})}}function xt(e,n){return function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];yt.call.apply(yt,[this,e,n].concat(i))}}function Pt(e,n,t){var r=function Rt(e,n){var t=e[Nt]=e[Nt]||{},r=t[n]=t[n]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,n);r.methods.indexOf(t)<0&&r.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,n);if(!o||!o[Le]){var l=Ut(e,n,o?o.enumerable:void 0,r,e[n]);Object.defineProperty(e,n,l)}}function Ut(e,n,t,r,o){var i,l=xt(o,r);return(i={})[Le]=!0,i.get=function(){return l},i.set=function(m){if(this===e)l=xt(m,r);else{var P=Ut(this,n,t,r,m);Object.defineProperty(this,n,P)}},i.configurable=!0,i.enumerable=t,i}var $t=v.a||"$mobx",Gt=ge("isMobXReactObserver"),Yt=ge("isUnmounted"),sn=ge("skipRender"),Zt=ge("isForcingUpdate");function un(e){var n=e.prototype;if(e[Gt]){var t=gn(n);console.warn("The provided component class ("+t+") \n                has already been declared as an observer component.")}else e[Gt]=!0;if(n.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==b.b)if(n.shouldComponentUpdate){if(n.shouldComponentUpdate!==cn)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else n.shouldComponentUpdate=cn;Be(n,"props"),Be(n,"state");var r=n.render;return n.render=function(){return fn.call(this,r)},Pt(n,"componentWillUnmount",function(){var o;if(null===(o=this.render[$t])||void 0===o||o.dispose(),this[Yt]=!0,!this.render[$t]){var i=gn(this);console.warn("The reactive render of an observer class component ("+i+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}}),e}function gn(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function fn(e){var n=this;Ct(this,sn,!1),Ct(this,Zt,!1);var t=gn(this),r=e.bind(this),o=!1,i=new v.c(t+".render()",function(){if(!o&&(o=!0,!0!==n[Yt])){var d=!0;try{Ct(n,Zt,!0),n[sn]||b.a.prototype.forceUpdate.call(n),d=!1}finally{Ct(n,Zt,!1),d&&i.dispose()}}});function l(){o=!1;var d=void 0,m=void 0;if(i.track(function(){try{m=Object(v.d)(!1,r)}catch(P){d=P}}),d)throw d;return m}return i.reactComponent=this,l[$t]=i,this.render=l,l.call(this)}function cn(e,n){return this.state!==n||!Oe(this.props,e)}function Be(e,n){var t=ge("reactProp_"+n+"_valueHolder"),r=ge("reactProp_"+n+"_atomHolder");function o(){return this[r]||Ct(this,r,Object(v.o)("reactive "+n)),this[r]}Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){var l=!1;return v.f&&v.e&&(l=Object(v.f)(!0)),o.call(this).reportObserved(),v.f&&v.e&&Object(v.e)(l),this[t]},set:function(l){this[Zt]||Oe(this[t],l)?Ct(this,t,l):(Ct(this,t,l),Ct(this,sn,!0),o.call(this).reportChanged(),Ct(this,sn,!1))}})}var lt="function"==typeof Symbol&&Symbol.for,ve=lt?Symbol.for("react.forward_ref"):"function"==typeof b.e&&Object(b.e)(function(e){return null}).$$typeof,me=lt?Symbol.for("react.memo"):"function"==typeof b.f&&Object(b.f)(function(e){return null}).$$typeof;function $e(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),me&&e.$$typeof===me)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(ve&&e.$$typeof===ve){var n=e.render;if("function"!=typeof n)throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var r=arguments;return Object(b.c)(St,null,function(){return n.apply(void 0,r)})})}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(b.a,e)?un(e):ot(e)}if(!b.a)throw new Error("mobx-react requires React to be available");if(!v.C)throw new Error("mobx-react requires mobx to be available");var Ge=a(1);a(3),a(60),a(2),a(6),a(4),a(11),a(41),a(24),a(20),a(5),a(22),a(21),a(23),a(8),a(9),a(17),a(25),a(19),a(29),a(187),a(192),a(103),a(152),a(153);var vo=function dn(e,n){for(var t=-1,r=null==e?0:e.length,o=Array(r);++t<r;)o[t]=n(e[t],t,e);return o};var N=function Ve(e,n){return e===n||e!=e&&n!=n};var Fe=function te(e,n){for(var t=e.length;t--;)if(N(e[t][0],n))return t;return-1},Dt=Array.prototype.splice;var qt=function hn(e){var n=this.__data__,t=Fe(n,e);return!(t<0||(t==n.length-1?n.pop():Dt.call(n,t,1),--this.size,0))};var gr=function nn(e){var n=this.__data__,t=Fe(n,e);return t<0?void 0:n[t][1]};var qn=function vn(e){return Fe(this.__data__,e)>-1};var Bo=function Xr(e,n){var t=this.__data__,r=Fe(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this};function dr(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}dr.prototype.clear=function ni(){this.__data__=[],this.size=0},dr.prototype.delete=qt,dr.prototype.get=gr,dr.prototype.has=qn,dr.prototype.set=Bo;var mr=dr;var ri=function Ni(){this.__data__=new mr,this.size=0};var zi=function Ea(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t};var Di=function br(e){return this.__data__.get(e)};var ko=function Fo(e){return this.__data__.has(e)},Yn=a(31),Rn=Yn.a.Symbol,Ii=Object.prototype,Ri=Ii.hasOwnProperty,_i=Ii.toString,Dr=Rn?Rn.toStringTag:void 0;var xa=function ji(e){var n=Ri.call(e,Dr),t=e[Dr];try{e[Dr]=void 0;var r=!0}catch{}var o=_i.call(e);return r&&(n?e[Dr]=t:delete e[Dr]),o},Li=Object.prototype.toString;var Go=function Kr(e){return Li.call(e)},Bi=Rn?Rn.toStringTag:void 0;var Er=function ii(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Bi&&Bi in Object(e)?xa(e):Go(e)};var Fn=function Ho(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)};var e,ai=function Sa(e){if(!Fn(e))return!1;var n=Er(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},go=Yn.a["__core-js_shared__"],mo=(e=/[^.]+$/.exec(go&&go.keys&&go.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var bo=function li(e){return!!mo&&mo in e},Zr=Function.prototype.toString;var xr=function Oo(e){if(null!=e){try{return Zr.call(e)}catch{}try{return e+""}catch{}}return""},ss=/^\[object .+?Constructor\]$/,Hi=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Jr=function ci(e){return!(!Fn(e)||bo(e))&&(ai(e)?Hi:ss).test(xr(e))};var Pa=function Sr(e,n){return e?.[n]};var Tr=function fi(e,n){var t=Pa(e,n);return Jr(t)?t:void 0},Eo=Tr(Yn.a,"Map"),Rr=Tr(Object,"create");var Uo=function Vi(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n},er=Object.prototype.hasOwnProperty;var xo=function $n(e){var n=this.__data__;if(Rr){var t=n[e];return"__lodash_hash_undefined__"===t?void 0:t}return er.call(n,e)?n[e]:void 0},wa=Object.prototype.hasOwnProperty;var Aa=function Ma(e){var n=this.__data__;return Rr?void 0!==n[e]:wa.call(n,e)};var Na=function Cr(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Rr&&void 0===n?"__lodash_hash_undefined__":n,this};function mn(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}mn.prototype.clear=function di(){this.__data__=Rr?Rr(null):{},this.size=0},mn.prototype.delete=Uo,mn.prototype.get=xo,mn.prototype.has=Aa,mn.prototype.set=Na;var Yi=mn;var Co=function Mn(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e};var Pr=function za(e,n){var t=e.__data__;return Co(n)?t["string"==typeof n?"string":"hash"]:t.map};var $i=function _n(e){var n=Pr(this,e).delete(e);return this.size-=n?1:0,n};var y=function Wi(e){return Pr(this,e).get(e)};var s=function f(e){return Pr(this,e).has(e)};var g=function p(e,n){var t=Pr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this};function O(e){var n=-1,t=null==e?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}O.prototype.clear=function So(){this.size=0,this.__data__={hash:new Yi,map:new(Eo||mr),string:new Yi}},O.prototype.delete=$i,O.prototype.get=y,O.prototype.has=s,O.prototype.set=g;var w=O;var ce=function J(e,n){var t=this.__data__;if(t instanceof mr){var r=t.__data__;if(!Eo||r.length<199)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new w(r)}return t.set(e,n),this.size=t.size,this};function Q(e){var n=this.__data__=new mr(e);this.size=n.size}Q.prototype.clear=ri,Q.prototype.delete=zi,Q.prototype.get=Di,Q.prototype.has=ko,Q.prototype.set=ce;var ke=Q;var Tt=function wt(e){return this.__data__.has(e)};function pt(e){var n=-1,t=null==e?0:e.length;for(this.__data__=new w;++n<t;)this.add(e[n])}pt.prototype.add=pt.prototype.push=function He(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},pt.prototype.has=Tt;var c=pt;var S=function h(e,n){for(var t=-1,r=null==e?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1};var ee=function L(e,n){return e.has(n)};var ut=function Ke(e,n,t,r,o,i){var l=1&t,d=e.length,m=n.length;if(d!=m&&!(l&&m>d))return!1;var P=i.get(e),I=i.get(n);if(P&&I)return P==n&&I==e;var H=-1,oe=!0,ue=2&t?new c:void 0;for(i.set(e,n),i.set(n,e);++H<d;){var Ce=e[H],De=n[H];if(r)var je=l?r(De,Ce,H,n,e,i):r(Ce,De,H,e,n,i);if(void 0!==je){if(je)continue;oe=!1;break}if(ue){if(!S(n,function(Re,st){if(!ee(ue,st)&&(Ce===Re||o(Ce,Re,t,r,i)))return ue.push(st)})){oe=!1;break}}else if(Ce!==De&&!o(Ce,De,t,r,i)){oe=!1;break}}return i.delete(e),i.delete(n),oe},Lt=Yn.a.Uint8Array;var on=function rn(e){var n=-1,t=Array(e.size);return e.forEach(function(r,o){t[++n]=[o,r]}),t};var Tn=function pn(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t},rd=Rn?Rn.prototype:void 0,$u=rd?rd.valueOf:void 0;var mm=function gm(e,n,t,r,o,i,l){switch(t){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=n.byteLength||!i(new Lt(e),new Lt(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return N(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var d=on;case"[object Set]":if(d||(d=Tn),e.size!=n.size&&!(1&r))return!1;var P=l.get(e);if(P)return P==n;r|=2,l.set(e,n);var I=ut(d(e),d(n),r,o,i,l);return l.delete(e),I;case"[object Symbol]":if($u)return $u.call(e)==$u.call(n)}return!1};var Wu=function bm(e,n){for(var t=-1,r=n.length,o=e.length;++t<r;)e[o+t]=n[t];return e},nr=Array.isArray;var od=function Em(e,n,t){var r=n(e);return nr(e)?r:Wu(r,t(e))};var Sm=function xm(e,n){for(var t=-1,r=null==e?0:e.length,o=0,i=[];++t<r;){var l=e[t];n(l,t,e)&&(i[o++]=l)}return i};var id=function Tm(){return[]},Pm=Object.prototype.propertyIsEnumerable,ad=Object.getOwnPropertySymbols,wm=ad?function(e){return null==e?[]:(e=Object(e),Sm(ad(e),function(n){return Pm.call(e,n)}))}:id,Xu=wm;var Am=function Mm(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r};var qr=function Nm(e){return null!=e&&"object"==typeof e};var sd=function Dm(e){return qr(e)&&"[object Arguments]"==Er(e)},ld=Object.prototype,Im=ld.hasOwnProperty,Rm=ld.propertyIsEnumerable,_m=sd(function(){return arguments}())?sd:function(e){return qr(e)&&Im.call(e,"callee")&&!Rm.call(e,"callee")},_a=_m,ja=a(48),Lm=/^(?:0|[1-9]\d*)$/;var fs=function Bm(e,n){var t=typeof e;return!!(n=n??9007199254740991)&&("number"==t||"symbol"!=t&&Lm.test(e))&&e>-1&&e%1==0&&e<n};var Ku=function km(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},On={};On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Arguments]"]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object Boolean]"]=On["[object DataView]"]=On["[object Date]"]=On["[object Error]"]=On["[object Function]"]=On["[object Map]"]=On["[object Number]"]=On["[object Object]"]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object WeakMap]"]=!1;var db=function fb(e){return qr(e)&&Ku(e.length)&&!!On[Er(e)]};var Zu=function pb(e){return function(n){return e(n)}},Xi=a(49),ud=Xi.a&&Xi.a.isTypedArray,Ju=ud?Zu(ud):db,yb=Object.prototype.hasOwnProperty;var cd=function gb(e,n){var t=nr(e),r=!t&&_a(e),o=!t&&!r&&Object(ja.a)(e),i=!t&&!r&&!o&&Ju(e),l=t||r||o||i,d=l?Am(e.length,String):[],m=d.length;for(var P in e)(n||yb.call(e,P))&&(!l||!("length"==P||o&&("offset"==P||"parent"==P)||i&&("buffer"==P||"byteLength"==P||"byteOffset"==P)||fs(P,m)))&&d.push(P);return d},mb=Object.prototype;var ds=function bb(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||mb)};var fd=function Ob(e,n){return function(t){return e(n(t))}},xb=fd(Object.keys,Object),Tb=Object.prototype.hasOwnProperty;var Pb=function Cb(e){if(!ds(e))return xb(e);var n=[];for(var t in Object(e))Tb.call(e,t)&&"constructor"!=t&&n.push(t);return n};var vi=function wb(e){return null!=e&&Ku(e.length)&&!ai(e)};var Ki=function Mb(e){return vi(e)?cd(e):Pb(e)};var Qu=function Ab(e){return od(e,Ki,Xu)},Db=Object.prototype.hasOwnProperty;var Rb=function Ib(e,n,t,r,o,i){var l=1&t,d=Qu(e),m=d.length;if(m!=Qu(n).length&&!l)return!1;for(var H=m;H--;){var oe=d[H];if(!(l?oe in n:Db.call(n,oe)))return!1}var ue=i.get(e),Ce=i.get(n);if(ue&&Ce)return ue==n&&Ce==e;var De=!0;i.set(e,n),i.set(n,e);for(var je=l;++H<m;){var Re=e[oe=d[H]],st=n[oe];if(r)var nt=l?r(st,Re,oe,n,e,i):r(Re,st,oe,e,n,i);if(!(void 0===nt?Re===st||o(Re,st,t,r,i):nt)){De=!1;break}je||(je="constructor"==oe)}if(De&&!je){var rt=e.constructor,At=n.constructor;rt!=At&&"constructor"in e&&"constructor"in n&&!("function"==typeof rt&&rt instanceof rt&&"function"==typeof At&&At instanceof At)&&(De=!1)}return i.delete(e),i.delete(n),De},qu=Tr(Yn.a,"DataView"),ec=Tr(Yn.a,"Promise"),tc=Tr(Yn.a,"Set"),nc=Tr(Yn.a,"WeakMap"),dd="[object Map]",pd="[object Promise]",hd="[object Set]",vd="[object WeakMap]",yd="[object DataView]",kb=xr(qu),Gb=xr(Eo),Hb=xr(ec),Ub=xr(tc),Vb=xr(nc),yi=Er;(qu&&yi(new qu(new ArrayBuffer(1)))!=yd||Eo&&yi(new Eo)!=dd||ec&&yi(ec.resolve())!=pd||tc&&yi(new tc)!=hd||nc&&yi(new nc)!=vd)&&(yi=function(e){var n=Er(e),t="[object Object]"==n?e.constructor:void 0,r=t?xr(t):"";if(r)switch(r){case kb:return yd;case Gb:return dd;case Hb:return pd;case Ub:return hd;case Vb:return vd}return n});var La=yi,gd="[object Arguments]",md="[object Array]",ps="[object Object]",bd=Object.prototype.hasOwnProperty;var Xb=function Wb(e,n,t,r,o,i){var l=nr(e),d=nr(n),m=l?md:La(e),P=d?md:La(n),I=(m=m==gd?ps:m)==ps,H=(P=P==gd?ps:P)==ps,oe=m==P;if(oe&&Object(ja.a)(e)){if(!Object(ja.a)(n))return!1;l=!0,I=!1}if(oe&&!I)return i||(i=new ke),l||Ju(e)?ut(e,n,t,r,o,i):mm(e,n,m,t,r,o,i);if(!(1&t)){var ue=I&&bd.call(e,"__wrapped__"),Ce=H&&bd.call(n,"__wrapped__");if(ue||Ce){var De=ue?e.value():e,je=Ce?n.value():n;return i||(i=new ke),o(De,je,t,r,i)}}return!!oe&&(i||(i=new ke),Rb(e,n,t,r,o,i))};var rc=function Od(e,n,t,r,o){return e===n||(null==e||null==n||!qr(e)&&!qr(n)?e!=e&&n!=n:Xb(e,n,t,r,Od,o))};var Qb=function Jb(e,n,t,r){var o=t.length,i=o,l=!r;if(null==e)return!i;for(e=Object(e);o--;){var d=t[o];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++o<i;){var m=(d=t[o])[0],P=e[m],I=d[1];if(l&&d[2]){if(void 0===P&&!(m in e))return!1}else{var H=new ke;if(r)var oe=r(P,I,m,e,n,H);if(!(void 0===oe?rc(I,P,3,r,H):oe))return!1}}return!0};var Ed=function qb(e){return e==e&&!Fn(e)};var tO=function eO(e){for(var n=Ki(e),t=n.length;t--;){var r=n[t],o=e[r];n[t]=[r,o,Ed(o)]}return n};var xd=function nO(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}};var oO=function rO(e){var n=tO(e);return 1==n.length&&n[0][2]?xd(n[0][0],n[0][1]):function(t){return t===e||Qb(t,e,n)}};var hs=function aO(e){return"symbol"==typeof e||qr(e)&&"[object Symbol]"==Er(e)},sO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lO=/^\w*$/;var oc=function uO(e,n){if(nr(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!hs(e))||lO.test(e)||!sO.test(e)||null!=n&&e in Object(n)};function ic(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var t=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=t.cache;if(i.has(o))return i.get(o);var l=e.apply(this,r);return t.cache=i.set(o,l)||i,l};return t.cache=new(ic.Cache||w),t}ic.Cache=w;var fO=ic;var vO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yO=/\\(\\)?/g,gO=function pO(e){var n=fO(e,function(r){return 500===t.size&&t.clear(),r}),t=n.cache;return n}(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(vO,function(t,r,o,i){n.push(o?i.replace(yO,"$1"):r||t)}),n}),mO=gO,Sd=Rn?Rn.prototype:void 0,Td=Sd?Sd.toString:void 0;var OO=function Cd(e){if("string"==typeof e)return e;if(nr(e))return vo(e,Cd)+"";if(hs(e))return Td?Td.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var xO=function EO(e){return null==e?"":OO(e)};var vs=function SO(e,n){return nr(e)?e:oc(e,n)?[e]:mO(xO(e))};var Ba=function CO(e){if("string"==typeof e||hs(e))return e;var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var ac=function PO(e,n){for(var t=0,r=(n=vs(n,e)).length;null!=e&&t<r;)e=e[Ba(n[t++])];return t&&t==r?e:void 0};var Pd=function wO(e,n,t){var r=null==e?void 0:ac(e,n);return void 0===r?t:r};var AO=function MO(e,n){return null!=e&&n in Object(e)};var zO=function NO(e,n,t){for(var r=-1,o=(n=vs(n,e)).length,i=!1;++r<o;){var l=Ba(n[r]);if(!(i=null!=e&&t(e,l)))break;e=e[l]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ku(o)&&fs(l,o)&&(nr(e)||_a(e))};var wd=function DO(e,n){return null!=e&&zO(e,n,AO)};var jO=function _O(e,n){return oc(e)&&Ed(n)?xd(Ba(e),n):function(t){var r=Pd(t,e);return void 0===r&&r===n?wd(t,e):rc(n,r,3)}};var sc=function LO(e){return e};var FO=function BO(e){return function(n){return n?.[e]}};var GO=function kO(e){return function(n){return ac(n,e)}};var UO=function HO(e){return oc(e)?FO(Ba(e)):GO(e)};var YO=function VO(e){return"function"==typeof e?e:null==e?sc:"object"==typeof e?nr(e)?jO(e[0],e[1]):oO(e):UO(e)};var Md=function $O(e){return function(n,t,r){for(var o=-1,i=Object(n),l=r(n),d=l.length;d--;){var m=l[e?d:++o];if(!1===t(i[m],m,i))break}return n}}();var eE=function JO(e,n){return function(t,r){if(null==t)return t;if(!vi(t))return e(t,r);for(var o=t.length,i=n?o:-1,l=Object(t);(n?i--:++i<o)&&!1!==r(l[i],i,l););return t}}(function KO(e,n){return e&&Md(e,n,Ki)});var nE=function tE(e,n){var t=-1,r=vi(e)?Array(e.length):[];return eE(e,function(o,i,l){r[++t]=n(o,i,l)}),r};var ys=function rE(e,n){return(nr(e)?vo:nE)(e,YO(n,3))},oE=function(){try{var e=Tr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gs=oE;var lc=function iE(e,n,t){"__proto__"==n&&gs?gs(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t},sE=Object.prototype.hasOwnProperty;var ms=function lE(e,n,t){var r=e[n];(!sE.call(e,n)||!N(r,t)||void 0===t&&!(n in e))&&lc(e,n,t)};var Zi=function uE(e,n,t,r){var o=!t;t||(t={});for(var i=-1,l=n.length;++i<l;){var d=n[i],m=r?r(t[d],e[d],d,t,e):void 0;void 0===m&&(m=e[d]),o?lc(t,d,m):ms(t,d,m)}return t};var fE=function cE(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)},Ad=Math.max;var Nd=function dE(e,n,t){return n=Ad(void 0===n?e.length-1:n,0),function(){for(var r=arguments,o=-1,i=Ad(r.length-n,0),l=Array(i);++o<i;)l[o]=r[n+o];o=-1;for(var d=Array(n+1);++o<n;)d[o]=r[o];return d[n]=t(l),fE(e,this,d)}};var hE=function pE(e){return function(){return e}},vE=gs?function(e,n){return gs(e,"toString",{configurable:!0,enumerable:!1,value:hE(n),writable:!0})}:sc,bE=Date.now;var zd=function OE(e){var n=0,t=0;return function(){var r=bE(),o=16-(r-t);if(t=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}(vE);var TE=function SE(e,n){return zd(Nd(e,n,sc),e+"")};var PE=function CE(e,n,t){if(!Fn(t))return!1;var r=typeof n;return!!("number"==r?vi(t)&&fs(n,t.length):"string"==r&&n in t)&&N(t[n],e)};var Dd=function wE(e){return TE(function(n,t){var r=-1,o=t.length,i=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,l&&PE(t[0],t[1],l)&&(i=o<3?void 0:i,o=1),n=Object(n);++r<o;){var d=t[r];d&&e(n,d,r,i)}return n})},AE=Object.prototype.hasOwnProperty,NE=Dd(function(e,n){if(ds(n)||vi(n))Zi(n,Ki(n),e);else for(var t in n)AE.call(n,t)&&ms(e,t,n[t])}),rr=NE;var DE=function zE(e,n,t,r){if(!Fn(e))return e;for(var o=-1,i=(n=vs(n,e)).length,l=i-1,d=e;null!=d&&++o<i;){var m=Ba(n[o]),P=t;if("__proto__"===m||"constructor"===m||"prototype"===m)return e;if(o!=l){var I=d[m];void 0===(P=r?r(I,m,d):void 0)&&(P=Fn(I)?I:fs(n[o+1])?[]:{})}ms(d,m,P),d=d[m]}return e};var RE=function IE(e,n,t){for(var r=-1,o=n.length,i={};++r<o;){var l=n[r],d=ac(e,l);t(d,l)&&DE(i,vs(l,e),d)}return i};var jE=function _E(e,n){return RE(e,n,function(t,r){return wd(e,r)})},Id=Rn?Rn.isConcatSpreadable:void 0;var BE=function LE(e){return nr(e)||_a(e)||!!(Id&&e&&e[Id])};var FE=function Rd(e,n,t,r,o){var i=-1,l=e.length;for(t||(t=BE),o||(o=[]);++i<l;){var d=e[i];n>0&&t(d)?n>1?Rd(d,n-1,t,r,o):Wu(o,d):r||(o[o.length]=d)}return o};var GE=function kE(e){return null!=e&&e.length?FE(e,1):[]};var Sn,_d,jd,Ld,Bd,Fd,kd,Gd,Hd,Ud,Vd,Yd,$d,Wd,Xd,Kd,Zd,Jd,VE=function HE(e){return zd(Nd(e,void 0,GE),e+"")}(function(e,n){return null==e?{}:jE(e,n)}),Fa=VE;function kn(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Qd(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qd(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function jn(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Cn,tp,np,rp,op,ip,ap,sp,WE={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},uc=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],ep=(Sn=function(){function e(n){(function YE(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),kn(this,"isSilentMode",_d,this),kn(this,"stopZoomGraph",jd,this),kn(this,"stopScrollGraph",Ld,this),kn(this,"stopMoveGraph",Bd,this),kn(this,"adjustEdge",Fd,this),kn(this,"adjustEdgeMiddle",kd,this),kn(this,"adjustEdgeStartAndEnd",Gd,this),kn(this,"adjustNodePosition",Hd,this),kn(this,"hideAnchors",Ud,this),kn(this,"hoverOutline",Vd,this),kn(this,"nodeSelectedOutline",Yd,this),kn(this,"edgeSelectedOutline",$d,this),kn(this,"nodeTextEdit",Wd,this),kn(this,"edgeTextEdit",Xd,this),kn(this,"nodeTextDraggable",Kd,this),kn(this,"edgeTextDraggable",Zd,this),kn(this,"autoExpand",Jd,this),qd(this,"multipleSelectKey",""),qd(this,"defaultConfig",{}),rr(this,this.getConfigDetail(n))}return function $E(e,n,t){return n&&Qd(e.prototype,n),t&&Qd(e,t),e}(e,[{key:"updateEditConfig",value:function(t){var r=this.getConfigDetail(t);rr(this,r)}},{key:"getConfigDetail",value:function(t){var r=t.isSilentMode,o=t.textEdit,i={};if(!1===r&&rr(i,this.defaultConfig),!0===r){var l=Fa(WE,uc);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},rr(i,l)}!1===o&&rr(i,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Fa(t,uc);return rr(i,d)}},{key:"getConfig",value:function(){return Fa(this,uc)}}]),e}(),_d=jn(Sn.prototype,"isSilentMode",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jd=jn(Sn.prototype,"stopZoomGraph",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ld=jn(Sn.prototype,"stopScrollGraph",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bd=jn(Sn.prototype,"stopMoveGraph",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fd=jn(Sn.prototype,"adjustEdge",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kd=jn(Sn.prototype,"adjustEdgeMiddle",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gd=jn(Sn.prototype,"adjustEdgeStartAndEnd",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hd=jn(Sn.prototype,"adjustNodePosition",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ud=jn(Sn.prototype,"hideAnchors",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=jn(Sn.prototype,"hoverOutline",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yd=jn(Sn.prototype,"nodeSelectedOutline",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$d=jn(Sn.prototype,"edgeSelectedOutline",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wd=jn(Sn.prototype,"nodeTextEdit",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xd=jn(Sn.prototype,"edgeTextEdit",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kd=jn(Sn.prototype,"nodeTextDraggable",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=jn(Sn.prototype,"edgeTextDraggable",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=jn(Sn.prototype,"autoExpand",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jn(Sn.prototype,"updateEditConfig",[v.k],Object.getOwnPropertyDescriptor(Sn.prototype,"updateEditConfig"),Sn.prototype),Sn),ln=(a(77),(()=>(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(ln||(ln={})),ln))()),en=(()=>(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(en||(en={})),en))(),An=(()=>(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(An||(An={})),An))(),Vt=(()=>(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(Vt||(Vt={})),Vt))(),yn=(()=>(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(yn||(yn={})),yn))(),cr=(()=>(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"}(cr||(cr={})),cr))();function bs(e,n){return function QE(e){if(Array.isArray(e))return e}(e)||function JE(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function ZE(e,n){if(e){if("string"==typeof e)return lp(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lp(e,n)}}(e,n)||function KE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lp(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function gi(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function up(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fc(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _r(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var tx=(Cn=function(){function e(n){(function qE(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),fc(this,"MINI_SCALE_SIZE",.2),fc(this,"MAX_SCALE_SIZE",16),gi(this,"SCALE_X",tp,this),gi(this,"SKEW_Y",np,this),gi(this,"SKEW_X",rp,this),gi(this,"SCALE_Y",op,this),gi(this,"TRANSLATE_X",ip,this),gi(this,"TRANSLATE_Y",ap,this),gi(this,"ZOOM_SIZE",sp,this),fc(this,"eventCenter",void 0),this.eventCenter=n}return function ex(e,n,t){return n&&up(e.prototype,n),t&&up(e,t),e}(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var r=bs(t,2);return[(r[0]-this.TRANSLATE_X)/this.SCALE_X,(r[1]-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var r=bs(t,2);return[r[0]*this.SCALE_X+this.TRANSLATE_X,r[1]*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,r,o){var i=bs(t,2);return[i[0]+r/this.SCALE_X,i[1]+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,r){return[t/this.SCALE_X,r/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,i=this.SCALE_Y;return!0===t?(o+=this.ZOOM_SIZE,i+=this.ZOOM_SIZE):!1===t?(o-=this.ZOOM_SIZE,i-=this.ZOOM_SIZE):"number"==typeof t&&(o=t,i=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(r&&(this.TRANSLATE_X-=(o-this.SCALE_X)*r[0],this.TRANSLATE_Y-=(i-this.SCALE_Y)*r[1]),this.SCALE_X=o,this.SCALE_Y=i,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(Vt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,r){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=r,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,r,o,i){var d=bs(this.CanvasPointToHtmlPoint([t,r]),2),H=i/2-d[1];this.TRANSLATE_X+=o/2-d[0],this.TRANSLATE_Y+=H,this.emitGraphTransform("focusOn")}}]),e}(),tp=_r(Cn.prototype,"SCALE_X",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),np=_r(Cn.prototype,"SKEW_Y",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rp=_r(Cn.prototype,"SKEW_X",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),op=_r(Cn.prototype,"SCALE_Y",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ip=_r(Cn.prototype,"TRANSLATE_X",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ap=_r(Cn.prototype,"TRANSLATE_Y",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sp=_r(Cn.prototype,"ZOOM_SIZE",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),_r(Cn.prototype,"zoom",[v.k],Object.getOwnPropertyDescriptor(Cn.prototype,"zoom"),Cn.prototype),_r(Cn.prototype,"resetZoom",[v.k],Object.getOwnPropertyDescriptor(Cn.prototype,"resetZoom"),Cn.prototype),_r(Cn.prototype,"translate",[v.k],Object.getOwnPropertyDescriptor(Cn.prototype,"translate"),Cn.prototype),_r(Cn.prototype,"focusOn",[v.k],Object.getOwnPropertyDescriptor(Cn.prototype,"focusOn"),Cn.prototype),Cn);var rx=function nx(e,n){for(var t=-1,r=null==e?0:e.length;++t<r&&!1!==n(e[t],t,e););return e};var ix=function ox(e,n){return e&&Zi(n,Ki(n),e)};var sx=function ax(e){var n=[];if(null!=e)for(var t in Object(e))n.push(t);return n},ux=Object.prototype.hasOwnProperty;var fx=function cx(e){if(!Fn(e))return sx(e);var n=ds(e),t=[];for(var r in e)"constructor"==r&&(n||!ux.call(e,r))||t.push(r);return t};var ka=function dx(e){return vi(e)?cd(e,!0):fx(e)};var hx=function px(e,n){return e&&Zi(n,ka(n),e)},cp=a(106);var fp=function vx(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n};var gx=function yx(e,n){return Zi(e,Xu(e),n)},dc=fd(Object.getPrototypeOf,Object),Ox=Object.getOwnPropertySymbols?function(e){for(var n=[];e;)Wu(n,Xu(e)),e=dc(e);return n}:id,dp=Ox;var xx=function Ex(e,n){return Zi(e,dp(e),n)};var Tx=function Sx(e){return od(e,ka,dp)},Px=Object.prototype.hasOwnProperty;var Mx=function wx(e){var n=e.length,t=new e.constructor(n);return n&&"string"==typeof e[0]&&Px.call(e,"index")&&(t.index=e.index,t.input=e.input),t};var pc=function Ax(e){var n=new e.constructor(e.byteLength);return new Lt(n).set(new Lt(e)),n};var zx=function Nx(e,n){var t=n?pc(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)},Dx=/\w*$/;var Rx=function Ix(e){var n=new e.constructor(e.source,Dx.exec(e));return n.lastIndex=e.lastIndex,n},pp=Rn?Rn.prototype:void 0,hp=pp?pp.valueOf:void 0;var jx=function _x(e){return hp?Object(hp.call(e)):{}};var vp=function Lx(e,n){var t=n?pc(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)};var oS=function rS(e,n,t){var r=e.constructor;switch(n){case"[object ArrayBuffer]":return pc(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return zx(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vp(e,t);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Rx(e);case"[object Symbol]":return jx(e)}},yp=Object.create,iS=function(){function e(){}return function(n){if(!Fn(n))return{};if(yp)return yp(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}(),aS=iS;var gp=function sS(e){return"function"!=typeof e.constructor||ds(e)?{}:aS(dc(e))};var cS=function uS(e){return qr(e)&&"[object Map]"==La(e)},mp=Xi.a&&Xi.a.isMap,dS=mp?Zu(mp):cS;var vS=function hS(e){return qr(e)&&"[object Set]"==La(e)},bp=Xi.a&&Xi.a.isSet,gS=bp?Zu(bp):vS,Op="[object Arguments]",Ep="[object Function]",xp="[object Object]",bn={};bn[Op]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn[xp]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[Ep]=bn["[object WeakMap]"]=!1;var VS=function Os(e,n,t,r,o,i){var l,d=1&n,m=2&n,P=4&n;if(t&&(l=o?t(e,r,o,i):t(e)),void 0!==l)return l;if(!Fn(e))return e;var I=nr(e);if(I){if(l=Mx(e),!d)return fp(e,l)}else{var H=La(e),oe=H==Ep||"[object GeneratorFunction]"==H;if(Object(ja.a)(e))return Object(cp.a)(e,d);if(H==xp||H==Op||oe&&!o){if(l=m||oe?{}:gp(e),!d)return m?xx(e,hx(l,e)):gx(e,ix(l,e))}else{if(!bn[H])return o?e:{};l=oS(e,H,d)}}i||(i=new ke);var ue=i.get(e);if(ue)return ue;i.set(e,l),gS(e)?e.forEach(function(je){l.add(Os(je,n,t,je,e,i))}):dS(e)&&e.forEach(function(je,Re){l.set(Re,Os(je,n,t,Re,e,i))});var De=I?void 0:(P?m?Tx:Qu:m?ka:Ki)(e);return rx(De||e,function(je,Re){De&&(je=e[Re=je]),ms(l,Re,Os(je,n,t,Re,e,i))}),l};var xn=function WS(e){return VS(e,5)};var hc=function XS(e,n,t){(void 0!==t&&!N(e[n],t)||void 0===t&&!(n in e))&&lc(e,n,t)};var ZS=function KS(e){return qr(e)&&vi(e)},Sp=Function.prototype.toString,e0=Object.prototype.hasOwnProperty,t0=Sp.call(Object);var r0=function n0(e){if(!qr(e)||"[object Object]"!=Er(e))return!1;var n=dc(e);if(null===n)return!0;var t=e0.call(n,"constructor")&&n.constructor;return"function"==typeof t&&t instanceof t&&Sp.call(t)==t0};var vc=function o0(e,n){if(("constructor"!==n||"function"!=typeof e[n])&&"__proto__"!=n)return e[n]};var s0=function a0(e){return Zi(e,ka(e))};var u0=function l0(e,n,t,r,o,i,l){var d=vc(e,t),m=vc(n,t),P=l.get(m);if(P)hc(e,t,P);else{var I=i?i(d,m,t+"",e,n,l):void 0,H=void 0===I;if(H){var oe=nr(m),ue=!oe&&Object(ja.a)(m),Ce=!oe&&!ue&&Ju(m);I=m,oe||ue||Ce?nr(d)?I=d:ZS(d)?I=fp(d):ue?(H=!1,I=Object(cp.a)(m,!0)):Ce?(H=!1,I=vp(m,!0)):I=[]:r0(m)||_a(m)?(I=d,_a(d)?I=s0(d):(!Fn(d)||ai(d))&&(I=gp(m))):H=!1}H&&(l.set(m,I),o(I,m,r,i,l),l.delete(m)),hc(e,t,I)}};var c0=function Tp(e,n,t,r,o){e!==n&&Md(n,function(i,l){if(o||(o=new ke),Fn(i))u0(e,n,l,t,Tp,r,o);else{var d=r?r(vc(e,l),i,l+"",e,n,o):void 0;void 0===d&&(d=i),hc(e,l,d)}},ka)},f0=Dd(function(e,n,t){c0(e,n,t)}),Cp=f0,d0={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Pp=function(n){var t=xn(d0);return n&&(t=Cp(t,n)),t};function wp(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}a(78),a(158);var g0=function(){function e(){(function p0(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),function v0(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}(this,"_events",{})}return function h0(e,n,t){return n&&wp(e.prototype,n),t&&wp(e,t),e}(e,[{key:"on",value:function(t,r,o){var i=this;return t?.split(",").forEach(function(l){l=l.trim(),i._events[l]||(i._events[l]=[]),i._events[l].push({callback:r,once:!!o})}),this}},{key:"once",value:function(t,r){var o=this;t?.split(",").forEach(function(i){return i=i.trim(),o.on(i,r,!0)})}},{key:"emit",value:function(t,r){var o=this;t?.split(",").forEach(function(i){var d=o._events["*"]||[],m=function(I){for(var H=I.length,oe=0;oe<H;oe++)if(I[oe]){var ue=I[oe],Ce=ue.callback;ue.once&&(I.splice(oe,1),0===I.length&&delete o._events[i],H--,oe--),Ce.apply(o,[r])}};m(o._events[i]||[]),m(d)})}},{key:"off",value:function(t,r){var o=this;return t||(this._events={}),t.split(",").forEach(function(i){if(r){for(var l=o._events[i]||[],d=l.length,m=0;m<d;m++)l[m].callback===r&&(l.splice(m,1),d--,m--);0===l.length&&delete o._events[i]}else delete o._events[i]}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Yo(e,n){return n*Math.round(e/n)||e}function Mp(e,n){return e%n}function yc(e,n){return function E0(e){if(Array.isArray(e))return e}(e)||function O0(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function b0(e,n){if(e){if("string"==typeof e)return Ap(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ap(e,n)}}(e,n)||function m0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Es,gc=function(n,t,r){var o=yc(n,2),i=o[0],l=o[1],d=yc(t,2),m=d[0],P=d[1],I=yc(r,2);return i>m&&i<I[0]&&l>P&&l<I[1]},Np=function(n,t){var o=!1;switch(t.multipleSelectKey){case"meta":o=n.metaKey;break;case"alt":o=n.altKey;break;case"shift":o=n.shiftKey;break;case"ctrl":o=n.ctrlKey;break;default:o=!1}return o},x0=(a(79),a(161),a(125),a(80),a(30),a(12),a(13),a(14),a(47),new Uint8Array(16));function S0(){if(!Es&&!(Es=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Es(x0)}var T0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var P0=function C0(e){return"string"==typeof e&&T0.test(e)},Gn=[],mc=0;mc<256;++mc)Gn.push((mc+256).toString(16).substr(1));var M0=function w0(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Gn[e[n+0]]+Gn[e[n+1]]+Gn[e[n+2]]+Gn[e[n+3]]+"-"+Gn[e[n+4]]+Gn[e[n+5]]+"-"+Gn[e[n+6]]+Gn[e[n+7]]+"-"+Gn[e[n+8]]+Gn[e[n+9]]+"-"+Gn[e[n+10]]+Gn[e[n+11]]+Gn[e[n+12]]+Gn[e[n+13]]+Gn[e[n+14]]+Gn[e[n+15]]).toLowerCase();if(!P0(t))throw TypeError("Stringified UUID is invalid");return t};var bc=function A0(e,n,t){var r=(e=e||{}).random||(e.rng||S0)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(var o=0;o<16;++o)n[t+o]=r[o];return n}return M0(r)},mi=function(){return bc()},N0=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=n.nodes.reduce(function(o,i){return o[i.id]=t+bc(),i.id=o[i.id],o},{});return n.edges.forEach(function(o){o.id=t+bc(),o.sourceNodeId=r[o.sourceNodeId],o.targetNodeId=r[o.targetNodeId]}),n},z0=(a(104),a(203),function(n,t,r,o){var i=(t.y-n.y)*(o.x-r.x)-(n.x-t.x)*(r.y-o.y);if(0===i)return!1;var l=((t.x-n.x)*(o.x-r.x)*(r.y-n.y)+(t.y-n.y)*(o.x-r.x)*n.x-(o.y-r.y)*(t.x-n.x)*r.x)/i,d=-((t.y-n.y)*(o.y-r.y)*(r.x-n.x)+(t.x-n.x)*(o.y-r.y)*n.y-(o.x-r.x)*(t.y-n.y)*r.y)/i;return(l-n.x)*(l-t.x)<=0&&(d-n.y)*(d-t.y)<=0&&(l-r.x)*(l-o.x)<=0&&(d-r.y)*(d-o.y)<=0&&{x:l,y:d}}),Ga=function(n,t,r){var o=n.x,i=n.y;return(o-t.x)*(o-r.x)<=0&&(i-t.y)*(i-r.y)<=0};function xs(e){return(xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Dp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zp(Object(t),!0).forEach(function(r){D0(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zp(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function D0(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var qe,Fp,kp,Gp,Hp,Up,Vp,Yp,$p,Wp,Xp,Kp,Zp,Jp,Qp,qp,eh,th,nh,rh,Oc=function(n){return n.anchors},Ss=function(n,t){for(var o,r=t.nodes,i=r.length-1;i>=0;i--){var l=r[i];if(_0(n,l)){var m=R0(n,l);if(m){var P={node:l,anchorIndex:m.index,anchor:m.anchor};(!o||I0(l,o.node,t))&&(o=P)}}}return o},I0=function(n,t,r){return n.zIndex>t.zIndex||r.nodesMap[n.id].index>r.nodesMap[t.id].index},R0=function(n,t){for(var o,r=Oc(t),i=Number.MAX_SAFE_INTEGER,l=0;l<r.length;l++){var d=eo(n.x,n.y,r[l].x,r[l].y);d<i&&(i=d,o={index:l,anchor:Dp(Dp({},r[l]),{},{x:r[l].x,y:r[l].y,id:r[l].id})})}return o},eo=function(n,t,r,o){return Math.hypot(n-r,t-o)},$o=function(n,t){var r=!1,i=pr(t);return n.x>=i.minX-0&&n.x<=i.maxX+0&&n.y>=i.minY-0&&n.y<=i.maxY+0&&(r=!0),r},_0=function(n,t){var r=!1,i=pr(t);return n.x>=i.minX-5&&n.x<=i.maxX+5&&n.y>=i.minY-5&&n.y<=i.maxY+5&&(r=!0),r},pr=function(n){var t=n.x,r=n.y,o=n.width,i=n.height;return{minX:t-o/2,minY:r-i/2,maxX:t+o/2,maxY:r+i/2,x:t,y:r,width:o,height:i,centerX:t,centerY:r}},Ip=function(n,t,r){var i,o=function(n){var r=n.x,o=n.y,i=n.width,l=n.height,d=n.radius;return[{x:r-i/2+d,y:o-l/2+d,r:d},{x:r+i/2-d,y:o-l/2+d,r:d},{x:r-i/2+d,y:o+l/2-d,r:d},{x:r+i/2-d,y:o+l/2-d,r:d}]}(r),l=Number.MAX_SAFE_INTEGER;return o.forEach(function(m){var P=eo(n.x,n.y,m.x,m.y);P<l&&(l=P,i=m)}),Ec(n,t,i)},Ec=function(n,t,r){var o,l=r.x,d=r.y,m=r.r;if(t===yn.HORIZONTAL){var P=l-Math.sqrt(m*m-(n.y-d)*(n.y-d)),I=l+Math.sqrt(m*m-(n.y-d)*(n.y-d));o={x:Math.abs(P-n.x)<Math.abs(I-n.x)?P:I,y:n.y}}else if(t===yn.VERTICAL){var oe=d-Math.sqrt(m*m-(n.x-l)*(n.x-l)),ue=d+Math.sqrt(m*m-(n.x-l)*(n.x-l)),Ce=Math.abs(oe-n.y)<Math.abs(ue-n.y)?oe:ue;o={x:n.x,y:Ce}}return o},Rp=function(n,t){var o=!1,l=t.x,d=t.y,m=t.width,P=t.height;return n.y===d+P/2||n.y===d-P/2?o=n.x>t.x-t.width/2+t.radius&&n.x<t.x+t.width/2-t.radius:(n.x===l+m/2||n.x===l-m/2)&&(o=n.y>t.y-t.height/2+t.radius&&n.y<t.y+t.height/2-t.radius),o},_p=function(n,t,r){var o,l=r.x,d=r.y,m=r.rx,P=r.ry;if(t===yn.HORIZONTAL){var I=l-Math.sqrt(m*m-(n.y-d)*(n.y-d)*m*m/(P*P)),H=l+Math.sqrt(m*m-(n.y-d)*(n.y-d)*m*m/(P*P));o={x:Math.abs(I-n.x)<Math.abs(H-n.x)?I:H,y:n.y}}else if(t===yn.VERTICAL){var ue=d-Math.sqrt(P*P-(n.x-l)*(n.x-l)*P*P/(m*m)),Ce=d+Math.sqrt(P*P-(n.x-l)*(n.x-l)*P*P/(m*m)),De=Math.abs(ue-n.y)<Math.abs(Ce-n.y)?ue:Ce;o={x:n.x,y:De}}return o},Ts=function(n,t,r){for(var d,i=r.pointsPosition,l=Number.MAX_SAFE_INTEGER,m=[],P=0;P<i.length;P++)m.push({start:i[P],end:i[(P+1)%i.length]});return m.forEach(function(I){var H=I.start,oe=I.end,ue=H,Ce=oe;H.x>oe.x&&(ue=oe,Ce=H);var De={x:n.x,y:n.y};if(ue.x===Ce.x&&t===yn.HORIZONTAL&&(De={x:ue.x,y:n.y}),ue.y===Ce.y&&t===yn.VERTICAL&&(De={x:n.x,y:ue.y}),ue.x!==Ce.x&&ue.y!==Ce.y){var je=(Ce.y-ue.y)/(Ce.x-ue.x),Re=(ue.x*Ce.y-Ce.x*ue.y)/(ue.x-Ce.x);t===yn.HORIZONTAL?De={x:(n.y-Re)/je,y:n.y}:t===yn.VERTICAL&&(De={x:n.x,y:je*n.x+Re})}if(Ga(De,H,oe)){var nt=eo(De.x,De.y,n.x,n.y);nt<l&&(l=nt,d=De)}}),d},jp=function(n,t,r,o){var i=n.x,l=n.y;return t.x>n.x?i=n.x+r/2:t.x<n.x&&(i=n.x-r/2),t.y>n.y?l=n.y+o/2:t.y<n.y&&(l=n.y-o/2),{x:i,y:l}},Lp=function(n){var t=n.rows,r=n.style,o=n.rowsLength,i=n.className,l=document.createElement("div");l.style.fontSize=r.fontSize,l.style.width=r.width,l.className=i,l.style.lineHeight=r.lineHeight,l.style.padding=r.padding,r.fontFamily&&(l.style.fontFamily=r.fontFamily),o>1?t.forEach(function(m){var P=document.createElement("div");P.textContent=m,l.appendChild(P)}):l.textContent=t,document.body.appendChild(l);var d=l.clientHeight;return document.body.removeChild(l),d},xc=function(n){var t=n.rows,r=n.rowsLength,o=n.fontSize,i=0;return t&&t.forEach(function(l){var d=Mh(l);i=d>i?d:i}),{width:Math.ceil(i/2)*o+o/4,height:r*(o+2)+o/4}},Cs=function(n){return"object"!==xs(n)?{isAllPass:!!n,msg:n?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:n},Bp={node:!1,edge:!1},B0={node:!0,edge:!0},F0={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Xn=function(n){try{return JSON.parse(JSON.stringify(n))}catch{return n}},k0=1e3,G0=999,Sc=function(){return++k0};function oh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function jr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?oh(Object(t),!0).forEach(function(r){hr(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oh(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Dn(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function ih(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ht(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Tc=(qe=function(){function e(n,t){(function U0(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),hr(this,"id",mi()),Dn(this,"type",Fp,this),Dn(this,"sourceNodeId",kp,this),Dn(this,"targetNodeId",Gp,this),Dn(this,"startPoint",Hp,this),Dn(this,"endPoint",Up,this),Dn(this,"text",Vp,this),Dn(this,"properties",Yp,this),Dn(this,"points",$p,this),Dn(this,"pointsList",Wp,this),Dn(this,"isSelected",Xp,this),Dn(this,"isHovered",Kp,this),Dn(this,"isHitable",Zp,this),Dn(this,"draggable",Jp,this),Dn(this,"visible",Qp,this),hr(this,"virtual",!1),Dn(this,"isAnimation",qp,this),hr(this,"graphModel",void 0),Dn(this,"zIndex",eh,this),hr(this,"BaseType",An.EDGE),hr(this,"modelType",en.EDGE),Dn(this,"state",th,this),hr(this,"additionStateData",void 0),hr(this,"sourceAnchorId",""),hr(this,"targetAnchorId",""),hr(this,"menu",void 0),hr(this,"customTextPosition",!1),hr(this,"animationData",F0),Dn(this,"style",nh,this),Dn(this,"arrowConfig",rh,this),this.graphModel=t,this.initEdgeData(n),this.setAttributes()}return function V0(e,n,t){return n&&ih(e.prototype,n),t&&ih(e,t),e}(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var r=this.graphModel.idGenerator,o=r&&r(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}rr(this,IT(t)),this.graphModel.overlapMode===cr.INCREASE&&(this.zIndex=t.zIndex||Sc()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return jr(jr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){return xn(this.graphModel.theme.edgeText)}},{key:"getAnimation",value:function(){return xn(this.animationData)}},{key:"getEdgeAnimationStyle",value:function(){return xn(this.graphModel.theme.edgeAnimation)}},{key:"getOutlineStyle",value:function(){return xn(this.graphModel.theme.outline)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,r;return null===(t=this.graphModel)||void 0===t||null===(r=t.nodesMap[this.sourceNodeId])||void 0===r?void 0:r.model}},{key:"targetNode",get:function(){var t,r;return null===(t=this.graphModel)||void 0===t||null===(r=t.nodesMap[this.targetNodeId])||void 0===r?void 0:r.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,r){var o,i;return Oc(t).forEach(function(d){var m=zh(d,r);i?m<i&&(i=m,o=d):(i=m,o=d)}),o}},{key:"getEndAnchor",value:function(t){var o,i,r=this;return Oc(t).forEach(function(d){var m=zh(d,r.startPoint);i?m<i&&(i=m,o=d):(i=m,o=d)}),o}},{key:"getProperties",value:function(){return Object(v.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,r=t.x,o=t.y,i=t.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(v.I)(this.properties)};return i&&(l.text={x:r,y:o,value:i}),this.graphModel.overlapMode===cr.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,r){this.properties[t]=Xn(r),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=jr(jr({},this.properties),Xn(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var r=this.arrowConfig,o=r.markerEnd,i=r.markerStart;i&&i==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,r){this.style=jr(jr({},this.style),{},hr({},t,Xn(r)))}},{key:"setStyles",value:function(t){this.style=jr(jr({},this.style),Xn(t))}},{key:"updateStyles",value:function(t){this.style=jr({},Xn(t))}},{key:"formatText",value:function(t){var r=this.textPosition,o=r.x,i=r.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||o,y:t.text.y||i,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:o,y:i,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,o=t.y;this.text.x=t.x,this.text.y=o}},{key:"moveText",value:function(t,r){if(this.text){var o=this.text;this.text={value:o.value,draggable:o.draggable,x:o.x+t,y:o.y+r,editable:o.editable}}}},{key:"setText",value:function(t){t&&rr(this.text,t)}},{key:"updateText",value:function(t){this.text=jr(jr({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var r=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:r.x,y:r.y}),this.targetAnchorId||(this.targetAnchorId=r.id)}}},{key:"setSelected",value:function(){this.isSelected=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){this.isHovered=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,r){this.state=t,this.additionStateData=r}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,r){this.startPoint.x+=t,this.startPoint.y+=r}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,r){this.endPoint.x+=t,this.endPoint.y+=r}},{key:"setZIndex",value:function(){this.zIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){rr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var r=t.startPoint,o=t.endPoint;this.updateStartPoint({x:r.x,y:r.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Fp=Ht(qe.prototype,"type",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),kp=Ht(qe.prototype,"sourceNodeId",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gp=Ht(qe.prototype,"targetNodeId",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hp=Ht(qe.prototype,"startPoint",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Up=Ht(qe.prototype,"endPoint",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vp=Ht(qe.prototype,"text",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Yp=Ht(qe.prototype,"properties",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$p=Ht(qe.prototype,"points",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wp=Ht(qe.prototype,"pointsList",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xp=Ht(qe.prototype,"isSelected",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kp=Ht(qe.prototype,"isHovered",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zp=Ht(qe.prototype,"isHitable",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jp=Ht(qe.prototype,"draggable",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qp=Ht(qe.prototype,"visible",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qp=Ht(qe.prototype,"isAnimation",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eh=Ht(qe.prototype,"zIndex",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),th=Ht(qe.prototype,"state",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),nh=Ht(qe.prototype,"style",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rh=Ht(qe.prototype,"arrowConfig",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Ht(qe.prototype,"sourceNode",[v.m],Object.getOwnPropertyDescriptor(qe.prototype,"sourceNode"),qe.prototype),Ht(qe.prototype,"targetNode",[v.m],Object.getOwnPropertyDescriptor(qe.prototype,"targetNode"),qe.prototype),Ht(qe.prototype,"textPosition",[v.m],Object.getOwnPropertyDescriptor(qe.prototype,"textPosition"),qe.prototype),Ht(qe.prototype,"setProperty",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setProperty"),qe.prototype),Ht(qe.prototype,"deleteProperty",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"deleteProperty"),qe.prototype),Ht(qe.prototype,"setProperties",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setProperties"),qe.prototype),Ht(qe.prototype,"changeEdgeId",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"changeEdgeId"),qe.prototype),Ht(qe.prototype,"setStyle",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setStyle"),qe.prototype),Ht(qe.prototype,"setStyles",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setStyles"),qe.prototype),Ht(qe.prototype,"updateStyles",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateStyles"),qe.prototype),Ht(qe.prototype,"formatText",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"formatText"),qe.prototype),Ht(qe.prototype,"resetTextPosition",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"resetTextPosition"),qe.prototype),Ht(qe.prototype,"moveText",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"moveText"),qe.prototype),Ht(qe.prototype,"setText",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setText"),qe.prototype),Ht(qe.prototype,"updateText",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateText"),qe.prototype),Ht(qe.prototype,"setAnchors",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setAnchors"),qe.prototype),Ht(qe.prototype,"setSelected",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setSelected"),qe.prototype),Ht(qe.prototype,"setHovered",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setHovered"),qe.prototype),Ht(qe.prototype,"setHitable",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setHitable"),qe.prototype),Ht(qe.prototype,"openEdgeAnimation",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"openEdgeAnimation"),qe.prototype),Ht(qe.prototype,"closeEdgeAnimation",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"closeEdgeAnimation"),qe.prototype),Ht(qe.prototype,"setElementState",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setElementState"),qe.prototype),Ht(qe.prototype,"updateStartPoint",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateStartPoint"),qe.prototype),Ht(qe.prototype,"moveStartPoint",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"moveStartPoint"),qe.prototype),Ht(qe.prototype,"updateEndPoint",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateEndPoint"),qe.prototype),Ht(qe.prototype,"moveEndPoint",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"moveEndPoint"),qe.prototype),Ht(qe.prototype,"setZIndex",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"setZIndex"),qe.prototype),Ht(qe.prototype,"initPoints",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"initPoints"),qe.prototype),Ht(qe.prototype,"updateAttributes",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateAttributes"),qe.prototype),Ht(qe.prototype,"getAdjustStart",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"getAdjustStart"),qe.prototype),Ht(qe.prototype,"getAdjustEnd",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"getAdjustEnd"),qe.prototype),Ht(qe.prototype,"updateAfterAdjustStartAndEnd",[v.k],Object.getOwnPropertyDescriptor(qe.prototype,"updateAfterAdjustStartAndEnd"),qe.prototype),qe),Cc=Tc;function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ah(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function sh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ah(Object(t),!0).forEach(function(r){ch(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ah(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Y0(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function lh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(){return ws=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=W0(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},ws.apply(this,arguments)}function W0(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Ji(e)););return e}function X0(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Pc(e,n)}function Pc(e,n){return(Pc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function K0(e){var n=function J0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Ji(e);if(n){var i=Ji(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Z0(this,o)}}function Z0(e,n){if(n&&("object"===Ps(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return uh(e)}function uh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ch(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Wt,fh,Ha=function(e){X0(t,e);var n=K0(t);function t(){var r;Y0(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return ch(uh(r=n.call.apply(n,[this].concat(i))),"modelType",en.LINE_EDGE),r}return function $0(e,n,t){return n&&lh(e.prototype,n),t&&lh(e,t),e}(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return sh(sh({},ws(Ji(t.prototype),"getEdgeStyle",this).call(this)),xn(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(Cc);function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Q0(e,n){return function nT(e){if(Array.isArray(e))return e}(e)||function tT(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function eT(e,n){if(e){if("string"==typeof e)return dh(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dh(e,n)}}(e,n)||function q0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dh(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ph(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function hh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ph(Object(t),!0).forEach(function(r){Mc(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ph(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function rT(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function oT(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function vh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(){return Qi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=aT(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},Qi.apply(this,arguments)}function aT(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Wo(e)););return e}function sT(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&wc(e,n)}function wc(e,n){return(wc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function lT(e){var n=function cT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Wo(e);if(n){var i=Wo(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return uT(this,o)}}function uT(e,n){if(n&&("object"===Ms(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Ua(e)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Mc(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function or(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var As=(Wt=function(e){sT(t,e);var n=lT(t);function t(){var r;oT(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return Mc(Ua(r=n.call.apply(n,[this].concat(i))),"modelType",en.POLYLINE_EDGE),Mc(Ua(r),"draginngPointList",void 0),rT(Ua(r),"dbClickPosition",fh,Ua(r)),r}return function iT(e,n,t){return n&&vh(e.prototype,n),t&&vh(e,t),e}(t,[{key:"initEdgeData",value:function(o){this.offset=30,Qi(Wo(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return hh(hh({},Qi(Wo(t.prototype),"getEdgeStyle",this).call(this)),xn(o))}},{key:"getTextPosition",value:function(){var o,i=null===(o=this.text)||void 0===o?void 0:o.value;if(this.dbClickPosition&&!i){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var P=qi(this.points),H=Q0(AT(P),2),oe=H[0],ue=H[1];return{x:(oe.x+ue.x)/2,y:(oe.y+ue.y)/2}}},{key:"getAfterAnchor",value:function(o,i,l){var d,m;return l.forEach(function(P){var I;o===yn.HORIZONTAL?I=Math.abs(i.y-P.y):o===yn.VERTICAL&&(I=Math.abs(i.x-P.x)),(!m||m>I)&&(m=I,d=P)}),d}},{key:"getCorssPoint",value:function(o,i,l){var d;return o===yn.HORIZONTAL?d={x:l.x,y:i.y}:o===yn.VERTICAL&&(d={x:i.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,i,l){var d=l.map(function(bt){return bt});if(1===o){var m=d[o],P=d[i],I=d[o-1];if(Th(I,m,this.sourceNode)){if(Ch(m,P,this.sourceNode)){var ue=Ph(m,P,this.sourceNode);ue&&(d[o]=ue,d.splice(o-1,1),o--,i--)}}else this.sourceNode.anchors.forEach(function(bt){(bt.x===I.x&&bt.x===m.x||bt.y===I.y&&bt.y===m.y)&&eo(bt.x,bt.y,m.x,m.y)<eo(I.x,I.y,m.x,m.y)&&(d[o-1]=bt)})}if(i===l.length-2){var De=d[o],je=d[i],Re=d[i+1];if(Th(je,Re,this.targetNode)){if(Ch(De,je,this.targetNode)){var rt=Ph(De,je,this.targetNode);rt&&(d[i]=rt,d.splice(i+1,1))}}else this.targetNode.anchors.forEach(function(bt){(bt.x===Re.x&&bt.x===je.x||bt.y===Re.y&&bt.y===je.y)&&eo(bt.x,bt.y,je.x,je.y)<eo(Re.x,Re.y,je.x,je.y)&&(d[i+1]=bt)})}return d}},{key:"getDragingPoints",value:function(o,i,l,d,m){var P=m.map(function(oe){return oe}),I=this.getAfterAnchor(o,l,d),H=this.getCorssPoint(o,l,I);return"start"===i?(P.unshift(H),P.unshift(I)):(P.push(H),P.push(I)),P}},{key:"updateCrossPoints",value:function(o){var i=o.map(function(rt){return rt}),l=o[0],m=o[i.length-2],P=o[i.length-1],I=this.sourceNode,H=this.targetNode,oe=I.modelType,ue=H.modelType,Ce=Ls(l,o[1]),De=i[0];switch(oe){case en.RECT_NODE:0!==I.radius&&(Rp(l,I)||(De=Ip(l,Ce,I)));break;case en.CIRCLE_NODE:De=Ec(l,Ce,I);break;case en.ELLIPSE_NODE:De=_p(l,Ce,I);break;case en.DIAMOND_NODE:case en.POLYGON_NODE:De=Ts(l,Ce,I)}i[0]=De;var Re=Ls(m,P),st=i[i.length-1];switch(ue){case en.RECT_NODE:0!==H.radius&&(Rp(P,H)||(st=Ip(P,Re,H)));break;case en.CIRCLE_NODE:st=Ec(P,Re,H);break;case en.ELLIPSE_NODE:st=_p(P,Re,H);break;case en.DIAMOND_NODE:case en.POLYGON_NODE:st=Ts(P,Re,H)}return i[i.length-1]=st,i}},{key:"getData",value:function(){var o=Qi(Wo(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:i})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Sh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,i){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,P=o.endIndex,I=o.direction,H=this.pointsList,oe=H;return I===yn.HORIZONTAL?(H[m]={x:l.x,y:l.y+i.y},H[P]={x:d.x,y:d.y+i.y},oe=this.pointsList.map(function(ue){return ue})):I===yn.VERTICAL&&(H[m]={x:l.x+i.x,y:l.y},H[P]={x:d.x+i.x,y:d.y},oe=this.pointsList.map(function(ue){return ue})),this.updatePointsAfterDrag(oe),this.draginngPointList=oe,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},H[m]),end:Object.assign({},H[P]),startIndex:m,endIndex:P,direction:I}}},{key:"dragAppend",value:function(o,i){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,P=o.endIndex,I=o.direction,H=this.pointsList;if(I===yn.HORIZONTAL){H[m]={x:l.x,y:l.y+i.y},H[P]={x:d.x,y:d.y+i.y};var oe=this.pointsList.map(function(Qt){return Qt});if(0!==m&&P!==this.pointsList.length-1&&(oe=this.removeCrossPoints(m,P,oe)),0===m){var ue={x:l.x,y:l.y+i.y};$o(ue,this.sourceNode)||(oe=this.getDragingPoints(I,"start",ue,this.sourceNode.anchors,oe))}if(P===this.pointsList.length-1){var je={x:d.x,y:d.y+i.y};$o(je,this.targetNode)||(oe=this.getDragingPoints(I,"end",je,this.targetNode.anchors,oe))}this.updatePointsAfterDrag(oe),this.draggingPointList=oe}else if(I===yn.VERTICAL){H[m]={x:l.x+i.x,y:l.y},H[P]={x:d.x+i.x,y:d.y};var nt=this.pointsList.map(function(Qt){return Qt});if(0!==m&&P!==this.pointsList.length-1&&(nt=this.removeCrossPoints(m,P,nt)),0===m){var rt={x:l.x+i.x,y:l.y};$o(rt,this.sourceNode)||(nt=this.getDragingPoints(I,"start",rt,this.sourceNode.anchors,nt))}if(P===this.pointsList.length-1){var kt={x:d.x+i.x,y:d.y};$o(kt,this.targetNode)||(nt=this.getDragingPoints(I,"end",kt,this.targetNode.anchors,nt))}this.updatePointsAfterDrag(nt),this.draggingPointList=nt}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},H[m]),end:Object.assign({},H[P]),startIndex:m,endIndex:P,direction:I}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=xh(qi(this.points));this.pointsList=o.map(function(d){return d}),this.draginngPointList=[],this.startPoint=Object.assign({},o[0]),this.endPoint=Object.assign({},o[o.length-1])}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var i=this.updateCrossPoints(o);this.points=i.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,l=o.endPoint,P=Sh({x:i.x,y:i.y},{x:l.x,y:l.y},o.sourceNode,o.targetNode,this.offset||0);this.pointsList=P,this.initPoints()}}]),t}(Cc),fh=or(Wt.prototype,"dbClickPosition",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or(Wt.prototype,"initPoints",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"initPoints"),Wt.prototype),or(Wt.prototype,"updatePoints",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePoints"),Wt.prototype),or(Wt.prototype,"updateStartPoint",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateStartPoint"),Wt.prototype),or(Wt.prototype,"moveStartPoint",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveStartPoint"),Wt.prototype),or(Wt.prototype,"updateEndPoint",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateEndPoint"),Wt.prototype),or(Wt.prototype,"moveEndPoint",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveEndPoint"),Wt.prototype),or(Wt.prototype,"dragAppendStart",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendStart"),Wt.prototype),or(Wt.prototype,"dragAppendSimple",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendSimple"),Wt.prototype),or(Wt.prototype,"dragAppend",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppend"),Wt.prototype),or(Wt.prototype,"dragAppendEnd",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"dragAppendEnd"),Wt.prototype),or(Wt.prototype,"updatePointsAfterDrag",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePointsAfterDrag"),Wt.prototype),or(Wt.prototype,"getAdjustStart",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustStart"),Wt.prototype),or(Wt.prototype,"getAdjustEnd",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustEnd"),Wt.prototype),or(Wt.prototype,"updateAfterAdjustStartAndEnd",[v.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateAfterAdjustStartAndEnd"),Wt.prototype),Wt),Va=function(n){var t=n.start,r=n.end,o=n.offset,i=n.verticalLength,l=n.type,d={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((r.y-t.y)/(r.x-t.x)),P=Math.atan(o/i),I=Math.sqrt(i*i+o*o);return"start"===l?r.x>=t.x?(d.leftX=t.x+I*Math.sin(m+P),d.leftY=t.y-I*Math.cos(m+P),d.rightX=t.x-I*Math.sin(m-P),d.rightY=t.y+I*Math.cos(m-P)):(d.leftX=t.x-I*Math.sin(m+P),d.leftY=t.y+I*Math.cos(m+P),d.rightX=t.x+I*Math.sin(m-P),d.rightY=t.y-I*Math.cos(m-P)):"end"===l&&(r.x>=t.x?(d.leftX=r.x+I*Math.sin(m-P),d.leftY=r.y-I*Math.cos(m-P),d.rightX=r.x-I*Math.sin(m+P),d.rightY=r.y+I*Math.cos(m+P)):(d.leftX=r.x-I*Math.sin(m-P),d.leftY=r.y+I*Math.cos(m-P),d.rightX=r.x+I*Math.sin(m+P),d.rightY=r.y-I*Math.cos(m+P))),d};function yh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Ns(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yh(Object(t),!0).forEach(function(r){fT(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function fT(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function dT(e){return function vT(e){if(Array.isArray(e))return Nc(e)}(e)||function hT(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gh(e)||function pT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zs(e){return(zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ac(e,n){return function mT(e){if(Array.isArray(e))return e}(e)||function gT(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||gh(e,n)||function yT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gh(e,n){if(e){if("string"==typeof e)return Nc(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nc(e,n)}}function Nc(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Ds=function(n){var t=[],r={};return n.forEach(function(o){var i="".concat(o.x,"-").concat(o.y);o.id=i,r[i]=o}),Object.keys(r).forEach(function(o){t.push(r[o])}),t},Is=function(n,t){return 0===n.width&&0===n.height?n:{centerX:n.centerX,centerY:n.centerY,minX:n.minX-t,minY:n.minY-t,maxX:n.maxX+t,maxY:n.maxY+t,height:n.height+2*t,width:n.width+2*t}},Rs=function(n,t){return function(n,t){var r=Math.abs(n.x-t.centerX),o=Math.abs(n.y-t.centerY);return r/t.width>o/t.height?yn.HORIZONTAL:yn.VERTICAL}(t,n)===yn.HORIZONTAL?{x:t.x>n.centerX?n.maxX:n.minX,y:t.y}:{x:t.x,y:t.y>n.centerY?n.maxY:n.minY}},mh=function(n,t){var r=Math.min(n.minX,t.minX),o=Math.min(n.minY,t.minY),i=Math.max(n.maxX,t.maxX),l=Math.max(n.maxY,t.maxY);return{centerX:(r+i)/2,centerY:(o+l)/2,minX:r,minY:o,maxX:i,maxY:l,height:l-o,width:i-r}},Ya=function(){var t=arguments.length>1?arguments[1]:void 0,r=[],o=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(H){r.push(H.x),o.push(H.y)});var i=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=Math.min.apply(Math,o),m=Math.max.apply(Math,o),P=l-i,I=m-d;return t&&(P+=t,I+=t),{centerX:(i+l)/2,centerY:(d+m)/2,maxX:l,maxY:m,minX:i,minY:d,x:(i+l)/2,y:(d+m)/2,height:I,width:P}},_s=function(n){var t=n.minX,r=n.minY,o=n.maxX,i=n.maxY;return[{x:t,y:r},{x:o,y:r},{x:o,y:i},{x:t,y:i}]},js=function(n,t){var r=n.x,o=n.y;return r<t.minX||r>t.maxX||o<t.minY||o>t.maxY},zc=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},bh=function(n,t,r,o,i){return zc(n,t)+zc(n,r)+function(n,t){var o=0;return t.forEach(function(i){i&&(n.x===i.x&&(o+=-2),n.y===i.y&&(o+=-2))}),o}(n,[t,r,o,i])},CT=function e(n,t,r,o,i){i||(i=0),n.unshift(t[o]),r[o]&&r[o]!==o&&i<=100&&e(n,t,r,r[o],i+1)},$a=function(n,t,r,o){var i=t.x-n.x,l=t.y-n.y,d=o.x-r.x,m=o.y-r.y,P=(-l*(n.x-r.x)+i*(n.y-r.y))/(-d*l+i*m),I=(d*(n.y-r.y)-m*(n.x-r.x))/(-d*l+i*m);return P>=0&&P<=1&&I>=0&&I<=1},Oh=function(n,t,r){if(0===r.width&&0===r.height)return!1;var i=Ac(_s(r),4),l=i[0],d=i[1],m=i[2],P=i[3];return $a(n,t,l,d)||$a(n,t,l,P)||$a(n,t,d,m)||$a(n,t,m,P)},MT=function(n,t,r,o,i,l,d){var m=[],P=[t],I={},H={},oe={};H[t.id]=0,oe[t.id]=bh(t,r,t);var ue={};n.forEach(function(je){ue[je.id]=je});for(var Ce=function(){var Re=void 0,st=1/0;if(P.forEach(function(rt){oe[rt.id]<st&&(st=oe[rt.id],Re=rt)}),Re===r){var nt=[];return CT(nt,ue,I,r.id),{v:nt}}(function(n,t){var r=n.indexOf(t);r>-1&&n.splice(r,1)})(P,Re),m.push(Re),function(n,t,r,o){var i=[];return n.forEach(function(l){l!==t&&(l.x===t.x||l.y===t.y)&&!Oh(l,t,r)&&!Oh(l,t,o)&&i.push(l)}),Ds(i)}(n,Re,o,i).forEach(function(rt){if(-1===m.indexOf(rt)){-1===P.indexOf(rt)&&P.push(rt);var At=oe[Re.id]+zc(Re,rt);H[rt.id]&&At>=H[rt.id]||(I[rt.id]=Re.id,H[rt.id]=At,oe[rt.id]=H[rt.id]+bh(rt,r,t,l,d))}})};P.length;){var De=Ce();if("object"===zs(De))return De.v}return[t,r]},Eh=function(n){return pr(n)},xh=function(n){for(var t=n,r=1;r<t.length-1;){var o=t[r-1],i=t[r],l=t[r+1];o.x===i.x&&i.x===l.x||o.y===i.y&&i.y===l.y?t.splice(r,1):r++}return t},Sh=function(n,t,r,o,i){var l=Eh(r),d=Eh(o),m=Is(l,i),P=Is(d,i),I=Rs(m,n),H=Rs(P,t);if(function(n,t){return 2*Math.abs(n.centerX-t.centerX)<n.width+t.width&&2*Math.abs(n.centerY-t.centerY)<n.height+t.height}(m,P)){var oe=NT(n,t,I,H);return[n,I].concat(dT(oe),[H,t])}var ue=Ya([I,H]),Ce=mh(m,ue),De=mh(P,ue),je=[];je=(je=je.concat(_s(Ce))).concat(_s(De));var Re={x:(n.x+t.x)/2,y:(n.y+t.y)/2};[ue,Ce,De].forEach(function(nt){je=je.concat(function(n,t){return function(n,t){return t<n.minX||t>n.maxX?[]:[{x:t,y:n.minY},{x:t,y:n.maxY}]}(n,t.x).concat(function(n,t){return t<n.minY||t>n.maxY?[]:[{x:n.minX,y:t},{x:n.maxX,y:t}]}(n,t.y))}(nt,Re).filter(function(rt){return js(rt,m)&&js(rt,P)}))}),[{x:I.x,y:H.y},{x:H.x,y:I.y}].forEach(function(nt){js(nt,m)&&js(nt,P)&&je.push(nt)}),je.unshift(I),je.push(H),je=Ds(je);var st=MT(je,I,H,l,d,n,t);return st.unshift(n),st.push(t),st.length>2&&(st=xh(st)),Ds(st)},AT=function(n){var t;if(1===n.length)t=[n[0],n[0]];else if(n.length>=2){for(var r=n[0],o=n[1],i=eo(r.x,r.y,o.x,o.y),l=1;l<n.length-1;l++){var d=n[l],m=n[l+1],P=eo(d.x,d.y,m.x,m.y);P>i&&(i=P,r=d,o=m)}t=[r,o]}return t},Th=function(n,t,r){var o=$o(n,r),i=$o(t,r);return o&&i},Ch=function(n,t,r){var o=$o(n,r),i=$o(t,r);return!(o&&i)&&(o||i)},Ph=function(n,t,r){for(var o,i,l=pr(r),d=_s(l),m=0;m<d.length;m++)$a(n,t,d[m],d[(m+1)%d.length])&&(i=[d[m],d[(m+1)%d.length]]);return i&&(o=z0(n,t,i[0],i[1])),o},Ls=function(n,t){var r;return n.x===t.x?r=yn.VERTICAL:n.y===t.y&&(r=yn.HORIZONTAL),r},qi=function(n){var t=n.split(" "),r=[];return t&&t.forEach(function(o){var l=Ac(o.split(","),2),m=l[1];r.push({x:Number(l[0]),y:Number(m)})}),r},NT=function(n,t,r,o){var i=[];if(Ls(n,r)===Ls(t,o))n.y===r.y?(i.push({x:r.x,y:(r.y+o.y)/2}),i.push({x:o.x,y:(r.y+o.y)/2})):(i.push({x:(r.x+o.x)/2,y:r.y}),i.push({x:(r.x+o.x)/2,y:o.y}));else{var m={x:r.x,y:o.y},P=Ga(m,n,r),I=Ga(m,t,o);if(P||I)m={x:o.x,y:r.y};else{var H=wh(m,n,r),oe=wh(m,t,o);H&&oe&&(m={x:o.x,y:r.y})}i.push(m)}return i},wh=function(n,t,r){return n.x===t.x&&n.x===r.x||n.y===t.y&&n.y===r.y},Mh=function(n){if(!n)return 0;for(var t=0,r=0;r<n.length;r++){var o=n.charCodeAt(r);n.match(/[A-Z]/)?t+=1.5:t+=o>=1&&o<=126||o>=65376&&o<=65439?1:2}return t},Ah=function(n){var t=n.start,r=n.end,i=n.targetNode,l=n.offset,d=pr(n.sourceNode),m=pr(i),P=Is(d,l),I=Is(m,l);return{sNext:Rs(P,t),ePre:Rs(I,r)}},Bs=function(n){var t=n.replace(/M/g,"").replace(/C/g,",").split(",");return[Fs(t[0]),Fs(t[1]),Fs(t[2]),Fs(t[3])]},Fs=function(n){var r=Ac(n.replace(/(^\s*)/g,"").split(" "),2);return{x:+r[0],y:+r[1]}},Nh=function(n,t){for(var d,r=n.x,o=n.y,i=qi(t),l=Number.MAX_SAFE_INTEGER,m=[],P=0;P<i.length;P++)m.push({start:i[P],end:i[(P+1)%i.length]});if(m.forEach(function(ue){var Ce=ue.start,De=ue.end;if(Ce.x===De.x){var je={x:Ce.x,y:o};if(Ga(je,Ce,De)){var st=Math.abs(Ce.x-r);st<l&&(l=st,d=je)}}else if(Ce.y===De.y){var nt={x:r,y:Ce.y};if(Ga(nt,Ce,De)){var At=Math.abs(Ce.y-o);At<l&&(l=At,d=nt)}}}),!d){var I=m[0],H=I.start,oe=I.end;d={x:H.x+(oe.x-H.x)/2,y:H.y+(oe.y-H.y)/2}}return d},IT=function(n){return Fa(n,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},zh=function(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))};a(204);var ea=function _T(){};function Dh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var to=window.document;function Ic(e){var n=e.onDragStart,t=void 0===n?ea:n,r=e.onDraging,o=void 0===r?ea:r,i=e.onDragEnd,l=void 0===i?ea:i,d=e.step,m=void 0===d?1:d,P=e.isStopPropagation,I=void 0===P||P,H=!1,oe=!1,ue=0,Ce=0,De=0,je=0;function Re(rt){if(I&&rt.stopPropagation(),oe&&(H=!0,De+=rt.clientX-ue,je+=rt.clientY-Ce,ue=rt.clientX,Ce=rt.clientY,Math.abs(De)>m||Math.abs(je)>m)){var At=De%m,bt=je%m,kt=De-At,Kt=je-bt;De=At,je=bt,o({deltaX:kt,deltaY:Kt,event:rt})}}function st(rt){if(I&&rt.stopPropagation(),oe=!1,to.removeEventListener("mousemove",Re,!1),to.removeEventListener("mouseup",st,!1),H)return H=!1,l({event:rt})}return function nt(rt){if(0===rt.button)return I&&rt.stopPropagation(),oe=!0,ue=rt.clientX,Ce=rt.clientY,to.addEventListener("mousemove",Re,!1),to.addEventListener("mouseup",st,!1),t({event:rt})}}var Ue,Rh,_h,jh,Lh,Bh,Fh,kh,Gh,Hh,Uh,Vh,Yh,bi=function(){function e(n){var t=this,r=n.onDragStart,o=void 0===r?ea:r,i=n.onDraging,l=void 0===i?ea:i,d=n.onDragEnd,m=void 0===d?ea:d,P=n.eventType,I=void 0===P?"":P,H=n.eventCenter,oe=void 0===H?null:H,ue=n.step,Ce=void 0===ue?1:ue,De=n.isStopPropagation,je=void 0===De||De,Re=n.model,st=void 0===Re?null:Re;(function jT(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),Nn(this,"onDragStart",void 0),Nn(this,"onDraging",void 0),Nn(this,"onDragEnd",void 0),Nn(this,"step",void 0),Nn(this,"isStopPropagation",void 0),Nn(this,"isDraging",!1),Nn(this,"isStartDraging",!1),Nn(this,"startX",0),Nn(this,"startY",0),Nn(this,"sumDeltaX",0),Nn(this,"sumDeltaY",0),Nn(this,"eventType",void 0),Nn(this,"eventCenter",void 0),Nn(this,"model",void 0),Nn(this,"startTime",void 0),Nn(this,"isGrag",void 0),Nn(this,"handleMouseDown",function(nt){var rt,At;if(0===nt.button){t.isStopPropagation&&nt.stopPropagation(),t.isStartDraging=!0,t.startX=nt.clientX,t.startY=nt.clientY,to.addEventListener("mousemove",t.handleMouseMove,!1),to.addEventListener("mouseup",t.handleMouseUp,!1);var bt=null===(rt=t.model)||void 0===rt?void 0:rt.getData();null===(At=t.eventCenter)||void 0===At||At.emit(Vt["".concat(t.eventType,"_MOUSEDOWN")],{e:nt,data:bt}),t.startTime=(new Date).getTime()}}),Nn(this,"handleMouseMove",function(nt){if(t.isStopPropagation&&nt.stopPropagation(),t.isStartDraging&&(t.sumDeltaX+=nt.clientX-t.startX,t.sumDeltaY+=nt.clientY-t.startY,t.startX=nt.clientX,t.startY=nt.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var rt,At=t.sumDeltaX%t.step,bt=t.sumDeltaY%t.step,kt=t.sumDeltaX-At,Kt=t.sumDeltaY-bt;t.sumDeltaX=At,t.sumDeltaY=bt;var Qt,_t=null===(rt=t.model)||void 0===rt?void 0:rt.getData();t.isDraging||(null===(Qt=t.eventCenter)||void 0===Qt||Qt.emit(Vt["".concat(t.eventType,"_DRAGSTART")],{e:nt,data:_t}),t.onDragStart({event:nt})),t.isDraging=!0,Promise.resolve().then(function(){var Ln,vr;t.onDraging({deltaX:kt,deltaY:Kt,event:nt}),null===(Ln=t.eventCenter)||void 0===Ln||Ln.emit(Vt["".concat(t.eventType,"_MOUSEMOVE")],{e:nt,data:_t}),null===(vr=t.eventCenter)||void 0===vr||vr.emit(Vt["".concat(t.eventType,"_DRAG")],{e:nt,data:_t})})}}),Nn(this,"handleMouseUp",function(nt){t.isStartDraging=!1,t.isStopPropagation&&nt.stopPropagation(),Promise.resolve().then(function(){var rt,At,bt;to.removeEventListener("mousemove",t.handleMouseMove,!1),to.removeEventListener("mouseup",t.handleMouseUp,!1);var kt=null===(rt=t.model)||void 0===rt?void 0:rt.getData();null===(At=t.eventCenter)||void 0===At||At.emit(Vt["".concat(t.eventType,"_MOUSEUP")],{e:nt,data:kt}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:nt}),null===(bt=t.eventCenter)||void 0===bt||bt.emit(Vt["".concat(t.eventType,"_DROP")],{e:nt,data:kt}))})}),Nn(this,"cancelDrag",function(){to.removeEventListener("mousemove",t.handleMouseMove,!1),to.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=l,this.onDragEnd=m,this.step=Ce,this.isStopPropagation=je,this.eventType=I,this.eventCenter=oe,this.model=st}return function LT(e,n,t){return n&&Dh(e.prototype,n),t&&Dh(e,t),e}(e,[{key:"setStep",value:function(t){this.step=t}}]),e}();function $h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function ks(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$h(Object(t),!0).forEach(function(r){no(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$h(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Rc(e,n){return function GT(e){if(Array.isArray(e))return e}(e)||function kT(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||Wh(e,n)||function FT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(e){return function VT(e){if(Array.isArray(e))return _c(e)}(e)||function UT(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wh(e)||function HT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wh(e,n){if(e){if("string"==typeof e)return _c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _c(e,n)}}function _c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Wa(e){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wr(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Xh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Bt(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Zh,Kh=(Ue=function(){function e(n){(function YT(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),no(this,"rootEl",void 0),wr(this,"width",Rh,this),wr(this,"height",_h,this),no(this,"theme",void 0),no(this,"eventCenter",void 0),no(this,"modelMap",new Map),no(this,"topElement",void 0),no(this,"animation",void 0),no(this,"idGenerator",void 0),no(this,"edgeGenerator",void 0),no(this,"nodeMoveRules",[]),wr(this,"edgeType",jh,this),wr(this,"nodes",Lh,this),wr(this,"edges",Bh,this),wr(this,"overlapMode",Fh,this),wr(this,"background",kh,this),wr(this,"transformModel",Gh,this),wr(this,"editConfigModel",Hh,this),wr(this,"gridSize",Uh,this),wr(this,"partial",Vh,this),wr(this,"fakerNode",Yh,this);var t=n.container,r=n.background,i=n.grid,l=n.idGenerator,d=n.edgeGenerator,m=n.animation;this.background=void 0===r?{}:r,"object"===Wa(i)&&(this.gridSize=i.size),this.rootEl=t,this.editConfigModel=new ep(n),this.eventCenter=new g0,this.transformModel=new tx(this.eventCenter),this.theme=Pp(n.style),this.edgeType=n.edgeType||"polyline",this.width=n.width,this.height=n.height,this.animation=function(n){return n&&"boolean"!=typeof n?Cp(xn(Bp),n):xn(!0===n?B0:Bp)}(m),this.partial=n.partial,this.overlapMode=n.overlapMode||0,this.idGenerator=l,this.edgeGenerator=function RT(e,n){return"function"!=typeof n?function(t,r,o){return Object.assign({type:e.edgeType},o)}:function(t,r,o){var i=n(t,r,o);return i?"string"==typeof i?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:e.edgeType}}}(this,d),this.width=n.width||this.rootEl.getBoundingClientRect().width,this.height=n.height||this.rootEl.getBoundingClientRect().height}return function $T(e,n,t){return n&&Xh(e.prototype,n),t&&Xh(e,t),e}(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,r,o){return t[r.id]={index:o,model:r},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,r,o){return t[r.id]={index:o,model:r},t},{})}},{key:"modelsMap",get:function(){return[].concat(ta(this.nodes),ta(this.edges)).reduce(function(t,r){return t[r.id]=r,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(m){return t.push(m)}),this.edges.forEach(function(m){return t.push(m)}),t=t.sort(function(m,P){return m.zIndex-P.zIndex});for(var r=[],o=[-200,-200],i=[this.width+200,this.height+200],l=0;l<t.length;l++){var d=t[l];d.visible&&(!this.partial||d.isSelected||this.isElementInArea(d,o,i,!1,!1))&&r.push(d)}return r}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===ln.TEXT_EDIT}),r=this.edges.find(function(o){return o.state===ln.TEXT_EDIT});return t||r}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(r){r.isSelected&&t.set(r.id,r)}),this.edges.forEach(function(r){r.isSelected&&t.set(r.id,r)}),t}},{key:"getAreaElement",value:function(t,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=[],m=[];this.nodes.forEach(function(H){return m.push(H)}),this.edges.forEach(function(H){return m.push(H)});for(var P=0;P<m.length;P++){var I=m[P];(!l||I.visible)&&this.isElementInArea(I,t,r,o,i)&&d.push(I)}return d}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var r;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(r=this.nodesMap[t])||void 0===r?void 0:r.model}},{key:"getPointByClient",value:function(t){var r=t.x,o=t.y,i=this.rootEl.getBoundingClientRect(),l={x:r-i.left,y:o-i.top},m=Rc(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:m[0],y:m[1]}}}},{key:"isElementInArea",value:function(t,r,o){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===An.NODE){for(var d=pr(t),m=d.minX,P=d.minY,I=d.maxX,H=d.maxY,oe=[{x:m,y:P},{x:I,y:P},{x:I,y:H},{x:m,y:H}],ue=l,Ce=0;Ce<oe.length;Ce++){var De=oe[Ce],je=De.x,Re=De.y,nt=Rc(this.transformModel.CanvasPointToHtmlPoint([je,Re]),2);if(gc([je=nt[0],Re=nt[1]],r,o)!==l){ue=!l;break}}return ue}if(t.BaseType===An.EDGE){var At=t.startPoint,bt=t.endPoint,kt=this.transformModel.CanvasPointToHtmlPoint([At.x,At.y]),Kt=this.transformModel.CanvasPointToHtmlPoint([bt.x,bt.y]),_t=gc(kt,r,o),Qt=gc(Kt,r,o);return i?_t&&Qt:_t||Qt}return!1}},{key:"graphDataToModel",value:function(t){var r=this;(!this.width||!this.height)&&this.resize(),this.nodes=ys(t.nodes,function(o){var i=r.getModel(o.type);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=Yo(l,r.gridSize),o.y=Yo(d,r.gridSize),"object"===Wa(o.text)&&(o.text.x-=Mp(l,r.gridSize),o.text.y-=Mp(d,r.gridSize))),new i(o,r)}),this.edges=ys(t.edges,function(o){var i=r.getModel(o.type);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new i(o,r)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var i=o.getData();i&&!o.virtual&&t.push(i)});var r=[];return this.nodes.forEach(function(o){var i=o.getData();i&&!o.virtual&&r.push(i)}),{nodes:r,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,r=[],o=0;o<this.nodes.length;o++){var i=this.nodes[o];if(i.isDragging){t=!0;break}r.push(i.getHistoryData())}if(t)return!1;for(var l=!1,d=[],m=0;m<this.edges.length;m++){var P=this.edges[m];if(P.isDragging){l=!0;break}d.push(P.getHistoryData())}return!l&&{nodes:r,edges:d}}},{key:"getEdgeModelById",value:function(t){var r;return null===(r=this.edgesMap[t])||void 0===r?void 0:r.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var r=[],o=0;o<this.edges.length;o++)(this.edges[o].sourceNodeId===t||this.edges[o].targetNodeId===t)&&r.push(this.edges[o]);return r}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=this.selectElements,o={nodes:[],edges:[]};return r.forEach(function(i){if(i.BaseType===An.NODE&&o.nodes.push(i.getData()),i.BaseType===An.EDGE){var l=i.getData(),d=r.get(l.sourceNodeId)&&r.get(l.targetNodeId);(t||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(t,r){this.getElement(t).updateAttributes(r)}},{key:"changeNodeId",value:function(t,r){return r||(r=mi()),this.nodesMap[r]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8282\u70b9".concat(r,", \u4fee\u6539\u5931\u8d25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=r),o.targetNodeId===t&&(o.targetNodeId=r)}),this.nodesMap[t].model.id=r,r):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8282\u70b9".concat(r,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"changeEdgeId",value:function(t,r){return r||(r=mi()),this.edgesMap[r]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8fb9: ".concat(r,", \u4fee\u6539\u5931\u8d25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(r)}),r):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8fb9: ".concat(r,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,r){return this.modelMap.set(t,r)}},{key:"toFront",value:function(t){var r,o,l,i=(null===(r=this.nodesMap[t])||void 0===r?void 0:r.model)||(null===(o=this.edgesMap[t])||void 0===o?void 0:o.model);i&&(this.overlapMode===cr.DEFAULT&&(null===(l=this.topElement)||void 0===l||l.setZIndex(),i.setZIndex(9999),this.topElement=i),this.overlapMode===cr.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,r){var o,i,d,l=(null===(o=this.nodesMap[t])||void 0===o?void 0:o.model)||(null===(i=this.edgesMap[t])||void 0===i?void 0:i.model);l&&("number"==typeof r&&(d=r),"top"===r&&(d=Sc()),"bottom"===r&&(d=--G0),l.setZIndex(d))}},{key:"deleteNode",value:function(t){var r=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(Vt.NODE_DELETE,{data:r})}},{key:"addNode",value:function(t){var r=Xn(t);r.id&&this.nodesMap[t.id]&&delete r.id;var o=this.getModel(r.type);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(r.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));r.x=Yo(r.x,this.gridSize),r.y=Yo(r.y,this.gridSize);var i=new o(r,this);this.nodes.push(i);var l=i.getData();return this.eventCenter.emit(Vt.NODE_ADD,{data:l}),i}},{key:"cloneNode",value:function(t){var r=this.getNodeModelById(t),o=r.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var i=this.addNode(o);return i.setSelected(!0),r.setSelected(!1),i.getData()}},{key:"moveNode",value:function(t,r,o){var l=this.nodesMap[t];if(l){var P=Rc(l.model.getMoveDistance(r,o,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),2);this.moveEdge(t,r=P[0],o=P[1])}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(t,r,o){var l=this.nodesMap[t];if(l){var d=l.model;this.moveNode(t,r-d.x,o-d.y,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"editText",value:function(t){this.setElementStateById(t,ln.TEXT_EDIT)}},{key:"addEdge",value:function(t){var r=Xn(t),o=r.type;o||(o=this.edgeType),r.id&&this.edgesMap[r.id]&&delete r.id;var i=this.getModel(o);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o,"\u5bf9\u5e94\u7684\u8fb9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fb9\u3002"));var l=new i(ks(ks({},r),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(Vt.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(t,r,o){for(var i=0;i<this.edges.length;i++){var oe,l=this.edges[i],d=l.textPosition,m=d.x,P=d.y,I=this.edges[i].sourceNodeId===t,H=this.edges[i].targetNodeId===t;if(I&&l.moveStartPoint(r,o),H&&l.moveEndPoint(r,o),I||H)if(!0===l.customTextPosition)l.resetTextPosition();else if(l.modelType===en.POLYLINE_EDGE&&null!==(oe=l.text)&&void 0!==oe&&oe.value){var ue=l.text,Ce=Nh(ue,l.points);l.moveText(Ce.x-ue.x,Ce.y-ue.y)}else{var De=l.textPosition;l.moveText(De.x-m,De.y-P)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,r){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===r){var i=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Vt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeById",value:function(t){if(this.edgesMap[t]){var o=this.edgesMap[t].index,i=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(Vt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(t){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===t){var o=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(Vt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var r=0;r<this.edges.length;r++)if(this.edges[r].targetNodeId===t){var o=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(Vt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,r,o){this.nodes.forEach(function(i){i.id===t?i.setElementState(r,o):i.setElementState(ln.DEFAULT)}),this.edges.forEach(function(i){i.id===t?i.setElementState(r,o):i.setElementState(ln.DEFAULT)})}},{key:"updateText",value:function(t,r){this.nodes.forEach(function(o){o.id===t&&o.updateText(r)}),this.edges.forEach(function(o){o.id===t&&o.updateText(r)})}},{key:"selectNodeById",value:function(t){var r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),(null===(r=this.nodesMap[t])||void 0===r?void 0:r.model)?.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),(null===(r=this.edgesMap[t])||void 0===r?void 0:r.model)?.setSelected(!0)}},{key:"selectElementById",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),this.getElement(t)?.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach(function(r){r?.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===cr.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,r,o){var i=this,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.forEach(function(d){return i.moveNode(d,r,o,l)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,r){var o=this.getNodeModelById(t);if(o){var i=o.getData();i.type=r;var l=this.getModel(r);if(!l)throw new Error("\u627e\u4e0d\u5230".concat(r,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var d=new l(i,this);this.nodes.splice(this.nodesMap[t].index,1,d),this.getNodeEdges(t).forEach(function(P){if(P.sourceNodeId===t){var I=jp(d,P.startPoint,d.width,d.height);P.updateStartPoint(I)}if(P.targetNodeId===t){var H=jp(d,P.endPoint,d.width,d.height);P.updateEndPoint(H)}})}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"changeEdgeType",value:function(t,r){var o=this.getEdgeModelById(t);if(o){if(o.type!==r){var i=o.getData();i.type=r;var l=this.getModel(r);if(!l)throw new Error("\u627e\u4e0d\u5230".concat(r,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));delete i.pointsList;var d=new l(i,this);this.edges.splice(this.edgesMap[t].index,1,d)}}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(t,"\u7684\u8fb9"))}},{key:"getNodeIncomingEdge",value:function(t){var r=[];return this.edges.forEach(function(o){o.targetNodeId===t&&r.push(o)}),r}},{key:"getNodeOutgoingEdge",value:function(t){var r=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&r.push(o)}),r}},{key:"getNodeIncomingNode",value:function(t){var r=this,o=[];return this.edges.forEach(function(i){i.targetNodeId===t&&o.push(r.nodesMap[i.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var r=this,o=[];return this.edges.forEach(function(i){i.sourceNodeId===t&&o.push(r.nodesMap[i.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Pp(ks(ks({},this.theme),t))}},{key:"resize",value:function(t,r){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=r||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6e32\u67d3\u753b\u5e03\u7684\u65f6\u5019\u65e0\u6cd5\u83b7\u53d6\u753b\u5e03\u5bbd\u9ad8\uff0c\u8bf7\u786e\u8ba4\u5728container\u5df2\u6302\u8f7d\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=[],o=[];this.nodes.forEach(function(ue){var Ce=ue.x,De=ue.y,je=ue.width,Re=ue.height,nt=ue.getNodeStyle().strokeWidth,rt=void 0===nt?0:nt;r=r.concat([Ce+je/2+rt,Ce-je/2-rt]),o=o.concat([De+Re/2+rt,De-Re/2-rt])});var i=Math.min.apply(Math,ta(r)),l=Math.max.apply(Math,ta(r)),d=Math.min.apply(Math,ta(o)),P=l-i||0,I=Math.max.apply(Math,ta(o))-d||0;return{virtualRectWidth:P,virtualRectHeight:I,virtualRectCenterPositionX:i+P/2,virtualRectCenterPositionY:d+I/2}}},{key:"translateCenter",value:function(){var i=this.rootEl,l=this.transformModel;if(this.nodes.length){var d=this.width||i.clientWidth,m=this.height||i.clientHeight,P=this.getVirtualRectSize();l.focusOn(P.virtualRectCenterPositionX,P.virtualRectCenterPositionY,d,m)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,d=this.rootEl,m=this.transformModel;if(this.nodes.length){var P=this.width||d.clientWidth,I=this.height||d.clientHeight,H=this.getVirtualRectSize(),Ce=H.virtualRectCenterPositionX,De=H.virtualRectCenterPositionY,st=0;st=1/Math.max((H.virtualRectWidth+r)/P,(H.virtualRectHeight+t)/I),m.zoom(st,[P/2,I/2]),m.focusOn(Ce,De,P,I)}}},{key:"openEdgeAnimation",value:function(t){this.getEdgeModelById(t).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){this.getEdgeModelById(t).closeEdgeAnimation()}}]),e}(),Rh=Bt(Ue.prototype,"width",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_h=Bt(Ue.prototype,"height",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jh=Bt(Ue.prototype,"edgeType",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh=Bt(Ue.prototype,"nodes",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bh=Bt(Ue.prototype,"edges",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fh=Bt(Ue.prototype,"overlapMode",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cr.DEFAULT}}),kh=Bt(Ue.prototype,"background",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=Bt(Ue.prototype,"transformModel",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh=Bt(Ue.prototype,"editConfigModel",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=Bt(Ue.prototype,"gridSize",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vh=Bt(Ue.prototype,"partial",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yh=Bt(Ue.prototype,"fakerNode",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt(Ue.prototype,"nodesMap",[v.m],Object.getOwnPropertyDescriptor(Ue.prototype,"nodesMap"),Ue.prototype),Bt(Ue.prototype,"edgesMap",[v.m],Object.getOwnPropertyDescriptor(Ue.prototype,"edgesMap"),Ue.prototype),Bt(Ue.prototype,"modelsMap",[v.m],Object.getOwnPropertyDescriptor(Ue.prototype,"modelsMap"),Ue.prototype),Bt(Ue.prototype,"sortElements",[v.m],Object.getOwnPropertyDescriptor(Ue.prototype,"sortElements"),Ue.prototype),Bt(Ue.prototype,"textEditElement",[v.m],Object.getOwnPropertyDescriptor(Ue.prototype,"textEditElement"),Ue.prototype),Bt(Ue.prototype,"selectElements",[v.m],Object.getOwnPropertyDescriptor(Ue.prototype,"selectElements"),Ue.prototype),Bt(Ue.prototype,"setFakerNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setFakerNode"),Ue.prototype),Bt(Ue.prototype,"removeFakerNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"removeFakerNode"),Ue.prototype),Bt(Ue.prototype,"setModel",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setModel"),Ue.prototype),Bt(Ue.prototype,"toFront",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"toFront"),Ue.prototype),Bt(Ue.prototype,"setElementZIndex",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setElementZIndex"),Ue.prototype),Bt(Ue.prototype,"deleteNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"deleteNode"),Ue.prototype),Bt(Ue.prototype,"addNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"addNode"),Ue.prototype),Bt(Ue.prototype,"cloneNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"cloneNode"),Ue.prototype),Bt(Ue.prototype,"moveNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"moveNode"),Ue.prototype),Bt(Ue.prototype,"moveNode2Coordinate",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"moveNode2Coordinate"),Ue.prototype),Bt(Ue.prototype,"editText",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"editText"),Ue.prototype),Bt(Ue.prototype,"addEdge",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"addEdge"),Ue.prototype),Bt(Ue.prototype,"moveEdge",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"moveEdge"),Ue.prototype),Bt(Ue.prototype,"deleteEdgeBySourceAndTarget",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"deleteEdgeBySourceAndTarget"),Ue.prototype),Bt(Ue.prototype,"deleteEdgeById",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"deleteEdgeById"),Ue.prototype),Bt(Ue.prototype,"deleteEdgeBySource",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"deleteEdgeBySource"),Ue.prototype),Bt(Ue.prototype,"deleteEdgeByTarget",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"deleteEdgeByTarget"),Ue.prototype),Bt(Ue.prototype,"setElementStateById",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setElementStateById"),Ue.prototype),Bt(Ue.prototype,"updateText",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"updateText"),Ue.prototype),Bt(Ue.prototype,"selectNodeById",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"selectNodeById"),Ue.prototype),Bt(Ue.prototype,"selectEdgeById",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"selectEdgeById"),Ue.prototype),Bt(Ue.prototype,"selectElementById",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"selectElementById"),Ue.prototype),Bt(Ue.prototype,"clearSelectElements",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"clearSelectElements"),Ue.prototype),Bt(Ue.prototype,"moveNodes",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"moveNodes"),Ue.prototype),Bt(Ue.prototype,"setDefaultEdgeType",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setDefaultEdgeType"),Ue.prototype),Bt(Ue.prototype,"changeNodeType",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"changeNodeType"),Ue.prototype),Bt(Ue.prototype,"changeEdgeType",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"changeEdgeType"),Ue.prototype),Bt(Ue.prototype,"getNodeIncomingEdge",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"getNodeIncomingEdge"),Ue.prototype),Bt(Ue.prototype,"getNodeOutgoingEdge",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"getNodeOutgoingEdge"),Ue.prototype),Bt(Ue.prototype,"getNodeIncomingNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"getNodeIncomingNode"),Ue.prototype),Bt(Ue.prototype,"getNodeOutgoingNode",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"getNodeOutgoingNode"),Ue.prototype),Bt(Ue.prototype,"setTheme",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"setTheme"),Ue.prototype),Bt(Ue.prototype,"resize",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"resize"),Ue.prototype),Bt(Ue.prototype,"clearData",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"clearData"),Ue.prototype),Bt(Ue.prototype,"translateCenter",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"translateCenter"),Ue.prototype),Bt(Ue.prototype,"fitView",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"fitView"),Ue.prototype),Bt(Ue.prototype,"openEdgeAnimation",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"openEdgeAnimation"),Ue.prototype),Bt(Ue.prototype,"closeEdgeAnimation",[v.k],Object.getOwnPropertyDescriptor(Ue.prototype,"closeEdgeAnimation"),Ue.prototype),Ue),WT=Kh;function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jc(){return jc=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},jc.apply(this,arguments)}function Jh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZT(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Lc(e,n)}function Lc(e,n){return(Lc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function JT(e){var n=function qT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Us(e);if(n){var i=Us(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return QT(this,o)}}function QT(e,n){if(n&&("object"===Hs(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ro(e)}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Us(e){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Po(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Qh,eC=Vr(Zh=function(e){ZT(t,e);var n=JT(t);function t(r){var o;(function XT(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),Po(ro(o=n.call(this)),"stepDrag",void 0),Po(ro(o),"stepScrollX",0),Po(ro(o),"stepScrollY",0),Po(ro(o),"onDraging",function(m){var P=m.deltaX,I=m.deltaY;o.setState({isDraging:!0});var H=o.props.graphModel;H.editConfigModel.stopMoveGraph||H.transformModel.translate(P,I)}),Po(ro(o),"onDragEnd",function(){o.setState({isDraging:!1})}),Po(ro(o),"zoomHandler",function(m){var P=o.props,I=P.graphModel,H=I.editConfigModel,oe=I.transformModel,ue=I.gridSize,Ce=P.graphModel,De=m.deltaX,je=m.deltaY;if(H.stopScrollGraph||!0===m.ctrlKey){if(!H.stopZoomGraph){m.preventDefault();var bt=Ce.getPointByClient({x:m.clientX,y:m.clientY}).canvasOverlayPosition;oe.zoom(m.deltaY<0,[bt.x,bt.y])}}else{if(m.preventDefault(),o.stepScrollX+=De,o.stepScrollY+=je,Math.abs(o.stepScrollX)>=ue){var Re=o.stepScrollX%ue;oe.translate(-(o.stepScrollX-Re)*oe.SCALE_X,0),o.stepScrollX=Re}if(Math.abs(o.stepScrollY)>=ue){var nt=o.stepScrollY%ue;oe.translate(0,-(o.stepScrollY-nt)*oe.SCALE_Y),o.stepScrollY=nt}}}),Po(ro(o),"clickHandler",function(m){if("canvas-overlay"===m.target.getAttribute("name")){var I=o.props.graphModel;I.selectElements.size>0&&I.clearSelectElements(),I.eventCenter.emit(Vt.BLANK_CLICK,{e:m})}}),Po(ro(o),"handleContextMenu",function(m){if("canvas-overlay"===m.target.getAttribute("name")){m.preventDefault();var I=o.props.graphModel,H=I.getPointByClient({x:m.clientX,y:m.clientY});I.eventCenter.emit(Vt.BLANK_CONTEXTMENU,{e:m,position:H})}}),Po(ro(o),"mouseDownHandler",function(m){var P=o.props.graphModel,I=P.eventCenter,H=P.editConfigModel,oe=P.transformModel.SCALE_X,ue=P.gridSize,De=!H.adjustEdge&&!H.adjustNodePosition;("canvas-overlay"===m.target.getAttribute("name")||De)&&(H.stopMoveGraph?I.emit(Vt.BLANK_MOUSEDOWN,{e:m}):(o.stepDrag.setStep(ue*oe),o.stepDrag.handleMouseDown(m)),o.clickHandler(m))});var i=r.graphModel;return o.stepDrag=new bi({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:i.gridSize,eventType:"BLANK",isStopPropagation:!1,eventCenter:i.eventCenter,model:null}),o.state={isDraging:!1},o}return function KT(e,n,t){return n&&Jh(e.prototype,n),t&&Jh(e,t),e}(t,[{key:"render",value:function(){var l=this.props.graphModel.transformModel.getTransformStyle().transform,d=this.props,m=d.children,P=d.dnd,I=this.state.isDraging;return Object(Ge.g)("svg",jc({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:I?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},P.eventMap()),Object(Ge.g)("g",{transform:l},m))}}]),t}(Ge.a))||Zh,tC=eC;function Vs(e){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function nC(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function qh(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oC(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Bc(e,n)}function Bc(e,n){return(Bc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function iC(e){var n=function sC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Ys(e);if(n){var i=Ys(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aC(this,o)}}function aC(e,n){if(n&&("object"===Vs(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ev(e)}function ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ys(e){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lC(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var uC=Vr(Qh=function(e){oC(t,e);var n=iC(t);function t(){var r;nC(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return lC(ev(r=n.call.apply(n,[this].concat(i))),"setToolOverlayRef",function(d){var P=r.props.tool.getInstance();P.components.forEach(function(I){return I(P,d)}),P.components=[]}),r}return function rC(e,n,t){return n&&qh(e.prototype,n),t&&qh(e,t),e}(t,[{key:"getTools",value:function(){var o=this.props,i=o.tool,l=o.graphModel,m=i.getTools().map(function(P){return Object(Ge.g)(P,{graphModel:l,logicFlow:i.instance})});return i.components=m,m}},{key:"render",value:function(){return Object(Ge.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(Ge.a))||Qh;function $s(e){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cC(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function tv(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dC(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Fc(e,n)}function Fc(e,n){return(Fc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function pC(e){var n=function yC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Ws(e);if(n){var i=Ws(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return hC(this,o)}}function hC(e,n){if(n&&("object"===$s(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function vC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ws(e){return(Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var nv,gC=function(e){dC(t,e);var n=pC(t);function t(){return cC(this,t),n.apply(this,arguments)}return function fC(e,n,t){return n&&tv(e.prototype,n),t&&tv(e,t),e}(t,[{key:"render",value:function(){var o=this.props.background;return Object(Ge.g)("div",{className:"lf-background"},Object(Ge.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(Ge.a);function Xs(e){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mC(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rv(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OC(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&kc(e,n)}function kc(e,n){return(kc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function EC(e){var n=function SC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Ks(e);if(n){var i=Ks(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return xC(this,o)}}function xC(e,n){if(n&&("object"===Xs(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ov(e)}function ov(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ks(e){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function TC(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var iv=Vr(nv=function(e){OC(t,e);var n=EC(t);function t(){var r;mC(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return TC(ov(r=n.call.apply(n,[this].concat(i))),"id",mi()),r}return function bC(e,n,t){return n&&rv(e.prototype,n),t&&rv(e,t),e}(t,[{key:"renderDot",value:function(){var o=this.props,i=o.config,l=i.color,d=i.thickness,P=o.size,I=o.visible,H=Math.min(Math.max(2,void 0===d?2:d),P/2),oe=1;return I||(oe=0),Object(Ge.g)("rect",{width:H,height:H,rx:H/2,ry:H/2,fill:l,opacity:oe})}},{key:"renderMesh",value:function(){var o=this.props,i=o.config,l=i.color,d=i.thickness,P=o.size,I=o.visible,H=Math.min(Math.max(1,void 0===d?1:d),P/2),oe="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),ue=1;return I||(ue=0),Object(Ge.g)("path",{d:oe,stroke:l,strokeWidth:H,opacity:ue})}},{key:"render",value:function(){var o=this.props,i=o.type,l=o.size,d=o.graphModel.transformModel,Ce=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),De="matrix(".concat(Ce,")");return Object(Ge.g)("div",{className:"lf-grid"},Object(Ge.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Ge.g)("defs",null,Object(Ge.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:De,x:"0",y:"0",width:l,height:l},"dot"===i&&this.renderDot(),"mesh"===i&&this.renderMesh())),Object(Ge.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(Ge.a))||nv;function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function CC(e,n){return function AC(e){if(Array.isArray(e))return e}(e)||function MC(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function wC(e,n){if(e){if("string"==typeof e)return av(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return av(e,n)}}(e,n)||function PC(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function av(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}iv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(52);var sv,Oi=function NC(e){var n={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var r=CC(t,2),o=r[0],i=r[1];("style"===o||"object"!==Zs(i))&&(n[o]=i)}),Object(Ge.g)("line",n)};function Js(e){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function lv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Qs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?lv(Object(t),!0).forEach(function(r){zC(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lv(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function zC(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function DC(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function uv(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RC(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Gc(e,n)}function Gc(e,n){return(Gc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function _C(e){var n=function BC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=qs(e);if(n){var i=qs(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jC(this,o)}}function jC(e,n){if(n&&("object"===Js(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function LC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qs(e){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var fv,FC=Vr(sv=function(e){RC(t,e);var n=_C(t);function t(){return DC(this,t),n.apply(this,arguments)}return function IC(e,n,t){return n&&uv(e.prototype,n),t&&uv(e,t),e}(t,[{key:"render",value:function(){var o=this.props.snaplineModel,i=o.position,l=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),P=i.x,I=void 0===P?0:P,H=i.y,oe=void 0===H?0:H,ue=Qs(Qs({x1:-1e5,y1:oe,x2:1e5,y2:oe},m),{},{stroke:l?m.stroke:"none"}),Ce=Qs(Qs({x1:I,y1:-1e5,x2:I,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(Ge.g)("g",{className:"lf-snapline"},Object(Ge.g)(Oi,ue),Object(Ge.g)(Oi,Ce))}}]),t}(Ge.a))||sv;function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kC(e,n){return function VC(e){if(Array.isArray(e))return e}(e)||function UC(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function HC(e,n){if(e){if("string"==typeof e)return cv(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cv(e,n)}}(e,n)||function GC(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Xo(e){var i=e.className,l=e.radius,d=e.x-e.width/2,m=e.y-e.height/2,P={};return Object.entries(e).forEach(function(I){var H=kC(I,2),oe=H[0],ue=H[1];"object"!==el(ue)&&(P[oe]=ue)}),P.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",l&&(P.rx=l,P.ry=l),P.x=d,P.y=m,Object(Ge.g)("rect",P)}function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function na(){return na=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},na.apply(this,arguments)}function dv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function pv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dv(Object(t),!0).forEach(function(r){YC(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dv(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function YC(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $C(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hv(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XC(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Hc(e,n)}function Hc(e,n){return(Hc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function KC(e){var n=function QC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=nl(e);if(n){var i=nl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ZC(this,o)}}function ZC(e,n){if(n&&("object"===tl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function JC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nl(e){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Xo.defaultProps={className:"",radius:""};var yv,qC=Vr(fv=function(e){XC(t,e);var n=KC(t);function t(){return $C(this,t),n.apply(this,arguments)}return function WC(e,n,t){return n&&hv(e.prototype,n),t&&hv(e,t),e}(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,l=o.editConfigModel,d=l.hoverOutline,m=l.nodeSelectedOutline,P=[];return o.nodes.forEach(function(I){if(I.isHovered||I.isSelected){var H=I.isHovered,ue=I.x,Ce=I.y,De=I.width,je=I.height;if(m&&I.isSelected||d&&H){var Re=I.getOutlineStyle(),st={};if(Object.keys(Re).forEach(function(rt){"hover"!==rt&&(st[rt]=Re[rt])}),H){var nt=Re.hover;st=pv(pv({},st),nt)}P.push(Object(Ge.g)(Xo,na({className:"lf-outline-node",x:ue,y:Ce,width:De+10,height:je+10},st)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,i=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,m=l.hoverOutline,P=[],I=0;I<i.length;I++){var H=i[I];(d&&H.isSelected||m&&H.isHovered)&&(H.modelType===en.LINE_EDGE?P.push(this.getLineOutline(H)):H.modelType===en.POLYLINE_EDGE?P.push(this.getPolylineOutline(H)):H.modelType===en.BEZIER_EDGE&&P.push(this.getBezierOutline(H)))}return P}},{key:"getLineOutline",value:function(o){var i=o.startPoint,l=o.endPoint,d=(i.x+l.x)/2,m=(i.y+l.y)/2,P=Math.abs(i.x-l.x)+10,I=Math.abs(i.y-l.y)+10,H=o.getOutlineStyle();return Object(Ge.g)(Xo,na({className:"lf-outline-edge",x:d,y:m,width:P,height:I},H))}},{key:"getPolylineOutline",value:function(o){var l=qi(o.points),d=Ya(l,8),m=d.x,P=d.y,I=d.width,H=d.height,oe=o.getOutlineStyle();return Object(Ge.g)(Xo,na({className:"lf-outline",x:m,y:P,width:I,height:H},oe))}},{key:"getBezierOutline",value:function(o){var l=Bs(o.path),d=Ya(l,8),m=d.x,P=d.y,I=d.width,H=d.height,oe=o.getOutlineStyle();return Object(Ge.g)(Xo,na({className:"lf-outline",x:m,y:P,width:I,height:H},oe))}},{key:"render",value:function(){return Object(Ge.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(Ge.a))||fv;function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function eP(e,n){return function oP(e){if(Array.isArray(e))return e}(e)||function rP(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function nP(e,n){if(e){if("string"==typeof e)return vv(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vv(e,n)}}(e,n)||function tP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vv(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Xa(e){var n=e.x,r=e.y,i=e.r,d=e.className,m={cx:void 0===n?0:n,cy:void 0===r?0:r,r:void 0===i?4:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(P){var I=eP(P,2),H=I[0],oe=I[1];"object"!==rl(oe)&&(m[H]=oe)}),m.className=d?"lf-basic-shape ".concat(d):"lf-basic-shape",Object(Ge.g)("circle",m)}function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function iP(e,n){return function uP(e){if(Array.isArray(e))return e}(e)||function lP(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function sP(e,n){if(e){if("string"==typeof e)return gv(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gv(e,n)}}(e,n)||function aP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ka(){return Ka=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ka.apply(this,arguments)}function mv(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bv(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ov(e,n,t){return n&&bv(e.prototype,n),t&&bv(e,t),e}function Ev(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Uc(e,n)}function Uc(e,n){return(Uc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function xv(e){var n=function fP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=al(e);if(n){var i=al(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return cP(this,o)}}function cP(e,n){if(n&&("object"===ol(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return il(e)}function il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function al(e){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Vc(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Tv,Sv=function(e){Ev(t,e);var n=xv(t);function t(){var r;return mv(this,t),Vc(il(r=n.call(this)),"dragHandler",void 0),Vc(il(r),"onDraging",function(o){var i=o.event,l=r.props,m=l.bezierModel,P=l.type,H=l.graphModel.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition;m.updateAdjustAnchor({x:H.x,y:H.y},P)}),Vc(il(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new bi({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return Ov(t,[{key:"render",value:function(){var o=this,i=this.props.position,l=i.x,d=i.y,I=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(Ge.g)(Xa,Ka({className:"lf-bezier-adjust-anchor",x:l,y:d},I,{onMouseDown:function(oe){o.dragHandler.handleMouseDown(oe)}}))}}]),t}(Ge.a),dP=Vr(yv=function(e){Ev(t,e);var n=xv(t);function t(){return mv(this,t),n.apply(this,arguments)}return Ov(t,[{key:"getBezierAdjust",value:function(o,i){var d=o.id,P=iP(Bs(o.path),4),I=P[0],H=P[1],oe=P[2],ue=P[3],De=o.getEdgeStyle().adjustLine,je=[];return je.push(Object(Ge.g)(Oi,Ka({x1:I.x,y1:I.y,x2:H.x,y2:H.y},De))),je.push(Object(Ge.g)(Sv,{position:H,bezierModel:o,graphModel:i,key:"".concat(d,"_ePre"),type:"sNext"})),je.push(Object(Ge.g)(Oi,Ka({x1:ue.x,y1:ue.y,x2:oe.x,y2:oe.y},De))),je.push(Object(Ge.g)(Sv,{position:oe,bezierModel:o,graphModel:i,key:"".concat(d,"_sNext"),type:"ePre"})),je}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,i=o.edges,l=[],d=0;d<i.length;d++){var m=i[d];m.isSelected&&m.modelType===en.BEZIER_EDGE&&m.draggable&&l.push(this.getBezierAdjust(m,o))}return l}},{key:"render",value:function(){return Object(Ge.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(Ge.a))||yv;function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Cv(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vP(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Yc(e,n)}function Yc(e,n){return(Yc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function yP(e){var n=function bP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=ll(e);if(n){var i=ll(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gP(this,o)}}function gP(e,n){if(n&&("object"===sl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function mP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ll(e){return(ll=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Pv,OP=Vr(Tv=function(e){vP(t,e);var n=yP(t);function t(){return pP(this,t),n.apply(this,arguments)}return function hP(e,n,t){return n&&Cv(e.prototype,n),t&&Cv(e,t),e}(t,[{key:"render",value:function(){var l=this.props.graphModel.transformModel.getTransformStyle().transform,d=this.props.children;return Object(Ge.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Ge.g)("g",{transform:l},d))}}]),t}(Ge.a))||Tv;function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $c(){return $c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$c.apply(this,arguments)}function EP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wv(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SP(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Wc(e,n)}function Wc(e,n){return(Wc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function TP(e){var n=function wP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=cl(e);if(n){var i=cl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return CP(this,o)}}function CP(e,n){if(n&&("object"===ul(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function PP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cl(e){return(cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var MP=Vr(Pv=function(e){SP(t,e);var n=TP(t);function t(){return EP(this,t),n.apply(this,arguments)}return function xP(e,n,t){return n&&wv(e.prototype,n),t&&wv(e,t),e}(t,[{key:"getComponent",value:function(o,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",m=(0,this.props.getView)(o.type);return Object(Ge.g)(m,{key:o.id,model:o,graphModel:i,overlay:l})}},{key:"render",value:function(){var o=this,i=this.props,l=i.graphModel,d=i.tool,m=i.options,P=i.dnd,I=i.snaplineModel,H={};m.width&&(H.width="".concat(l.width,"px")),m.height&&(H.height="".concat(l.height,"px"));var oe=l.fakerNode,Ce=l.editConfigModel.adjustEdge;return Object(Ge.g)("div",{className:"lf-graph",style:H},Object(Ge.g)(tC,{graphModel:l,dnd:P},Object(Ge.g)("g",{className:"lf-base"},ys(l.sortElements,function(De){return o.getComponent(De,l)})),oe?this.getComponent(oe,l):""),Object(Ge.g)(OP,{graphModel:l},Object(Ge.g)(qC,{graphModel:l}),Ce?Object(Ge.g)(dP,{graphModel:l}):"",!1!==m.snapline?Object(Ge.g)(FC,{snaplineModel:I}):""),Object(Ge.g)(uC,{graphModel:l,tool:d}),m.background&&Object(Ge.g)(gC,{background:m.background}),m.grid&&Object(Ge.g)(iv,$c({},m.grid,{graphModel:l})))}}]),t}(Ge.a))||Pv,AP=MP;function Mv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function fl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Mv(Object(t),!0).forEach(function(r){wo(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mv(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Av(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var DP=function(){function e(n){var t=this;(function NP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),wo(this,"nodeConfig",void 0),wo(this,"lf",void 0),wo(this,"fakerNode",void 0),wo(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),wo(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(fl(fl({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),wo(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var i=t.clientToLocalPoint({x:o.clientX,y:o.clientY});t.fakerNode.moveTo(i.x,i.y);var m=t.fakerNode.getData();t.lf.setNodeSnapLine(m),t.lf.graphModel.eventCenter.emit(Vt.NODE_DND_DRAG,{data:m})}return!1}),wo(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),wo(this,"onDrop",function(o){if(t.lf.graphModel&&o&&t.nodeConfig){var i=t.lf.addNode(fl(fl({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var l=i.getData();t.lf.graphModel.eventCenter.emit(Vt.NODE_DND_ADD,{data:l,e:o})}}),this.lf=n.lf}return function zP(e,n,t){return n&&Av(e.prototype,n),t&&Av(e,t),e}(e,[{key:"clientToLocalPoint",value:function(t){var r=t.x,o=t.y,i=Pd(this.lf.options,["grid","size"]),d=this.lf.graphModel.getPointByClient({x:r,y:o}).canvasOverlayPosition,P=d.y;return{x:Yo(d.x,i),y:Yo(P,i)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Nv(e){var t=e.grid,r=e.width,o=e.height;if(!e.container)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");if("string"==typeof r||"string"==typeof o)throw new Error("width\u6216height\u4e0d\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u8bf7\u4f20\u6570\u5b57");return t&&(e.grid=rr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),rr({},zv,e)}var an,Dv,zv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xc(e,n){return function jP(e){if(Array.isArray(e))return e}(e)||function _P(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function RP(e,n){if(e){if("string"==typeof e)return Iv(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Iv(e,n)}}(e,n)||function IP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iv(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Rv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function pl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rv(Object(t),!0).forEach(function(r){jv(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rv(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function LP(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function BP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _v(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(){return ra=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=kP(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},ra.apply(this,arguments)}function kP(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=Ko(e)););return e}function GP(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Kc(e,n)}function Kc(e,n){return(Kc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function HP(e){var n=function VP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Ko(e);if(n){var i=Ko(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return UP(this,o)}}function UP(e,n){if(n&&("object"===dl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return hl(e)}function hl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jv(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Lr(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Zc=(an=function(e){GP(t,e);var n=HP(t);function t(){var r;BP(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return jv(hl(r=n.call.apply(n,[this].concat(i))),"modelType",en.BEZIER_EDGE),LP(hl(r),"path",Dv,hl(r)),r}return function FP(e,n,t){return n&&_v(e.prototype,n),t&&_v(e,t),e}(t,[{key:"initEdgeData",value:function(o){this.offset=100,ra(Ko(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return pl(pl({},ra(Ko(t.prototype),"getEdgeStyle",this).call(this)),xn(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,i=0;return this.pointsList.forEach(function(l){o+=l.x,i+=l.y}),{x:o/this.pointsList.length,y:i/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=ra(Ko(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return pl(pl({},o),{},{pointsList:i})}},{key:"getControls",value:function(){return Ah({start:this.startPoint,end:this.endPoint,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var i=Xc(o,4),l=i[0],d=i[1],m=i[2],P=i[3];return"M ".concat(l.x," ").concat(l.y,"\n    C ").concat(d.x," ").concat(d.y,",\n    ").concat(m.x," ").concat(m.y,",\n    ").concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls();this.updatePath(o.sNext,o.ePre)}},{key:"updatePath",value:function(o,i){var l={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!i){var m=this.getControls();o=m.sNext,i=m.ePre}this.pointsList=[l,o,i,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i;var l=Xc(this.pointsList,3),d=l[1],m=l[2];d.x+=o,d.y+=i,this.updatePath(d,m)}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i;var l=Xc(this.pointsList,3),d=l[1],m=l[2];m.x+=o,m.y+=i,this.updatePath(d,m)}},{key:"updateAdjustAnchor",value:function(o,i){"sNext"===i?this.pointsList[1]=o:"ePre"===i&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,l=o.endPoint,P=Ah({start:i,end:l,sourceNode:o.sourceNode,targetNode:o.targetNode,offset:this.offset});this.pointsList=[i,P.sNext,P.ePre,l],this.initPoints()}}]),t}(Cc),Dv=Lr(an.prototype,"path",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lr(an.prototype,"initPoints",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"initPoints"),an.prototype),Lr(an.prototype,"updatePoints",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"updatePoints"),an.prototype),Lr(an.prototype,"updateStartPoint",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"updateStartPoint"),an.prototype),Lr(an.prototype,"updateEndPoint",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"updateEndPoint"),an.prototype),Lr(an.prototype,"moveStartPoint",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"moveStartPoint"),an.prototype),Lr(an.prototype,"moveEndPoint",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"moveEndPoint"),an.prototype),Lr(an.prototype,"updateAdjustAnchor",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"updateAdjustAnchor"),an.prototype),Lr(an.prototype,"getAdjustStart",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"getAdjustStart"),an.prototype),Lr(an.prototype,"getAdjustEnd",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"getAdjustEnd"),an.prototype),Lr(an.prototype,"updateAfterAdjustStartAndEnd",[v.k],Object.getOwnPropertyDescriptor(an.prototype,"updateAfterAdjustStartAndEnd"),an.prototype),an);var mt,Lv,Bv,Fv,kv,Gv,Hv,Uv,Vv,Yv,$v,Wv,Xv,Kv,Zv,Jv,Qv,qv,ey,ty,$P=function YP(e){return null==e};function vl(e){return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function WP(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function XP(e,n){if(e){if("string"==typeof e)return ny(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ny(e,n)}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(P){throw P},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var P=t.next();return i=P.done,P},e:function(P){l=!0,d=P},f:function(){try{!i&&null!=t.return&&t.return()}finally{if(l)throw d}}}}function ny(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ry(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function ir(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ry(Object(t),!0).forEach(function(r){fr(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ry(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function In(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function oy(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Jt(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Ao,iy,Mo=(mt=function(){function e(n,t){(function KP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),fr(this,"id",mi()),In(this,"type",Lv,this),In(this,"x",Bv,this),In(this,"y",Fv,this),In(this,"text",kv,this),In(this,"properties",Gv,this),In(this,"_width",Hv,this),In(this,"_height",Uv,this),In(this,"anchorsOffset",Vv,this),In(this,"isSelected",Yv,this),In(this,"isHovered",$v,this),In(this,"isShowAnchor",Wv,this),In(this,"isDragging",Xv,this),In(this,"isHitable",Kv,this),In(this,"draggable",Zv,this),In(this,"visible",Jv,this),fr(this,"virtual",!1),fr(this,"graphModel",void 0),In(this,"zIndex",Qv,this),In(this,"state",qv,this),In(this,"autoToFront",ey,this),In(this,"style",ty,this),fr(this,"BaseType",An.NODE),fr(this,"modelType",en.NODE),fr(this,"additionStateData",void 0),fr(this,"targetRules",[]),fr(this,"sourceRules",[]),fr(this,"moveRules",[]),fr(this,"hasSetTargetRules",!1),fr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(n),this.setAttributes()}return function ZP(e,n,t){return n&&oy(e.prototype,n),t&&oy(e,t),e}(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var r=this.graphModel.idGenerator,o=r&&r(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}this.formatText(t),rr(this,Fa(t,["id","type","x","y","text","properties","virtual"])),this.graphModel.overlapMode===cr.INCREASE&&(this.zIndex=t.zIndex||Sc())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,r=t.x,o=t.y,i=t.value,l=this.properties;Object(v.x)(l)&&(l=Object(v.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===cr.INCREASE&&(d.zIndex=this.zIndex),i&&(d.text={x:r,y:o,value:i}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(v.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ir(ir({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){return xn(this.graphModel.theme.nodeText)}},{key:"getAnchorStyle",value:function(t){return xn(this.graphModel.theme.anchor)}},{key:"getAnchorLineStyle",value:function(t){return xn(this.graphModel.theme.anchorLine)}},{key:"getOutlineStyle",value:function(){return xn(this.graphModel.theme.outline)}},{key:"isAllowConnectedAsSource",value:function(t,r,o){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var d,l=!0,m=0;m<i.length;m++){var P=i[m];if(!P.validate.call(this,this,t,r,o)){l=!1,d=P.message;break}}return{isAllPass:l,msg:d}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,r,o){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var d,l=!0,m=0;m<i.length;m++){var P=i[m];if(!P.validate.call(this,t,this,r,o)){l=!1,d=P.message;break}}return{isAllPass:l,msg:d}}},{key:"isAllowMoveNode",value:function(t,r){var m,o=!0,i=!0,d=WP(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(m=d.n()).done;){var I=(0,m.value)(this,t,r);if(!I)return!1;if("object"===vl(I)){if(!1===I.x&&!1===I.y)return!1;o=o&&I.x,i=i&&I.y}}}catch(oe){d.e(oe)}finally{d.f()}return{x:o,y:i}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,r=this.id,o=this.x,i=this.y;return t&&t.length>0?t.map(function(l,d){return l.length?{id:"".concat(r,"_").concat(d),x:o+l[0],y:i+l[1]}:ir(ir({},l),{},{x:o+l.x,y:i+l.y,id:l.id||"".concat(r,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!$P(t))for(var r=0;r<this.anchors.length;r++){var o=this.anchors[r];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,r){var i=!1,l=!1;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])i=!0,l=!0;else{var d=this.isAllowMoveNode(t,r);"boolean"==typeof d?(i=d,l=d):(i=d.x,l=d.y)}return i&&(this.x=this.x+t,this.text&&this.moveText(t,0)),l&&(this.y=this.y+r,this.text&&this.moveText(0,r)),i||l}},{key:"getMoveDistance",value:function(t,r){var i=!1,l=!1,d=0,m=0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])i=!0,l=!0;else{var P=this.isAllowMoveNode(t,r);"boolean"==typeof P?(i=P,l=P):(i=P.x,l=P.y)}return i&&t&&(this.x=this.x+t,this.text&&this.moveText(t,0),d=t),l&&r&&(this.y=this.y+r,this.text&&this.moveText(0,r),m=r),[d,m]}},{key:"moveTo",value:function(t,r){var i=t-this.x,l=r-this.y;return!!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.isAllowMoveNode(i,l))&&(this.text&&this.text&&this.moveText(i,l),this.x=t,this.y=r,!0)}},{key:"moveText",value:function(t,r){var o=this.text;this.text={value:o.value,editable:o.editable,draggable:o.draggable,x:o.x+t,y:o.y+r}}},{key:"updateText",value:function(t){this.text=ir(ir({},this.text),{},{value:t})}},{key:"setSelected",value:function(){this.isSelected=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){this.isShowAnchor=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setElementState",value:function(t,r){this.state=t,this.additionStateData=r}},{key:"setProperty",value:function(t,r){this.properties=ir(ir({},this.properties),{},fr({},t,Xn(r))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ir(ir({},this.properties),Xn(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,r){this.style=ir(ir({},this.style),{},fr({},t,Xn(r)))}},{key:"setStyles",value:function(t){this.style=ir(ir({},this.style),Xn(t))}},{key:"updateStyles",value:function(t){this.style=ir({},Xn(t))}},{key:"setZIndex",value:function(){this.zIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}},{key:"updateAttributes",value:function(t){rr(this,t)}}]),e}(),Lv=Jt(mt.prototype,"type",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bv=Jt(mt.prototype,"x",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fv=Jt(mt.prototype,"y",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kv=Jt(mt.prototype,"text",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Gv=Jt(mt.prototype,"properties",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Hv=Jt(mt.prototype,"_width",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Uv=Jt(mt.prototype,"_height",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Vv=Jt(mt.prototype,"anchorsOffset",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yv=Jt(mt.prototype,"isSelected",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$v=Jt(mt.prototype,"isHovered",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wv=Jt(mt.prototype,"isShowAnchor",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xv=Jt(mt.prototype,"isDragging",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kv=Jt(mt.prototype,"isHitable",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zv=Jt(mt.prototype,"draggable",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jv=Jt(mt.prototype,"visible",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qv=Jt(mt.prototype,"zIndex",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qv=Jt(mt.prototype,"state",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ey=Jt(mt.prototype,"autoToFront",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ty=Jt(mt.prototype,"style",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jt(mt.prototype,"incoming",[v.m],Object.getOwnPropertyDescriptor(mt.prototype,"incoming"),mt.prototype),Jt(mt.prototype,"outgoing",[v.m],Object.getOwnPropertyDescriptor(mt.prototype,"outgoing"),mt.prototype),Jt(mt.prototype,"addNodeMoveRules",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"addNodeMoveRules"),mt.prototype),Jt(mt.prototype,"move",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"move"),mt.prototype),Jt(mt.prototype,"getMoveDistance",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"getMoveDistance"),mt.prototype),Jt(mt.prototype,"moveTo",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"moveTo"),mt.prototype),Jt(mt.prototype,"moveText",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"moveText"),mt.prototype),Jt(mt.prototype,"updateText",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"updateText"),mt.prototype),Jt(mt.prototype,"setSelected",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setSelected"),mt.prototype),Jt(mt.prototype,"setHovered",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setHovered"),mt.prototype),Jt(mt.prototype,"setIsShowAnchor",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setIsShowAnchor"),mt.prototype),Jt(mt.prototype,"setHitable",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setHitable"),mt.prototype),Jt(mt.prototype,"setElementState",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setElementState"),mt.prototype),Jt(mt.prototype,"setProperty",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setProperty"),mt.prototype),Jt(mt.prototype,"setProperties",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setProperties"),mt.prototype),Jt(mt.prototype,"deleteProperty",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"deleteProperty"),mt.prototype),Jt(mt.prototype,"setStyle",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setStyle"),mt.prototype),Jt(mt.prototype,"setStyles",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setStyles"),mt.prototype),Jt(mt.prototype,"updateStyles",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"updateStyles"),mt.prototype),Jt(mt.prototype,"setZIndex",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"setZIndex"),mt.prototype),Jt(mt.prototype,"updateAttributes",[v.k],Object.getOwnPropertyDescriptor(mt.prototype,"updateAttributes"),mt.prototype),mt);function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ay(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function sy(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ay(Object(t),!0).forEach(function(r){uy(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ay(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function JP(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function QP(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ly(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(){return gl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=ew(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},gl.apply(this,arguments)}function ew(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=oa(e)););return e}function tw(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Jc(e,n)}function Jc(e,n){return(Jc=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function nw(e){var n=function ow(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=oa(e);if(n){var i=oa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return rw(this,o)}}function rw(e,n){if(n&&("object"===yl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ml(e)}function ml(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function uy(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Qc(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Kn,cy,fy,bl=(Ao=function(e){tw(t,e);var n=nw(t);function t(){var r;QP(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return uy(ml(r=n.call.apply(n,[this].concat(i))),"modelType",en.CIRCLE_NODE),JP(ml(r),"r",iy,ml(r)),r}return function qP(e,n,t){return n&&ly(e.prototype,n),t&&ly(e,t),e}(t,[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=gl(oa(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.circle;return sy(sy({},o),xn(i))}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.r;return[{x:o,y:i-l,id:"".concat(this.id,"_0")},{x:o+l,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+l,id:"".concat(this.id,"_2")},{x:o-l,y:i,id:"".concat(this.id,"_3")}]}}]),t}(Mo),iy=Qc(Ao.prototype,"r",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Qc(Ao.prototype,"width",[v.m],Object.getOwnPropertyDescriptor(Ao.prototype,"width"),Ao.prototype),Qc(Ao.prototype,"height",[v.m],Object.getOwnPropertyDescriptor(Ao.prototype,"height"),Ao.prototype),Ao);function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qc(e,n){return function lw(e){if(Array.isArray(e))return e}(e)||function sw(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function aw(e,n){if(e){if("string"==typeof e)return dy(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dy(e,n)}}(e,n)||function iw(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dy(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function py(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function hy(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?py(Object(t),!0).forEach(function(r){gy(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function vy(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function uw(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yy(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function El(){return El=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=fw(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},El.apply(this,arguments)}function fw(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=aa(e)););return e}function dw(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ef(e,n)}function ef(e,n){return(ef=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function pw(e){var n=function vw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=aa(e);if(n){var i=aa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return hw(this,o)}}function hw(e,n){if(n&&("object"===Ol(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ia(e)}function ia(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gy(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function sa(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}a(127);var oo,my,by,xl=(Kn=function(e){dw(t,e);var n=pw(t);function t(){var r;uw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return gy(ia(r=n.call.apply(n,[this].concat(i))),"modelType",en.DIAMOND_NODE),vy(ia(r),"rx",cy,ia(r)),vy(ia(r),"ry",fy,ia(r)),r}return function cw(e,n,t){return n&&yy(e.prototype,n),t&&yy(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=El(aa(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.diamond;return hy(hy({},o),xn(i))}},{key:"points",get:function(){var o=this.x,i=this.y,l=this.rx,d=this.ry;return[[o,i-d],[o+l,i],[o,i+d],[o-l,i]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var m=qc(l,1)[0];m<o&&(o=m),m>i&&(i=m)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var m=qc(l,2)[1];m<o&&(o=m),m>i&&(i=m)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(i,l){var d=qc(i,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}]),t}(Mo),cy=sa(Kn.prototype,"rx",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),fy=sa(Kn.prototype,"ry",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),sa(Kn.prototype,"points",[v.m],Object.getOwnPropertyDescriptor(Kn.prototype,"points"),Kn.prototype),sa(Kn.prototype,"pointsPosition",[v.m],Object.getOwnPropertyDescriptor(Kn.prototype,"pointsPosition"),Kn.prototype),sa(Kn.prototype,"width",[v.m],Object.getOwnPropertyDescriptor(Kn.prototype,"width"),Kn.prototype),sa(Kn.prototype,"height",[v.m],Object.getOwnPropertyDescriptor(Kn.prototype,"height"),Kn.prototype),Kn);function Sl(e){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Oy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Ey(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Oy(Object(t),!0).forEach(function(r){Ty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oy(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function xy(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function yw(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Sy(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tl(){return Tl=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=mw(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},Tl.apply(this,arguments)}function mw(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=ua(e)););return e}function bw(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&tf(e,n)}function tf(e,n){return(tf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function Ow(e){var n=function xw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=ua(e);if(n){var i=ua(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ew(this,o)}}function Ew(e,n){if(n&&("object"===Sl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return la(e)}function la(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Cl(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Mr,Cy,Pl=(oo=function(e){bw(t,e);var n=Ow(t);function t(){var r;yw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return Ty(la(r=n.call.apply(n,[this].concat(i))),"modelType",en.ELLIPSE_NODE),xy(la(r),"rx",my,la(r)),xy(la(r),"ry",by,la(r)),r}return function gw(e,n,t){return n&&Sy(e.prototype,n),t&&Sy(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=Tl(ua(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.ellipse;return Ey(Ey({},o),xn(i))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.rx,d=this.ry;return[{x:o,y:i-d,id:"".concat(this.id,"_0")},{x:o+l,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+d,id:"".concat(this.id,"_2")},{x:o-l,y:i,id:"".concat(this.id,"_3")}]}}]),t}(Mo),my=Cl(oo.prototype,"rx",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),by=Cl(oo.prototype,"ry",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Cl(oo.prototype,"width",[v.m],Object.getOwnPropertyDescriptor(oo.prototype,"width"),oo.prototype),Cl(oo.prototype,"height",[v.m],Object.getOwnPropertyDescriptor(oo.prototype,"height"),oo.prototype),oo);function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function nf(e,n){return function Pw(e){if(Array.isArray(e))return e}(e)||function Cw(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function Tw(e,n){if(e){if("string"==typeof e)return Py(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Py(e,n)}}(e,n)||function Sw(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function wy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function My(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wy(Object(t),!0).forEach(function(r){Ny(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wy(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ww(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Mw(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ay(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ml(){return Ml=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=Nw(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},Ml.apply(this,arguments)}function Nw(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=ca(e)););return e}function zw(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&rf(e,n)}function rf(e,n){return(rf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function Dw(e){var n=function Rw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=ca(e);if(n){var i=ca(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Iw(this,o)}}function Iw(e,n){if(n&&("object"===wl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Al(e)}function Al(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ny(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Nl(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var of,zy,zl=(Mr=function(e){zw(t,e);var n=Dw(t);function t(){var r;Mw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return Ny(Al(r=n.call.apply(n,[this].concat(i))),"modelType",en.POLYGON_NODE),ww(Al(r),"points",Cy,Al(r)),r}return function Aw(e,n,t){return n&&Ay(e.prototype,n),t&&Ay(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=Ml(ca(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.polygon;return My(My({},o),xn(i))}},{key:"pointsPosition",get:function(){var o=this.x,i=this.y,l=this.width,d=this.height;return this.points.map(function(P){return{x:P[0]+o-l/2,y:P[1]+i-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var m=nf(l,1)[0];m<o&&(o=m),m>i&&(i=m)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var m=nf(l,2)[1];m<o&&(o=m),m>i&&(i=m)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this,i=this.x,l=this.y,d=this.width,m=this.height;return this.points.map(function(I,H){var oe=nf(I,2);return{x:i+oe[0]-d/2,y:l+oe[1]-m/2,id:"".concat(o.id,"_").concat(H)}})}}]),t}(Mo),Cy=Nl(Mr.prototype,"points",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Nl(Mr.prototype,"pointsPosition",[v.m],Object.getOwnPropertyDescriptor(Mr.prototype,"pointsPosition"),Mr.prototype),Nl(Mr.prototype,"width",[v.m],Object.getOwnPropertyDescriptor(Mr.prototype,"width"),Mr.prototype),Nl(Mr.prototype,"height",[v.m],Object.getOwnPropertyDescriptor(Mr.prototype,"height"),Mr.prototype),Mr);function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Iy(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Dy(Object(t),!0).forEach(function(r){_y(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dy(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _w(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function jw(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ry(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Il(){return Il=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=Bw(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},Il.apply(this,arguments)}function Bw(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=fa(e)););return e}function Fw(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&af(e,n)}function af(e,n){return(af=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function kw(e){var n=function Hw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=fa(e);if(n){var i=fa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Gw(this,o)}}function Gw(e,n){if(n&&("object"===Dl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Rl(e)}function Rl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Zo,_l=(of=function(e){Fw(t,e);var n=kw(t);function t(){var r;jw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return _y(Rl(r=n.call.apply(n,[this].concat(i))),"modelType",en.RECT_NODE),_w(Rl(r),"radius",zy,Rl(r)),r}return function Lw(e,n,t){return n&&Ry(e.prototype,n),t&&Ry(e,t),e}(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.width,d=this.height;return[{x:o,y:i-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:i,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Il(fa(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.rect;return Iy(Iy({},o),xn(i))}}]),t}(Mo),zy=function Uw(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}(of.prototype,"radius",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),of);function jl(e){return(jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Ly(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jy(Object(t),!0).forEach(function(r){ky(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jy(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Vw(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function By(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(){return Ll=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,t,r){var o=$w(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?n:r):i.value}},Ll.apply(this,arguments)}function $w(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=da(e)););return e}function Ww(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&sf(e,n)}function sf(e,n){return(sf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function Xw(e){var n=function Zw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=da(e);if(n){var i=da(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Kw(this,o)}}function Kw(e,n){if(n&&("object"===jl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Fy(e)}function Fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ky(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Gy(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Bl=(Zo=function(e){Ww(t,e);var n=Xw(t);function t(){var r;Vw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return ky(Fy(r=n.call.apply(n,[this].concat(i))),"modelType",en.TEXT_NODE),r}return function Yw(e,n,t){return n&&By(e.prototype,n),t&&By(e,t),e}(t,[{key:"getTextStyle",value:function(){var o=Ll(da(t.prototype),"getTextStyle",this).call(this),i=this.graphModel.theme.text;return Ly(Ly({},o),xn(i))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle();return xc({rows:o,fontSize:i.fontSize,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle();return xc({rows:o,fontSize:i.fontSize,rowsLength:o.length}).height}}]),t}(Mo),Gy(Zo.prototype,"width",[v.m],Object.getOwnPropertyDescriptor(Zo.prototype,"width"),Zo.prototype),Gy(Zo.prototype,"height",[v.m],Object.getOwnPropertyDescriptor(Zo.prototype,"height"),Zo.prototype),Zo);function Fl(e){return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jw(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Hy(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qw(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&lf(e,n)}function lf(e,n){return(lf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function eM(e){var n=function nM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=kl(e);if(n){var i=kl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return tM(this,o)}}function tM(e,n){if(n&&("object"===Fl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Uy(e)}function Uy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kl(e){return(kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function rM(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Br,Vy,Yy,$y,Gl=function(e){qw(t,e);var n=eM(t);function t(){var r;Jw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return rM(Uy(r=n.call.apply(n,[this].concat(i))),"modelType",en.HTML_NODE),r}return function Qw(e,n,t){return n&&Hy(e.prototype,n),t&&Hy(e,t),e}(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.width,d=this.height;return[{x:o,y:i-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:i,id:"".concat(this.id,"_3")}]}}]),t}(Mo);function Wy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function uf(e,n,t,r){!t||Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function Xy(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ky(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Za(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(l){i[l]=r[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,d){return d(e,n,l)||l},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var Zy=(Br=function(){function e(n){(function iM(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),Ky(this,"graphModel",void 0),uf(this,"isShowHorizontal",Vy,this),uf(this,"isShowVertical",Yy,this),uf(this,"position",$y,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=n}return function aM(e,n,t){return n&&Xy(e.prototype,n),t&&Xy(e,t),e}(e,[{key:"getStyle",value:function(){return function oM(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wy(Object(t),!0).forEach(function(r){Ky(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,r){for(var o=t.x,i=t.y,l=!1,d=!1,m=0;m<r.length;m++){var P=r[m];if(P.id!==t.id&&(o===P.x&&(l=!0),i===P.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:i}}}},{key:"getHorizontalSnapline",value:function(t,r){var i,d,o=!1,l=t.id;if(l){var m=this.graphModel.fakerNode;if(m&&m.id===l)d=pr(m);else{var P=this.graphModel.getNodeModelById(l);d=pr(P)}}for(var I=0;I<r.length;I++){var H=r[I];if(H.id!==t.id){var oe=pr(H);if(oe.minY===d.minY||oe.maxY===d.minY){o=!0,i=d.minY;break}if(oe.minY===d.maxY||oe.maxY===d.maxY){o=!0,i=d.maxY;break}}}return rr({isShowHorizontal:o,position:{y:i}})}},{key:"getVerticalSnapline",value:function(t,r){var i,d,o=!1,l=t.id;if(l){var m=this.graphModel.fakerNode;if(m&&m.id===l)d=pr(m);else{var P=this.graphModel.getNodeModelById(l);d=pr(P)}}for(var I=0;I<r.length;I++){var H=r[I];if(H.id!==t.id){var oe=pr(H);if(oe.minX===d.minX||oe.maxX===d.minX){o=!0,i=d.minX;break}if(oe.minX===d.maxX||oe.maxX===d.maxX){o=!0,i=d.maxX;break}}}return rr({isShowVertical:o,position:{x:i}})}},{key:"getSnapLinePosition",value:function(t,r){var o=this.getCenterSnapLine(t,r),l=o.isShowVertical;if(!o.isShowHorizontal){var d=this.getHorizontalSnapline(t,r);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var m=this.getVerticalSnapline(t,r);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var r=t.isShowHorizontal,o=t.isShowVertical;this.position=t.position,this.isShowHorizontal=r,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var o=this.getSnapLinePosition(t,this.graphModel.nodes);this.setSnaplineInfo(o)}}]),e}(),Vy=Za(Br.prototype,"isShowHorizontal",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yy=Za(Br.prototype,"isShowVertical",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$y=Za(Br.prototype,"position",[v.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Za(Br.prototype,"clearSnapline",[v.k],Object.getOwnPropertyDescriptor(Br.prototype,"clearSnapline"),Br.prototype),Za(Br.prototype,"setNodeSnapLine",[v.k],Object.getOwnPropertyDescriptor(Br.prototype,"setNodeSnapLine"),Br.prototype),Br),Ja=new Map,Jy=function(n){var t=mi();var o=window.requestAnimationFrame(function r(){if(n(),Ja.get(t)){var l=window.requestAnimationFrame(r);Ja.set(t,l)}});return Ja.set(t,o),t},Hl=function(n){var t=Ja.get(n);t&&(window.cancelAnimationFrame(t),Ja.delete(n))};function Ul(e){return(Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qa(){return Qa=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Qa.apply(this,arguments)}function Qy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Vl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qy(Object(t),!0).forEach(function(r){ao(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qy(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function sM(e,n){return function fM(e){if(Array.isArray(e))return e}(e)||function cM(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function uM(e,n){if(e){if("string"==typeof e)return qy(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qy(e,n)}}(e,n)||function lM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qy(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function eg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hM(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&cf(e,n)}function cf(e,n){return(cf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function vM(e){var n=function gM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Yl(e);if(n){var i=Yl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return yM(this,o)}}function yM(e,n){if(n&&("object"===Ul(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return io(e)}function io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ao(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var mM=function(e){hM(t,e);var n=vM(t);function t(){var r;return function dM(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),ao(io(r=n.call(this)),"preTargetNode",void 0),ao(io(r),"sourceRuleResults",void 0),ao(io(r),"targetRuleResults",void 0),ao(io(r),"dragHandler",void 0),ao(io(r),"t",void 0),ao(io(r),"onDragStart",function(o){var i=o.event,l=r.props,d=l.anchorData,m=l.nodeModel,P=l.graphModel,I=P.overlapMode;P.selectNodeById(m.id),I!==cr.INCREASE&&m.autoToFront&&P.toFront(m.id),P.eventCenter.emit(Vt.ANCHOR_DRAGSTART,{data:d,e:i,nodeModel:m}),r.setState({startX:d.x,startY:d.y,endX:d.x,endY:d.y})}),ao(io(r),"onDraging",function(o){var i=o.event,l=r.props,d=l.graphModel,m=l.nodeModel,P=l.anchorData,I=d.transformModel,H=d.eventCenter,oe=d.width,ue=d.height,Ce=d.editConfigModel,De=Ce.autoExpand,je=Ce.stopMoveGraph,nt=d.getPointByClient({x:i.clientX,y:i.clientY}),rt=nt.domOverlayPosition,At=rt.x,bt=rt.y,kt=nt.canvasOverlayPosition,Kt=kt.x,_t=kt.y;r.t&&Hl(r.t);var Qt=[];At<10?Qt=[10,0]:At+10>oe?Qt=[-10,0]:bt<10?Qt=[0,10]:bt+10>ue&&(Qt=[0,-10]),r.setState({endX:Kt,endY:_t,draging:!0}),r.moveAnchorEnd(Kt,_t),Qt.length>0&&!je&&De&&(r.t=Jy(function(){var co=sM(Qt,2),fo=co[0],Ti=co[1];I.translate(fo,Ti);var ya=r.state,qo=ya.endX,ga=ya.endY;r.setState({endX:qo-fo,endY:ga-Ti}),r.moveAnchorEnd(qo-fo,ga-Ti)})),H.emit(Vt.ANCHOR_DRAG,{data:P,e:i,nodeModel:m})}),ao(io(r),"onDragEnd",function(o){r.t&&Hl(r.t),r.checkEnd(o),r.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),r.sourceRuleResults.clear(),r.targetRuleResults.clear();var i=r.props;i.graphModel.eventCenter.emit(Vt.ANCHOR_DRAGEND,{data:i.anchorData,e:o,nodeModel:i.nodeModel})}),ao(io(r),"checkEnd",function(o){var i=r.props,l=i.graphModel,d=i.nodeModel,m=i.anchorData,P=m.x,I=m.y,H=m.id,ue=r.state,je=ue.draging,Re=Ss({x:ue.endX,y:ue.endY},l);if(r.preTargetNode&&r.preTargetNode.state!==ln.DEFAULT&&r.preTargetNode.setElementState(ln.DEFAULT),je&&Re&&Re.node){var st=Re.node,nt=Re.anchor.id,rt="".concat(d.id,"_").concat(st.id,"_").concat(nt,"_").concat(H),At=r.sourceRuleResults.get(rt)||{},bt=At.isAllPass,kt=At.msg,Kt=r.targetRuleResults.get(rt)||{},Qt=Kt.msg;if(bt&&Kt.isAllPass){st.setElementState(ln.DEFAULT);var Ln=l.edgeGenerator(d.getData(),l.getNodeModelById(Re.node.id).getData()),vr=l.addEdge(Vl(Vl({},Ln),{},{sourceNodeId:d.id,sourceAnchorId:H,startPoint:{x:P,y:I},targetNodeId:Re.node.id,targetAnchorId:Re.anchor.id,endPoint:{x:Re.anchor.x,y:Re.anchor.y}}));l.eventCenter.emit(Vt.ANCHOR_DROP,{data:r.props.anchorData,e:o,nodeModel:d,edgeModel:vr})}else{var fo=st.getData();l.eventCenter.emit(Vt.CONNECTION_NOT_ALLOWED,{data:fo,msg:Qt||kt})}}}),r.sourceRuleResults=new Map,r.targetRuleResults=new Map,r.state={startX:0,startY:0,endX:0,endY:0,draging:!1},r.dragHandler=new bi({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return function pM(e,n,t){return n&&eg(e.prototype,n),t&&eg(e,t),e}(t,[{key:"getAnchorShape",value:function(){var o=this.props,i=o.anchorData,l=o.style,m=o.node.getAnchorShape(i);if(m)return m;var P=i.x,I=i.y,H=Vl(Vl({},l),l.hover);return Object(Ge.g)("g",null,Object(Ge.g)(Xa,Qa({className:"lf-node-anchor-hover"},H,{x:P,y:I})),Object(Ge.g)(Xa,Qa({className:"lf-node-anchor"},l,{x:P,y:I})))}},{key:"moveAnchorEnd",value:function(o,i){var l=this.props,m=l.nodeModel,P=l.anchorData,I=Ss({x:o,y:i},l.graphModel);if(I){var H=I.node,oe=I.anchor.id;if(this.preTargetNode&&this.preTargetNode!==I.node&&this.preTargetNode.setElementState(ln.DEFAULT),P.id===oe)return;this.preTargetNode=H;var ue="".concat(m.id,"_").concat(H.id,"_").concat(oe,"_").concat(P.id);if(!this.targetRuleResults.has(ue)){var Ce=I.anchor,De=m.isAllowConnectedAsSource(H,P,Ce),je=H.isAllowConnectedAsTarget(m,P,Ce);this.sourceRuleResults.set(ue,Cs(De)),this.targetRuleResults.set(ue,Cs(je))}var st=this.sourceRuleResults.get(ue).isAllPass,nt=this.targetRuleResults.get(ue);H.setElementState(st&&nt.isAllPass?ln.ALLOW_CONNECT:ln.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==ln.DEFAULT&&this.preTargetNode.setElementState(ln.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state;return eo(o.startX,o.startY,o.endX,o.endY)>10}},{key:"render",value:function(){var o=this,i=this.state,l=i.startX,d=i.startY,m=i.endX,P=i.endY,I=this.props,H=I.anchorData.edgeAddable,oe=I.edgeStyle;return Object(Ge.g)("g",{className:"lf-anchor"},Object(Ge.g)("g",{onMouseDown:function(Ce){!1!==H&&o.dragHandler.handleMouseDown(Ce)}},this.getAnchorShape()),this.isShowLine()&&Object(Ge.g)(Oi,Qa({x1:l,y1:d,x2:m,y2:P},oe,{"pointer-events":"none"})))}}]),t}(Ge.a),bM=mM;function tg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function OM(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tg(Object(t),!0).forEach(function(r){EM(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function EM(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xM(e,n){return function PM(e){if(Array.isArray(e))return e}(e)||function CM(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function TM(e,n){if(e){if("string"==typeof e)return ng(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ng(e,n)}}(e,n)||function SM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ng(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function rg(e){var n=e.x,t=void 0===n?0:n,r=e.y,o=void 0===r?0:r,i=e.value,l=e.fontSize,d=e.fill,P=e.overflowMode,I=void 0===P?"default":P,H=e.textWidth,oe=void 0===H?"":H,ue=e.model,Ce={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:void 0===d?"currentColor":d};if(Object.entries(e).forEach(function(rt){var At=xM(rt,2),bt=At[0],kt=At[1];"object"!==$l(kt)&&(Ce[bt]=kt)}),i){var De=String(i).split(/[\r\n]/g),je=De.length;if("default"!==I){var Re=ue.BaseType;if(Re===An.NODE&&ue.modelType!==en.TEXT_NODE||Re===An.EDGE&&oe)return function wM(e){var t=e.fontSize,r=e.model,o=e.fontFamily,i=void 0===o?"":o,l=e.lineHeight,d=e.wrapPadding,m=void 0===d?"0, 0":d,P=e.overflowMode,I=e.x,H=e.y,ue=r.textHeight,Ce=e.textWidth||r.width,De=String(e.value).split(/[\r\n]/g),je=De.length,Re=Lp({rows:De,style:{fontSize:"".concat(t,"px"),width:"".concat(Ce,"px"),fontFamily:i,lineHeight:l,padding:m},rowsLength:je,className:"lf-get-text-height"}),st=r.height>Re?r.height:Re;ue&&(st=ue);var nt="ellipsis"===P;return Object(Ge.g)("g",null,Object(Ge.g)("foreignObject",{width:Ce,height:st,x:I-Ce/2,y:H-st/2},Object(Ge.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:st,width:Ce,padding:m}},Object(Ge.g)("div",{className:nt?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:OM({},e)},De.map(function(rt){return Object(Ge.g)("div",{className:"lf-node-text--auto-wrap-inner"},rt)})))))}(e)}if(je>1){var nt=De.map(function(rt,At){var kt=(At-(je-1)/2)*(l+2);return Object(Ge.g)("tspan",{className:"lf-text-tspan",x:t,y:o+kt},rt)});return Object(Ge.g)("text",Ce,nt)}return Object(Ge.g)("text",Ce,i)}}function Wl(e){return(Wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ff(){return ff=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ff.apply(this,arguments)}function MM(e,n){return function DM(e){if(Array.isArray(e))return e}(e)||function zM(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function NM(e,n){if(e){if("string"==typeof e)return og(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return og(e,n)}}(e,n)||function AM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function og(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ig(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _M(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&df(e,n)}function df(e,n){return(df=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function jM(e){var n=function BM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Xl(e);if(n){var i=Xl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return LM(this,o)}}function LM(e,n){if(n&&("object"===Wl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Jo(e)}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xl(e){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ei(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}a(63);var ag=function(e){_M(t,e);var n=jM(t);function t(r){var o;return function IM(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Ei(Jo(o=n.call(this)),"dragHandler",void 0),Ei(Jo(o),"sumDeltaX",0),Ei(Jo(o),"sumDeltaY",0),Ei(Jo(o),"stepDrag",void 0),Ei(Jo(o),"onDraging",function(d){var I=o.props,H=I.model,Ce=MM(I.graphModel.transformModel.fixDeltaXY(d.deltaX,d.deltaY),2);H.moveText(Ce[0],Ce[1])}),Ei(Jo(o),"dblClickHandler",function(){o.props.editable&&o.props.model.setElementState(ln.TEXT_EDIT)}),Ei(Jo(o),"mouseDownHandle",function(d){var m=o.props;(m.draggable||m.graphModel.editConfigModel.nodeTextDraggable)&&o.stepDrag.handleMouseDown(d)}),o.stepDrag=new bi({onDraging:o.onDraging,step:1,model:r.model,isStopPropagation:r.draggable}),o}return function RM(e,n,t){return n&&ig(e.prototype,n),t&&ig(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props,i=o.model,d=i.text,Ce={x:d.x,y:d.y,className:"",value:d.value};Ce.className=d.editable?"lf-element-text":d.draggable||o.graphModel.editConfigModel.nodeTextDraggable?"lf-text-draggable":"lf-text-disabled";var De=i.getTextStyle();return Object(Ge.g)(rg,ff({},Ce,De,{model:i}))}},{key:"render",value:function(){if(this.props.model.text)return Object(Ge.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(Ge.a),FM=null!==window.navigator.userAgent.match(/MSIE|Trident/);function Kl(e){return(Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zl(e,n){return function UM(e){if(Array.isArray(e))return e}(e)||function HM(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function GM(e,n){if(e){if("string"==typeof e)return sg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sg(e,n)}}(e,n)||function kM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function lg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $M(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pf(e,n)}function pf(e,n){return(pf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function WM(e){var n=function KM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Jl(e);if(n){var i=Jl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return XM(this,o)}}function XM(e,n){if(n&&("object"===Kl(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Zn(e)}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jl(e){return(Jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ar(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var No=function(e){$M(t,e);var n=WM(t);function t(r){var o;(function VM(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),ar(Zn(o=n.call(this)),"t",void 0),ar(Zn(o),"moveOffset",void 0),ar(Zn(o),"stepDrag",void 0),ar(Zn(o),"contextMenuTime",void 0),ar(Zn(o),"startTime",void 0),ar(Zn(o),"clickTimer",void 0),ar(Zn(o),"onDragStart",function(P){var I=P.event,ue=o.props,Ce=ue.model,Re=ue.graphModel.getPointByClient({x:I.clientX,y:I.clientY}).canvasOverlayPosition;o.moveOffset={x:Ce.x-Re.x,y:Ce.y-Re.y}}),ar(Zn(o),"onDraging",function(P){var I=P.event,H=o.props,oe=H.model,ue=H.graphModel,Ce=ue.editConfigModel,De=Ce.stopMoveGraph,je=Ce.autoExpand,Re=ue.transformModel,st=ue.width,nt=ue.height,rt=ue.gridSize;oe.isDragging=!0;var Kt=ue.getPointByClient({x:I.clientX,y:I.clientY}).canvasOverlayPosition,_t=Kt.x,Qt=Kt.y,vr=Zl(Re.CanvasPointToHtmlPoint([_t,Qt]),2),co=vr[0],fo=vr[1];if(Qt+=o.moveOffset.y,_t=Yo(_t+=o.moveOffset.x,rt),Qt=Yo(Qt,rt),st&&nt){if(!je||De||!(co<0||fo<0||co>st||fo>nt)){var qo=Zl(Re.CanvasPointToHtmlPoint([_t-oe.width/2,Qt-oe.height/2]),2),ga=qo[0],nd=qo[1],cm=Zl(Re.CanvasPointToHtmlPoint([_t+oe.width/2,Qt+oe.height/2]),2),Bz=cm[0],Fz=cm[1],Uu=Math.max(rt,20),ma=[];ga<0?ma=[Uu,0]:Bz>ue.width?ma=[-Uu,0]:nd<0?ma=[0,Uu]:Fz>ue.height&&(ma=[0,-Uu]),o.t&&Hl(o.t),ma.length>0&&!De&&je?o.t=Jy(function(){var fm=Zl(ma,2),dm=fm[0],pm=fm[1];Re.translate(dm,pm),ue.moveNode(oe.id,-dm/Re.SCALE_X,-pm/Re.SCALE_X)}):ue.moveNode2Coordinate(oe.id,_t,Qt)}}else ue.moveNode2Coordinate(oe.id,_t,Qt)}),ar(Zn(o),"onDragEnd",function(){o.t&&Hl(o.t),o.props.model.isDragging=!1}),ar(Zn(o),"handleClick",function(P){if(o.startTime&&!((new Date).getTime()-o.startTime>200)){var H=o.props,oe=H.model,ue=H.graphModel,je={data:oe.getData(),e:P,position:ue.getPointByClient({x:P.clientX,y:P.clientY})},st=2===P.detail;if(2!==P.button){var nt=ue.editConfigModel;ue.selectNodeById(oe.id,Np(P,nt)),o.toFront(),st?(nt.nodeTextEdit&&oe.text.editable&&(oe.setSelected(!1),ue.setElementStateById(oe.id,ln.TEXT_EDIT)),ue.eventCenter.emit(Vt.NODE_DBCLICK,je)):(ue.eventCenter.emit(Vt.ELEMENT_CLICK,je),ue.eventCenter.emit(Vt.NODE_CLICK,je))}}}),ar(Zn(o),"handleContextMenu",function(P){P.preventDefault();var I=o.props,H=I.model,oe=I.graphModel,ue=H.getData(),Ce=oe.getPointByClient({x:P.clientX,y:P.clientY});oe.setElementStateById(H.id,ln.SHOW_MENU,Ce.domOverlayPosition),oe.selectNodeById(H.id),oe.eventCenter.emit(Vt.NODE_CONTEXTMENU,{data:ue,e:P,position:Ce}),o.toFront()}),ar(Zn(o),"handleMouseDown",function(P){var I=o.props,H=I.model,oe=I.graphModel;o.startTime=(new Date).getTime(),oe.editConfigModel.adjustNodePosition&&H.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(P)}),ar(Zn(o),"setHoverON",function(P){var I=o.props,H=I.model,oe=I.graphModel;if(!H.isHovered){var ue=H.getData();H.setHovered(!0),oe.eventCenter.emit(Vt.NODE_MOUSEENTER,{data:ue,e:P})}}),ar(Zn(o),"setHoverOFF",function(P){var I=o.props,H=I.model,oe=I.graphModel,ue=H.getData();!H.isHovered||(H.setHovered(!1),oe.eventCenter.emit(Vt.NODE_MOUSELEAVE,{data:ue,e:P}))}),ar(Zn(o),"onMouseOut",function(P){FM&&o.setHoverOFF(P)});var i=r.graphModel;return o.stepDrag=new bi({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:i.gridSize,eventType:"NODE",isStopPropagation:!1,eventCenter:i.eventCenter,model:r.model}),o}return function YM(e,n,t){return n&&lg(e.prototype,n),t&&lg(e,t),e}(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,i=this.props,l=i.model,d=i.graphModel;return l.isHitable&&(l.isSelected||l.isShowAnchor)&&!l.isDragging?ys(l.anchors,function(oe,ue){var Ce=l.getAnchorLineStyle(oe),De=l.getAnchorStyle(oe);return Object(Ge.g)(bM,{anchorData:oe,node:o,style:De,edgeStyle:Ce,anchorIndex:ue,nodeModel:l,graphModel:d,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,i=o.model,l=o.graphModel;if(i.state===ln.TEXT_EDIT)return"";if(i.text){var d=l.editConfigModel,m=!1;return(i.text.draggable||d.nodeTextDraggable)&&(m=!0),Object(Ge.g)(ag,{editable:d.nodeTextEdit&&i.text.editable,model:i,graphModel:l,draggable:m})}}},{key:"getStateClassName",value:function(){var o=this.props.model,l=o.isDraging,d=o.isSelected,m="lf-node";switch(o.state){case ln.ALLOW_CONNECT:m+=" lf-node-allow";break;case ln.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default"}return l&&(m+=" lf-isDragging"),d&&(m+=" lf-node-selected"),m}},{key:"toFront",value:function(){var o=this.props,i=o.model,l=o.graphModel;l.overlapMode!==cr.INCREASE&&i.autoToFront&&l.toFront(i.id)}},{key:"render",value:function(){var De,o=this.props,i=o.model,l=o.graphModel,d=l.editConfigModel,m=d.hideAnchors,P=d.adjustNodePosition,I=l.gridSize,H=l.transformModel.SCALE_X,oe=i.isHitable,ue=i.draggable,Ce=Object(Ge.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),m?null:this.getAnchors());return oe?(P&&ue&&this.stepDrag.setStep(I*H),De=Object(Ge.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Ce)):De=Object(Ge.g)("g",{className:this.getStateClassName()},Ce),De}}],[{key:"getModel",value:function(o){return o}}]),t}(Ge.a);function Ql(e){return(Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hf(){return hf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},hf.apply(this,arguments)}function ZM(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ug(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QM(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&vf(e,n)}function vf(e,n){return(vf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function qM(e){var n=function nA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=ql(e);if(n){var i=ql(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return eA(this,o)}}function eA(e,n){if(n&&("object"===Ql(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function tA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yf=function(e){QM(t,e);var n=qM(t);function t(){return ZM(this,t),n.apply(this,arguments)}return function JM(e,n,t){return n&&ug(e.prototype,n),t&&ug(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ge.g)(Xo,hf({},i,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(No);function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gf(){return gf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},gf.apply(this,arguments)}function rA(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function cg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iA(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&mf(e,n)}function mf(e,n){return(mf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function aA(e){var n=function uA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=tu(e);if(n){var i=tu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return sA(this,o)}}function sA(e,n){if(n&&("object"===eu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function lA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tu(e){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var bf=function(e){iA(t,e);var n=aA(t);function t(){return rA(this,t),n.apply(this,arguments)}return function oA(e,n,t){return n&&cg(e.prototype,n),t&&cg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,l=o.y,d=o.r,m=o.getNodeStyle();return Object(Ge.g)(Xa,gf({},m,{x:i,y:l,r:d}))}}]),t}(No);function nu(e){return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cA(e,n){return function hA(e){if(Array.isArray(e))return e}(e)||function pA(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function dA(e,n){if(e){if("string"==typeof e)return fg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fg(e,n)}}(e,n)||function fA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function dg(e){var n=e.points,t=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var i=cA(o,2),l=i[0],d=i[1];"object"!==nu(d)&&(r[l]=d)}),r.className=t?"lf-basic-shape ".concat(t):"lf-basic-shape",r.points=n.map(function(o){return o.join(",")}).join(" "),Object(Ge.g)("polygon",r)}function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Of(){return Of=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Of.apply(this,arguments)}function vA(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gA(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ef(e,n)}function Ef(e,n){return(Ef=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function mA(e){var n=function EA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=ou(e);if(n){var i=ou(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return bA(this,o)}}function bA(e,n){if(n&&("object"===ru(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function OA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ou(e){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var xf=function(e){gA(t,e);var n=mA(t);function t(){return vA(this,t),n.apply(this,arguments)}return function yA(e,n,t){return n&&pg(e.prototype,n),t&&pg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,l=o.y,d=o.width,m=o.height,P=o.points,I=o.getNodeStyle(),H={transform:"matrix(1 0 0 1 ".concat(i-d/2," ").concat(l-m/2,")")};return Object(Ge.g)("g",H,Object(Ge.g)(dg,Of({},I,{points:P,x:i,y:l})))}}]),t}(No);function iu(e){return(iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sf(){return Sf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Sf.apply(this,arguments)}function xA(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function hg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TA(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Tf(e,n)}function Tf(e,n){return(Tf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function CA(e){var n=function MA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=au(e);if(n){var i=au(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return PA(this,o)}}function PA(e,n){if(n&&("object"===iu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function wA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function au(e){return(au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cf=function(e){TA(t,e);var n=CA(t);function t(){return xA(this,t),n.apply(this,arguments)}return function SA(e,n,t){return n&&hg(e.prototype,n),t&&hg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ge.g)("g",null,Object(Ge.g)(dg,Sf({},i,{points:o.points,x:o.x,y:o.y})))}}]),t}(No);function su(e){return(su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function AA(e,n){return function IA(e){if(Array.isArray(e))return e}(e)||function DA(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function zA(e,n){if(e){if("string"==typeof e)return vg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vg(e,n)}}(e,n)||function NA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function RA(e){var n=e.x,r=e.y,i=e.rx,d=e.ry,P=e.className,I={cx:void 0===n?0:n,cy:void 0===r?0:r,rx:void 0===i?4:i,ry:void 0===d?4:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(H){var oe=AA(H,2),ue=oe[0],Ce=oe[1];"object"!==su(Ce)&&(I[ue]=Ce)}),I.className=P?"lf-basic-shape ".concat(P):"lf-basic-shape",Object(Ge.g)("ellipse",I)}function lu(e){return(lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pf(){return Pf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Pf.apply(this,arguments)}function _A(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LA(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&wf(e,n)}function wf(e,n){return(wf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function BA(e){var n=function GA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=uu(e);if(n){var i=uu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return FA(this,o)}}function FA(e,n){if(n&&("object"===lu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function kA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uu(e){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Mf=function(e){LA(t,e);var n=BA(t);function t(){return _A(this,t),n.apply(this,arguments)}return function jA(e,n,t){return n&&yg(e.prototype,n),t&&yg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ge.g)(RA,Pf({},i,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(No);function cu(e){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function mg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gg(Object(t),!0).forEach(function(r){HA(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function HA(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function UA(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function bg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YA(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Af(e,n)}function Af(e,n){return(Af=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function $A(e){var n=function KA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=fu(e);if(n){var i=fu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return WA(this,o)}}function WA(e,n){if(n&&("object"===cu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function XA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Nf=function(e){YA(t,e);var n=$A(t);function t(){return UA(this,t),n.apply(this,arguments)}return function VA(e,n,t){return n&&bg(e.prototype,n),t&&bg(e,t),e}(t,[{key:"getBackground",value:function(){var o=this.props.model,i=o.getTextStyle(),l=o.text;if(l&&l.value&&i.background&&"transparnet"!==i.background.fill){var d=l.x,m=l.y,P=o.width,I=o.height,H=mg(mg({},i.background),{},{x:d,y:m-1,width:P,height:I});return Object(Ge.g)(Xo,H)}}},{key:"getShape",value:function(){return Object(Ge.g)("g",null,this.getBackground())}}]),t}(No);function du(e){return(du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zf(){return zf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},zf.apply(this,arguments)}function ZA(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Og(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QA(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Df(e,n)}function Df(e,n){return(Df=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function qA(e){var n=function tN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=pu(e);if(n){var i=pu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return eN(this,o)}}function eN(e,n){if(n&&("object"===du(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return qa(e)}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pu(e){return(pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function hu(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var If=function(e){QA(t,e);var n=qA(t);function t(){var r;ZA(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return hu(qa(r=n.call.apply(n,[this].concat(i))),"ref",void 0),hu(qa(r),"currentProperties",void 0),hu(qa(r),"preProperties",void 0),hu(qa(r),"setRef",function(d){r.ref=d}),r}return function JA(e,n,t){return n&&Og(e.prototype,n),t&&Og(e,t),e}(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,i=o.x,l=o.y,d=o.height,m=o.width,P=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(Ge.g)("foreignObject",zf({},P,{x:i-m/2,y:l-d/2,width:m,height:d,ref:this.setRef}))}}]),t}(No);function vu(e){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rf(){return Rf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rf.apply(this,arguments)}function Eg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function xi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Eg(Object(t),!0).forEach(function(r){Lf(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function xg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oN(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_f(e,n)}function _f(e,n){return(_f=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function iN(e){var n=function sN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=yu(e);if(n){var i=yu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aN(this,o)}}function aN(e,n){if(n&&("object"===vu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return jf(e)}function jf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yu(e){return(yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Lf(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var lN=function(e){oN(t,e);var n=iN(t);function t(r){var o;return function nN(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Lf(jf(o=n.call(this,r)),"setHoverON",function(){o.setState({isHoverd:!0})}),Lf(jf(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return function rN(e,n,t){return n&&xg(e.prototype,n),t&&xg(e,t),e}(t,[{key:"getBackground",value:function(){var o=this.props.model,i=o.getTextStyle(),l=o.text,d=i.background||{};if(this.state.isHoverd&&i.hover&&i.hover.background&&(d=xi(xi({},d),i.hover.background)),l&&l.value&&"transparent"!==d.fill){var nt,P=i.fontSize,I=i.overflowMode,H=i.lineHeight,oe=i.wrapPadding,ue=i.textWidth,De=l.x,je=l.y,Re=String(l.value).split(/[\r\n]/g),st=Re.length;if("autoWrap"===I&&ue){var rt=Lp({rows:Re,style:{fontSize:"".concat(P,"px"),width:"".concat(ue,"px"),lineHeight:H,padding:oe},rowsLength:st,className:"lf-get-text-height"});nt=xi(xi({},d),{},{x:De-1,y:je-1,width:ue,height:rt})}else{var At=0;Re&&Re.forEach(function(Qt){var Ln=Mh(Qt);At=Ln>At?Ln:At});var bt=xc({rows:Re,fontSize:P,rowsLength:st}),kt=bt.width,Kt=bt.height;if("string"==typeof d.wrapPadding){var _t=d.wrapPadding.split(",").filter(function(Qt){return Qt.trim()}).map(function(Qt){return parseFloat(Qt.trim())});_t.length>0&&_t.length<=4&&(1===_t.length?_t=[_t[0],_t[0],_t[0],_t[0]]:2===_t.length?_t=[_t[0],_t[1],_t[0],_t[1]]:3===_t.length&&(_t=[_t[0],_t[1],_t[2],_t[1]]),kt+=_t[1]+_t[3],Kt+=_t[0]+_t[2],De+=(_t[1]-_t[3])/2,je+=(_t[2]-_t[0])/2)}nt=xi(xi({},d),{},{x:De-1,y:je-1,width:kt,height:Kt})}return Object(Ge.g)(Xo,nt)}}},{key:"getShape",value:function(){var o=this.props.model,i=o.text,l=i.value;if(l){var I=xi({x:i.x,y:i.y,className:"lf-element-text",value:l},o.getTextStyle());return Object(Ge.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(Ge.g)(rg,Rf({},I,{model:o})))}}}]),t}(ag);function gu(e){return(gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bf(){return Bf=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Bf.apply(this,arguments)}function Sg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function zo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sg(Object(t),!0).forEach(function(r){kr(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function uN(e,n){return function pN(e){if(Array.isArray(e))return e}(e)||function dN(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function fN(e,n){if(e){if("string"==typeof e)return Tg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tg(e,n)}}(e,n)||function cN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Cg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yN(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ff(e,n)}function Ff(e,n){return(Ff=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function gN(e){var n=function bN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=mu(e);if(n){var i=mu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return mN(this,o)}}function mN(e,n){if(n&&("object"===gu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mu(e){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Gr=(()=>(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Gr||(Gr={})),Gr))(),Pg=function(e){yN(t,e);var n=gN(t);function t(){var r;return function hN(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),kr(Fr(r=n.call(this)),"dragHandler",void 0),kr(Fr(r),"oldEdge",void 0),kr(Fr(r),"preTargetNode",void 0),kr(Fr(r),"targetRuleResults",void 0),kr(Fr(r),"sourceRuleResults",void 0),kr(Fr(r),"onDragStart",function(){var o=r.props,i=o.x,l=o.y,d=o.edgeModel;r.oldEdge={startPoint:d.startPoint,endPoint:d.endPoint,pointsList:d.pointsList},r.setState({endX:i,endY:l,draging:!0}),d.isHitable=!1}),kr(Fr(r),"onDraging",function(o){var d=r.state,m=d.endX,P=d.endY,I=r.props,H=I.graphModel,oe=I.type,De=uN(H.transformModel.moveCanvasPointByHtml([m,P],o.deltaX,o.deltaY),2),je=De[0],Re=De[1];r.setState({endX:je,endY:Re,draging:!0});var st=r.props.edgeModel,nt=Ss({x:m,y:P},H);if(nt&&nt.node&&r.isAllowAdjust(nt)){var rt,At=st.startPoint,bt=st.endPoint;oe===Gr.SOURCE?rt={startPoint:{x:nt.anchor.x,y:nt.anchor.y},endPoint:{x:bt.x,y:bt.y},sourceNode:nt.node,targetNode:st.targetNode}:oe===Gr.TARGET&&(rt={startPoint:{x:At.x,y:At.y},endPoint:{x:nt.anchor.x,y:nt.anchor.y},sourceNode:st.sourceNode,targetNode:nt.node}),st.updateAfterAdjustStartAndEnd(rt)}else oe===Gr.SOURCE?st.updateStartPoint({x:je,y:Re}):oe===Gr.TARGET&&st.updateEndPoint({x:je,y:Re})}),kr(Fr(r),"onDragEnd",function(){var o;r.setState({draging:!1});var i=r.props,l=i.graphModel,d=i.edgeModel,m=i.type;d.isHitable=!0;var P=r.state,oe=P.draging,ue=Ss({x:P.endX,y:P.endY},l);if(oe){if(ue&&ue.node&&r.isAllowAdjust(ue)){var Ce,De=d.getData(),je=zo(zo({},De),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==De||null===(Ce=De.text)||void 0===Ce?void 0:Ce.value)||""});m===Gr.SOURCE?je=zo(zo({},l.edgeGenerator(l.getNodeModelById(ue.node.id).getData(),l.getNodeModelById(d.targetNodeId).getData(),je)),{},{sourceNodeId:ue.node.id,sourceAnchorId:ue.anchor.id,startPoint:{x:ue.anchor.x,y:ue.anchor.y},targetNodeId:d.targetNodeId,endPoint:zo({},d.endPoint)}):m===Gr.TARGET&&(je=zo(zo({},l.edgeGenerator(l.getNodeModelById(d.sourceNodeId).getData(),l.getNodeModelById(ue.node.id).getData(),je)),{},{sourceNodeId:d.sourceNodeId,startPoint:zo({},d.startPoint),targetNodeId:ue.node.id,targetAnchorId:ue.anchor.id,endPoint:{x:ue.anchor.x,y:ue.anchor.y}})),l.deleteEdgeById(d.id);var nt=l.addEdge(zo({},je));l.eventCenter.emit(Vt.EDGE_EXCHANGE_NODE,{data:{newEdge:nt.getData(),oldEdge:d.getData()}})}else r.recoveryEdge();null===(o=r.preTargetNode)||void 0===o||o.setElementState(ln.DEFAULT)}}),kr(Fr(r),"recoveryEdge",function(){var o=r.props.edgeModel,i=r.oldEdge,d=i.endPoint,m=i.pointsList;o.updateStartPoint(i.startPoint),o.updateEndPoint(d),o.modelType!==en.LINE_EDGE&&(o.pointsList=m,o.initPoints())}),kr(Fr(r),"getAdjustPointStyle",function(){return r.props.graphModel.theme.edgeAdjust}),r.state={draging:!1,endX:0,endY:0},r.targetRuleResults=new Map,r.sourceRuleResults=new Map,r.dragHandler=Ic({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return function vN(e,n,t){return n&&Cg(e.prototype,n),t&&Cg(e,t),e}(t,[{key:"isAllowAdjust",value:function(o){var i=this.props,l=i.edgeModel,m=l.sourceNode,P=l.targetNode,I=l.sourceAnchorId,oe=i.type,ue=null,Ce=null,De=null,je=null;if(oe===Gr.SOURCE?(ue=o.node,Ce=P,De=o.anchor,je=P.getAnchorInfo(l.targetAnchorId)):(ue=m,Ce=o.node,je=o.anchor,De=m.getAnchorInfo(I)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(ln.DEFAULT),this.preTargetNode=o.node,je.id===De.id)return!1;var Re="".concat(ue.id,"_").concat(Ce.id,"_").concat(De.id,"_").concat(je.id);if(!this.targetRuleResults.has(Re)){var st=ue.isAllowConnectedAsSource(Ce,De,je),nt=Ce.isAllowConnectedAsTarget(ue,De,je);this.sourceRuleResults.set(Re,Cs(st)),this.targetRuleResults.set(Re,Cs(nt))}var At=this.sourceRuleResults.get(Re).isAllPass,kt=this.targetRuleResults.get(Re).isAllPass,Kt=At&&kt?ln.ALLOW_CONNECT:ln.NOT_ALLOW_CONNECT;return oe===Gr.SOURCE?ue.setElementState(Kt):Ce.setElementState(Kt),At&&kt}},{key:"render",value:function(){var o=this.props,i=o.x,l=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object(Ge.g)("g",null,Object(Ge.g)(Xa,Bf({className:"lf-edge-adjust-point"},m,{x:i,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}]),t}(Ge.a);function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ou(){return Ou=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ou.apply(this,arguments)}function wg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Mg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wg(Object(t),!0).forEach(function(r){Ur(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ON(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ag(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xN(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&kf(e,n)}function kf(e,n){return(kf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function SN(e){var n=function CN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Eu(e);if(n){var i=Eu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return TN(this,o)}}function TN(e,n){if(n&&("object"===bu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Hr(e)}function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ur(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var es=function(e){xN(t,e);var n=SN(t);function t(){var r;ON(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return Ur(Hr(r=n.call.apply(n,[this].concat(i))),"startTime",void 0),Ur(Hr(r),"contextMenuTime",void 0),Ur(Hr(r),"clickTimer",void 0),Ur(Hr(r),"handleHover",function(d,m){var P=r.props,I=P.model,H=P.graphModel.eventCenter;I.setHovered(d);var oe=d?Vt.EDGE_MOUSEENTER:Vt.EDGE_MOUSELEAVE,ue=I.getData();H.emit(oe,{data:ue,e:m})}),Ur(Hr(r),"setHoverON",function(d){r.props.model.isHovered||r.handleHover(!0,d)}),Ur(Hr(r),"setHoverOFF",function(d){r.handleHover(!1,d)}),Ur(Hr(r),"handleContextMenu",function(d){d.preventDefault(),r.contextMenuTime=(new Date).getTime(),r.clickTimer&&clearTimeout(r.clickTimer);var m=r.props,P=m.model,I=m.graphModel,H=I.getPointByClient({x:d.clientX,y:d.clientY});I.setElementStateById(P.id,ln.SHOW_MENU,H.domOverlayPosition),r.toFront(),I.selectEdgeById(P.id);var oe=P?.getData();I.eventCenter.emit(Vt.EDGE_CONTEXTMENU,{data:oe,e:d,position:H})}),Ur(Hr(r),"handleMouseDown",function(d){d.stopPropagation(),r.startTime=(new Date).getTime()}),Ur(Hr(r),"handleMouseUp",function(d){if(r.startTime&&!((new Date).getTime()-r.startTime>200||2===d.button)){var I=2===d.detail,H=r.props,oe=H.model,ue=H.graphModel,Ce=oe?.getData(),De=ue.getPointByClient({x:d.clientX,y:d.clientY});if(I){var je=ue.editConfigModel,Re=ue.textEditElement;if(Re&&Re.id===oe.id&&ue.setElementStateById(oe.id,ln.DEFAULT),je.edgeTextEdit&&oe.text.editable&&ue.setElementStateById(oe.id,ln.TEXT_EDIT),oe.modelType===en.POLYLINE_EDGE){var st=oe,rt=ue.getPointByClient({x:d.x,y:d.y}).canvasOverlayPosition,kt=Nh({x:rt.x,y:rt.y},st.points);st.dbClickPosition=kt}ue.eventCenter.emit(Vt.EDGE_DBCLICK,{data:Ce,e:d,position:De})}else ue.eventCenter.emit(Vt.ELEMENT_CLICK,{data:Ce,e:d,position:De}),ue.eventCenter.emit(Vt.EDGE_CLICK,{data:Ce,e:d,position:De});ue.selectEdgeById(oe.id,Np(d,ue.editConfigModel)),r.toFront()}}),Ur(Hr(r),"getIsDragging",function(){return!1}),r}return function EN(e,n,t){return n&&Ag(e.prototype,n),t&&Ag(e,t),e}(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,i=o.model,l=o.graphModel;if(i.state===ln.TEXT_EDIT)return"";var d=!1,m=l.editConfigModel;return(i.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(Ge.g)(lN,{editable:m.edgeTextEdit&&i.text.editable,model:i,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model;return{start:o.startPoint,end:o.endPoint,hover:this.state.hover,isSelected:o.isSelected}}},{key:"getArrowStyle",value:function(){var o=this.props,i=o.model,l=o.graphModel,d=i.getEdgeStyle(),m=i.getEdgeAnimationStyle(),P=l.theme.arrow,I=i.isAnimation?m.stroke:d.stroke;return Mg(Mg({},d),{},{fill:I,stroke:I},P)}},{key:"getArrow",value:function(){var o=this.props.model.id,i=this.getArrowStyle(),l=i.refY,d=void 0===l?0:l,m=i.refX,P=void 0===m?2:m;return Object(Ge.g)("g",null,Object(Ge.g)("defs",null,Object(Ge.g)("marker",{id:"marker-start-".concat(o),refX:-P,refY:d,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(Ge.g)("marker",{id:"marker-end-".concat(o),refX:P,refY:d,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),i=o.stroke,l=o.strokeWidth,d=o.offset,m=o.verticalLength;return Object(Ge.g)("path",{stroke:i,fill:i,strokeWidth:l,d:"M 0 0 L ".concat(d," -").concat(m," L ").concat(d," ").concat(m," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),i=o.stroke,l=o.strokeWidth,d=o.offset,m=o.verticalLength;return Object(Ge.g)("path",{stroke:i,fill:i,strokeWidth:l,transform:"rotate(180)",d:"M 0 0 L ".concat(d," -").concat(m," L ").concat(d," ").concat(m," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,i=o.model,l=o.graphModel,d=i.getAdjustStart(),m=i.getAdjustEnd();return Object(Ge.g)("g",null,Object(Ge.g)(Pg,Ou({type:"SOURCE"},d,{edgeModel:i,graphModel:l})),Object(Ge.g)(Pg,Ou({type:"TARGET"},m,{edgeModel:i,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Ge.g)("g",null)}},{key:"getAppend",value:function(){return Object(Ge.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,i=o.graphModel;i.overlapMode!==cr.INCREASE&&i.toFront(o.model.id)}},{key:"render",value:function(){var o=this.props,i=o.model,l=i.isSelected,d=i.isHitable,m=o.graphModel,P=this.getIsDragging(),I=m.editConfigModel.adjustEdgeStartAndEnd,oe=l&&m.animation.edge&&1===m.getSelectElements().edges.length;return Object(Ge.g)("g",null,Object(Ge.g)("g",{className:["lf-edge",!d&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),oe&&this.getAnimation(),this.getText(),this.getArrow()),I&&l&&!P?this.getAdjustPoints():"")}}]),t}(Ge.a);function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function PN(e,n){return function NN(e){if(Array.isArray(e))return e}(e)||function AN(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function MN(e,n){if(e){if("string"==typeof e)return Ng(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ng(e,n)}}(e,n)||function wN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ng(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var pa=function zN(e){var n={d:""};return Object.entries(e).forEach(function(t){var r=PN(t,2),o=r[0],i=r[1],l=xu(i);("style"===o||"object"!==l)&&(n[o]=i)}),Object(Ge.g)("path",n)};function Su(e){return(Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tu(){return Tu=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Tu.apply(this,arguments)}function DN(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RN(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Gf(e,n)}function Gf(e,n){return(Gf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function _N(e){var n=function BN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Cu(e);if(n){var i=Cu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jN(this,o)}}function jN(e,n){if(n&&("object"===Su(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function LN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Hf=function(e){RN(t,e);var n=_N(t);function t(){return DN(this,t),n.apply(this,arguments)}return function IN(e,n,t){return n&&zg(e.prototype,n),t&&zg(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.startPoint,l=o.endPoint,d=o.isAnimation,m=o.arrowConfig,P=o.getEdgeStyle(),I=o.getEdgeAnimationStyle(),H=I.strokeDasharray,oe=I.stroke,ue=I.strokeDashoffset,Ce=I.animationName,De=I.animationDuration,je=I.animationIterationCount,Re=I.animationTimingFunction,st=I.animationDirection;return Object(Ge.g)(Oi,Tu({},P,{x1:i.x,y1:i.y,x2:l.x,y2:l.y},m,d?{strokeDasharray:H,stroke:oe,style:{strokeDashoffset:ue,animationName:Ce,animationDuration:De,animationIterationCount:je,animationTimingFunction:Re,animationDirection:st}}:{}))}},{key:"getShape",value:function(){return Object(Ge.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),l=i.stroke,d=i.className,m=i.strokeDasharray,P=o.startPoint,I=o.endPoint,H=o.getEdgeStyle();return Object(Ge.g)("g",null,Object(Ge.g)(Oi,Tu({},H,{x1:P.x,y1:P.y,x2:I.x,y2:I.y,className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,m=function(n){var o,t=n.start,r=n.end;if(t.x===r.x&&t.y===r.y)o="";else{var i={start:t,end:r,offset:10,verticalLength:5},l=Va(Ns(Ns({},i),{},{type:"start"})),d=Va(Ns(Ns({},i),{},{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY," \n    L").concat(l.rightX," ").concat(l.rightY," \n    L").concat(d.rightX," ").concat(d.rightY,"\n    L").concat(d.leftX," ").concat(d.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),P=m.d,I=m.strokeWidth,H=m.fill,oe=m.strokeDasharray,ue=m.stroke;return Object(Ge.g)(pa,{d:P,fill:H,strokeWidth:I,stroke:ue,strokeDasharray:oe})}}]),t}(es);function Pu(e){return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function FN(e,n){return function UN(e){if(Array.isArray(e))return e}(e)||function HN(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function GN(e,n){if(e){if("string"==typeof e)return Dg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dg(e,n)}}(e,n)||function kN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Ig=function VN(e){var n={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var r=FN(t,2),o=r[0],i=r[1];("style"===o||"object"!==Pu(i))&&(n[o]=i)}),Object(Ge.g)("polyline",n)};function wu(e){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Mu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rg(Object(t),!0).forEach(function(r){lo(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Au(){return Au=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Au.apply(this,arguments)}function YN(e,n){return function KN(e){if(Array.isArray(e))return e}(e)||function XN(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function WN(e,n){if(e){if("string"==typeof e)return _g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _g(e,n)}}(e,n)||function $N(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function jg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QN(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Uf(e,n)}function Uf(e,n){return(Uf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function qN(e){var n=function t1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Nu(e);if(n){var i=Nu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return e1(this,o)}}function e1(e,n){if(n&&("object"===wu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return so(e)}function so(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Vf=function(e){QN(t,e);var n=qN(t);function t(){var r;return function ZN(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),lo(so(r=n.call(this)),"drag",void 0),lo(so(r),"isDraging",void 0),lo(so(r),"appendInfo",void 0),lo(so(r),"dragHandler",void 0),lo(so(r),"onDragStart",function(){r.props.model.dragAppendStart()}),lo(so(r),"onDraging",function(o){var i=o.deltaX,l=o.deltaY,d=r.props,m=d.model,P=d.graphModel;r.isDraging=!0;var H=P.editConfigModel,ue=YN(P.transformModel.fixDeltaXY(i,l),2),Ce=ue[0],De=ue[1],je=m;r.appendInfo=H.adjustEdgeMiddle?je.dragAppendSimple(r.appendInfo,{x:Ce,y:De}):je.dragAppend(r.appendInfo,{x:Ce,y:De})}),lo(so(r),"onDragEnd",function(){var o=r.props,l=o.graphModel.eventCenter,d=o.model;d.dragAppendEnd(),r.isDraging=!1,r.appendInfo=void 0,l.emit(Vt.EDGE_ADJUST,{data:d.getData()})}),lo(so(r),"beforeDragStart",function(o,i){i.dragAble&&r.dragHandler(o),r.appendInfo=i}),lo(so(r),"getIsDragging",function(){return r.isDraging}),r.drag=Ic({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd,isStopPropagation:!1}),r}return function JN(e,n,t){return n&&jg(e.prototype,n),t&&jg(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.points,l=o.isAnimation,d=o.arrowConfig,m=o.getEdgeStyle(),P=o.getEdgeAnimationStyle(),I=P.strokeDasharray,H=P.stroke,oe=P.strokeDashoffset,ue=P.animationName,Ce=P.animationDuration,De=P.animationIterationCount,je=P.animationTimingFunction,Re=P.animationDirection;return Object(Ge.g)(Ig,Au({points:i},m,d,l?{strokeDasharray:I,stroke:H,style:{strokeDashoffset:oe,animationName:ue,animationDuration:Ce,animationIterationCount:De,animationTimingFunction:je,animationDirection:Re}}:{}))}},{key:"getShape",value:function(){return Object(Ge.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),l=i.stroke,d=i.className,m=i.strokeDasharray,P=o.getEdgeStyle();return Object(Ge.g)("g",null,Object(Ge.g)(Ig,Au({points:o.points},P,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,P={start:null,end:null,hover:this.state.hover,isSelected:o.isSelected},I=qi(o.points);return I.length>=2&&(P.start=I[I.length-2],P.end=I[I.length-1]),P}},{key:"getAppendAttributes",value:function(o){var d,i=o.start,l=o.end;if(i.x===l.x&&i.y===l.y)d="";else{var m={start:i,end:l,offset:10,verticalLength:5},P=Va(Mu(Mu({},m),{},{type:"start"})),I=Va(Mu(Mu({},m),{},{type:"end"}));d="M".concat(P.leftX," ").concat(P.leftY," \n      L").concat(P.rightX," ").concat(P.rightY," \n      L").concat(I.rightX," ").concat(I.rightY,"\n      L").concat(I.leftX," ").concat(I.leftY," z")}return{d,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var i=this.getAppendAttributes(o),l=i.d,d=i.strokeWidth,m=i.fill,P=i.strokeDasharray,I=i.stroke;return Object(Ge.g)(pa,{d:l,fill:m,strokeWidth:d,stroke:I,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var o=this,i=this.props,l=i.model,d=i.graphModel,m=l.pointsList,P=l.draggable,I=[],H=m.length,oe=function(De){var je="lf-polyline-append",Re={start:{x:m[De].x,y:m[De].y},end:{x:m[De+1].x,y:m[De+1].y},startIndex:De,endIndex:De+1,direction:"",dragAble:!0},st=Object(Ge.g)("g",{className:je},o.getAppendShape(Re)),nt=d.editConfigModel,At=nt.adjustEdgeMiddle;nt.adjustEdge&&P?(o.dragHandler=o.drag,Re.dragAble=!(At&&(0===Re.startIndex||Re.endIndex===H-1)),Re.start.x===Re.end.x?(Re.dragAble&&(je+="-ew-resize"),Re.direction=yn.VERTICAL):Re.start.y===Re.end.y&&(Re.dragAble&&(je+="-ns-resize"),Re.direction=yn.HORIZONTAL),st=Object(Ge.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Qt){return o.beforeDragStart(Qt,Re)}},Object(Ge.g)("g",{className:je},o.getAppendShape(Re)))):o.dragHandler=function(){},I.push(st)},ue=0;ue<H-1;ue++)oe(ue);return Object(Ge.g)("g",null,I)}}]),t}(es);function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function n1(e,n){return function s1(e){if(Array.isArray(e))return e}(e)||function a1(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function o1(e,n){if(e){if("string"==typeof e)return Lg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lg(e,n)}}(e,n)||function r1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Du(){return Du=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Du.apply(this,arguments)}function l1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c1(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Yf(e,n)}function Yf(e,n){return(Yf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function f1(e){var n=function h1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Iu(e);if(n){var i=Iu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return d1(this,o)}}function d1(e,n){if(n&&("object"===zu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function p1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Iu(e){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var $f=function(e){c1(t,e);var n=f1(t);function t(){return l1(this,t),n.apply(this,arguments)}return function u1(e,n,t){return n&&Bg(e.prototype,n),t&&Bg(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.getEdgeStyle(),l=o.path,d=o.isAnimation,m=o.arrowConfig,P=o.getEdgeAnimationStyle(),I=P.strokeDasharray,H=P.stroke,oe=P.strokeDashoffset,ue=P.animationName,Ce=P.animationDuration,De=P.animationIterationCount,je=P.animationTimingFunction,Re=P.animationDirection;return Object(Ge.g)(pa,Du({d:l},i,m,d?{strokeDasharray:I,stroke:H,style:{strokeDashoffset:oe,animationName:ue,animationDuration:Ce,animationIterationCount:De,animationTimingFunction:je,animationDirection:Re}}:{}))}},{key:"getShape",value:function(){return Object(Ge.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),l=i.stroke,d=i.className,m=i.strokeDasharray,P=o.getEdgeStyle();return Object(Ge.g)("g",null,Object(Ge.g)(pa,Du({d:o.path},P,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(Ge.g)(pa,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,l=this.state.hover,P=o.isSelected,H=n1(function(n){var t=Bs(n);return[t[2],t[3]]}(o.path),2);return{start:H[0],end:H[1],hover:l,isSelected:P}}}]),t}(es);function Ru(e){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function y1(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function kg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b1(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Wf(e,n)}function Wf(e,n){return(Wf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function O1(e){var n=function S1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=_u(e);if(n){var i=_u(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return E1(this,o)}}function E1(e,n){if(n&&("object"===Ru(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function x1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _u(e){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var T1=function(e){b1(t,e);var n=O1(t);function t(){return g1(this,t),n.apply(this,arguments)}return function m1(e,n,t){return n&&kg(e.prototype,n),t&&kg(e,t),e}(t,[{key:"getArrowAttributes",value:function(){var o=this.props,i=o.arrowInfo,l=o.style,m=i.end,I=Va({start:i.start,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"}),oe=I.leftY,ue=I.rightX,Ce=I.rightY;return function v1(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fg(Object(t),!0).forEach(function(r){y1(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({d:"M".concat(I.leftX," ").concat(oe," L").concat(m.x," ").concat(m.y," L").concat(ue," ").concat(Ce," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),i=o.d,l=o.strokeWidth,d=o.stroke,m=o.fill;return Object(Ge.g)(pa,{d:i,fill:m,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(Ge.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(Ge.a);var Gg=function C1(e,n){return rc(e,n)};var w1=function P1(e){var n=null==e?0:e.length;return n?e[n-1]:void 0},Xf=function(){return Yn.a.Date.now()},A1=/\s/;var z1=function N1(e){for(var n=e.length;n--&&A1.test(e.charAt(n)););return n},D1=/^\s+/;var R1=function I1(e){return e&&e.slice(0,z1(e)+1).replace(D1,"")},_1=/^[-+]0x[0-9a-f]+$/i,j1=/^0b[01]+$/i,L1=/^0o[0-7]+$/i,B1=parseInt;var Ug=function F1(e){if("number"==typeof e)return e;if(hs(e))return NaN;if(Fn(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=Fn(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=R1(e);var t=j1.test(e);return t||L1.test(e)?B1(e.slice(2),t?2:8):_1.test(e)?NaN:+e},G1=Math.max,H1=Math.min;var V1=function U1(e,n,t){var r,o,i,l,d,m,P=0,I=!1,H=!1,oe=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function ue(bt){var kt=r,Kt=o;return r=o=void 0,P=bt,l=e.apply(Kt,kt)}function Ce(bt){return P=bt,d=setTimeout(Re,n),I?ue(bt):l}function je(bt){var kt=bt-m;return void 0===m||kt>=n||kt<0||H&&bt-P>=i}function Re(){var bt=Xf();if(je(bt))return st(bt);d=setTimeout(Re,function De(bt){var _t=n-(bt-m);return H?H1(_t,i-(bt-P)):_t}(bt))}function st(bt){return d=void 0,oe&&r?ue(bt):(r=o=void 0,l)}function At(){var bt=Xf(),kt=je(bt);if(r=arguments,o=this,m=bt,kt){if(void 0===d)return Ce(m);if(H)return clearTimeout(d),d=setTimeout(Re,n),ue(m)}return void 0===d&&(d=setTimeout(Re,n)),l}return n=Ug(n)||0,Fn(t)&&(I=!!t.leading,i=(H="maxWait"in t)?G1(Ug(t.maxWait)||0,n):i,oe="trailing"in t?!!t.trailing:oe),At.cancel=function nt(){void 0!==d&&clearTimeout(d),P=0,r=m=o=d=void 0},At.flush=function rt(){return void 0===d?l:st(Xf())},At},Y1=a(166);function Vg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Yg,$g,Wg,X1=function(){function e(n){(function $1(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),Qo(this,"undos",[]),Qo(this,"redos",[]),Qo(this,"callbacks",[]),Qo(this,"stopWatch",null),Qo(this,"curData",null),Qo(this,"maxSize",50),Qo(this,"waitTime",100),Qo(this,"eventCenter",void 0),this.eventCenter=n}return function W1(e,n,t){return n&&Vg(e.prototype,n),t&&Vg(e,t),e}(e,[{key:"add",value:function(t){Gg(w1(this.undos),t)||(this.undos.push(t),Gg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(Vt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var r=this.undos.pop();return this.curData=xn(r),r}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=xn(t),t}}},{key:"watch",value:function(t){var r=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Y1.a)(t,V1(function(){var o=t.modelToHistoryData();o&&r.add(o)},this.waitTime))}}]),e}(),K1=X1;function ju(e){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Z1(e,n){return function ez(e){if(Array.isArray(e))return e}(e)||function q1(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||function Q1(e,n){if(e){if("string"==typeof e)return Xg(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Xg(e,n)}}(e,n)||function J1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Kg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function ha(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Kg(Object(t),!0).forEach(function(r){Si(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kg(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Zg(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rz(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Kf(e,n)}function Kf(e,n){return(Kf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function oz(e){var n=function az(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Lu(e);if(n){var i=Lu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return iz(this,o)}}function iz(e,n){if(n&&("object"===ju(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return va(e)}function va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Si(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Jg,Qg,qg,Zf=Vr((Wg=$g=function(e){rz(t,e);var n=oz(t);function t(){var r;return function tz(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Si(va(r=n.call(this)),"ref",Object(Ge.f)()),Si(va(r),"__prevText",{type:"",text:"",id:""}),Si(va(r),"keyupHandler",function(o){"Enter"===o.key&&o.altKey&&r.props.graphModel.textEditElement.setElementState(0)}),Si(va(r),"inputHandler",function(o){var d=r.props.graphModel.textEditElement;r.__prevText={type:d.type,text:o.target.innerText.replace(/(\r\n)+$|(\n)+$/,""),id:d.id}}),Si(va(r),"keydownHandler",function(o){o.stopPropagation()}),r.state={style:{left:0,top:0}},r}return function nz(e,n,t){return n&&Zg(e.prototype,n),t&&Zg(e,t),e}(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel;o.eventCenter.on("".concat(Vt.GRAPH_TRANSFORM,",").concat(Vt.NODE_CLICK,",").concat(Vt.BLANK_CLICK," "),function(){var d=o.editConfigModel;(d.edgeTextEdit||d.nodeTextEdit)&&o.textEditElement&&o.textEditElement.setElementState(ln.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var i=this.__prevText;o.updateText(i.id,i.text),o.eventCenter.emit(Vt.TEXT_UPDATE,ha({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(void 0!==window.getSelection&&void 0!==document.createRange){var i=document.createRange();i.selectNodeContents(o),i.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(i)}}},{key:"render",value:function(){var o,i=this.props.graphModel.textEditElement,l=this.state.style;return i?Object(Ge.g)("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:i.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(o=i.text)||void 0===o?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var P,i=o.graphModel,l=i.transformModel,d=i.theme,m=i.textEditElement;if(m){var I;if((null===(I=m.text)||void 0===I||!I.value)&&m.BaseType===An.EDGE){var H=m.text,oe=m.textPosition,Ce=oe.y;H.x=oe.x,H.y=Ce,m.setText(H)}var De={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(m.BaseType===An.EDGE){var je=d.edgeText,st=je.lineHeight,nt=je.wrapPadding,rt=je.textWidth;rt&&"autoWrap"===je.overflowMode&&(P=ha(ha({},De),{},{width:rt,minWidth:rt,lineHeight:st,padding:nt}))}else if(m.BaseType===An.NODE){var At=d.nodeText,kt=At.lineHeight,Kt=At.wrapPadding,_t=At.textWidth,Ln=m.width,vr=m.modelType;(vr!==en.TEXT_NODE&&"autoWrap"===At.overflowMode||vr===en.TEXT_NODE&&_t)&&(P=ha(ha({},De),{},{width:_t||Ln,minWidth:_t||Ln,lineHeight:kt,padding:Kt}))}var co=m.text,qo=Z1(l.CanvasPointToHtmlPoint([co.x,co.y]),2);return{style:ha({left:qo[0],top:qo[1]},P)}}}}]),t}(Ge.a),Si($g,"toolName","textEdit"),Yg=Wg))||Yg,fz=function(n){return n.modelType===en.LINE_EDGE?function(n){var t=n.startPoint,r=n.endPoint,o=(t.x+r.x)/2,i=(t.y+r.y)/2,l=Math.abs(t.x-r.x)+10,d=Math.abs(t.y-r.y)+10;return{x:o-l/2,y:i-d/2,x1:o+l/2,y1:i+d/2}}(n):n.modelType===en.POLYLINE_EDGE?function(n){var r=qi(n.points),o=Ya(r,8),i=o.x,l=o.y,d=o.width,m=o.height;return{x:i-d/2,y:l-m/2,x1:i+d/2,y1:l+m/2}}(n):n.modelType===en.BEZIER_EDGE?function(n){var r=Bs(n.path),o=Ya(r,8),i=o.x,l=o.y,d=o.width,m=o.height;return{x:i-d/2,y:l-m/2,x1:i+d/2,y1:l+m/2}}(n):void 0};function Bu(e){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function em(e,n){return function hz(e){if(Array.isArray(e))return e}(e)||function pz(e,n){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,d,r=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(r.push(l.value),!n||r.length!==n);o=!0);}catch(m){i=!0,d=m}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw d}}return r}}(e,n)||tm(e,n)||function dz(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vz(e){return function mz(e){if(Array.isArray(e))return Jf(e)}(e)||function gz(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tm(e)||function yz(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tm(e,n){if(e){if("string"==typeof e)return Jf(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jf(e,n)}}function Jf(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function nm(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ez(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Qf(e,n)}function Qf(e,n){return(Qf=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r})(e,n)}function xz(e){var n=function Tz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,r=Fu(e);if(n){var i=Fu(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Sz(this,o)}}function Sz(e,n){if(n&&("object"===Bu(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return ts(e)}function ts(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ns(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var qf=Vr((qg=Qg=function(e){Ez(t,e);var n=xz(t);function t(r){var o;(function bz(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),ns(ts(o=n.call(this)),"stepDrag",void 0),ns(ts(o),"handleMouseDown",function(m){o.stepDrag.handleMouseDown(m)}),ns(ts(o),"onDraging",function(m){var P=m.deltaX,I=m.deltaY,H=o.props.graphModel,oe=H.getSelectElements(!0);H.moveNodes(oe.nodes.map(function(ue){return ue.id}),P,I)}),ns(ts(o),"handleContextMenu",function(m){m.preventDefault();var P=o.props,H=P.graphModel,oe=H.eventCenter,ue=H.selectElements,Ce=P.graphModel.getPointByClient({x:m.clientX,y:m.clientY}),De={nodes:[],edges:[]};vz(ue.values()).forEach(function(Re){Re.BaseType===An.NODE&&De.nodes.push(Re.getData()),Re.BaseType===An.EDGE&&De.edges.push(Re.getData())}),oe.emit(Vt.SELECTION_CONTEXTMENU,{data:De,e:m,position:Ce})});var i=r.graphModel;return o.stepDrag=new bi({onDraging:o.onDraging,step:i.gridSize,eventType:"SELECTION",eventCenter:i.eventCenter}),o}return function Oz(e,n,t){return n&&nm(e.prototype,n),t&&nm(e,t),e}(t,[{key:"render",value:function(){var o=this.props.graphModel,i=o.selectElements,l=o.transformModel;if(!(i.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,I=Number.MIN_SAFE_INTEGER;i.forEach(function(je){var Re={x:0,y:0,x1:0,y1:0};je.BaseType===An.NODE&&(Re=function(n){var t=n.x,r=n.y,o=n.width,i=n.height;return{x:t-o/2,y:r-i/2,x1:t+o/2,y1:r+i/2}}(je)),je.BaseType===An.EDGE&&(Re=fz(je)),d=Math.min(d,Re.x),m=Math.min(m,Re.y),P=Math.max(P,Re.x1),I=Math.max(I,Re.y1)});var oe=em(l.CanvasPointToHtmlPoint([d,m]),2);d=oe[0],m=oe[1];var Ce=em(l.CanvasPointToHtmlPoint([P,I]),2);P=Ce[0],I=Ce[1];var De={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(P-d+20,"px"),height:"".concat(I-m+20,"px")};return Object(Ge.g)("div",{className:"lf-multiple-select",style:De,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(Ge.a),ns(Qg,"toolName","multipleSelect"),Jg=qg))||Jg;function rm(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ku(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var wz=function(){function e(n){(function Cz(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),ku(this,"tools",void 0),ku(this,"components",void 0),ku(this,"toolMap",new Map),ku(this,"instance",void 0),this.instance=n,this.isDisabledTool(Zf.toolName)||this.registerTool(Zf.toolName,Zf),this.isDisabledTool(qf.toolName)||this.registerTool(qf.toolName,qf)}return function Pz(e,n,t){return n&&rm(e.prototype,n),t&&rm(e,t),e}(e,[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,r){this.toolMap.set(t,r)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),Mz=a(167),Az=a.n(Mz);function om(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ed(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var im=function(){function e(n){(function Nz(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),ed(this,"mousetrap",void 0),ed(this,"options",void 0),ed(this,"target",void 0),n.keyboard||(n.keyboard={enabled:!1}),this.options=n,this.target=n.lf.container,this.mousetrap=new Az.a(this.target),n.keyboard.enabled&&this.enable(!0)}return function zz(e,n,t){return n&&om(e.prototype,n),t&&om(e,t),e}(e,[{key:"initShortcuts",value:function(){var t=this,r=this.options.keyboard.shortcuts;r&&(nr(r)?r.forEach(function(d){return t.on(d.keys,d.callback,d.action)}):this.on(r.keys,r.callback,r.action))}},{key:"on",value:function(t,r,o){this.mousetrap.bind(this.getKeys(t),r,o)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,r){this.mousetrap.unbind(this.getKeys(t),r)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var r=this;return(Array.isArray(t)?t:[t]).map(function(o){return r.formatkey(o)})}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}]),e}(),Dz=im,uo=null;function am(e,n){return e.x+=n,e.y+=n,e.text&&(e.text.x+=n,e.text.y+=n),e}function sm(e,n){return e.startPoint&&(e.startPoint.x+=n,e.startPoint.y+=n),e.endPoint&&(e.endPoint.x+=n,e.endPoint.y+=n),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=n,t.y+=n}),e.text&&(e.text.x+=n,e.text.y+=n),e}function Hu(e){return(Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function lm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function rs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?lm(Object(t),!0).forEach(function(r){Pn(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lm(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function um(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var td=function(){function e(n){var t=this;(function _z(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),Pn(this,"container",void 0),Pn(this,"width",void 0),Pn(this,"height",void 0),Pn(this,"graphModel",void 0),Pn(this,"history",void 0),Pn(this,"viewMap",new Map),Pn(this,"tool",void 0),Pn(this,"keyboard",void 0),Pn(this,"dnd",void 0),Pn(this,"options",void 0),Pn(this,"snaplineModel",void 0),Pn(this,"components",[]),Pn(this,"plugins",void 0),Pn(this,"extension",{}),Pn(this,"adapterIn",void 0),Pn(this,"adapterOut",void 0),Pn(this,"getView",function(r){return t.viewMap.get(r)}),n=Nv(n),this.options=n,this.container=n.container,this.plugins=n.plugins,this.graphModel=new WT(rs({},n)),this.tool=new wz(this),this.history=new K1(this.graphModel.eventCenter),this.dnd=new DP({lf:this}),this.keyboard=new Dz({lf:this,keyboard:n.keyboard}),!1!==n.snapline&&(this.snaplineModel=new Zy(this.graphModel),function Rz(e,n){e.on("node:mousemove",function(t){n.setNodeSnapLine(t.data)}),e.on("node:mouseup",function(){n.clearSnapline()})}(this.graphModel.eventCenter,this.snaplineModel)),function Iz(e,n){var t=e.keyboard,r=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(r.enabled&&!n.textEditElement){var o=e.options.guards,i=n.getSelectElements(!1);return o&&o.beforeClone&&!o.beforeClone(i)?(uo=null,!1):((uo=i).nodes.forEach(function(d){return am(d,40)}),uo.edges.forEach(function(d){return sm(d,40)}),!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(r.enabled&&!n.textEditElement){if(uo&&(uo.nodes||uo.edges)){e.clearSelectElements();var o=e.addElements(uo);if(!o)return;o.nodes.forEach(function(i){return e.selectElementById(i.id,!0)}),o.edges.forEach(function(i){return e.selectElementById(i.id,!0)}),uo.nodes.forEach(function(i){return am(i,40)}),uo.edges.forEach(function(i){return sm(i,40)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(r.enabled&&!n.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(r.enabled&&!n.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(r.enabled&&!n.textEditElement){var o=n.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(i){return e.deleteEdge(i.id)}),o.nodes.forEach(function(i){return e.deleteNode(i.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(n.disabledPlugins)}return function jz(e,n,t){return n&&um(e.prototype,n),t&&um(e,t),e}(e,[{key:"register",value:function(t,r){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var i={BaseEdge:es,BaseEdgeModel:Tc,BaseNode:No,BaseNodeModel:Mo,RectNode:yf,RectNodeModel:_l,CircleNode:bf,CircleNodeModel:bl,PolygonNode:xf,PolygonNodeModel:zl,TextNode:Nf,TextNodeModel:Bl,LineEdge:Hf,LineEdgeModel:Ha,DiamondNode:Cf,DiamondNodeModel:xl,PolylineEdge:Vf,PolylineEdgeModel:As,BezierEdge:$f,BezierEdgeModel:Zc,EllipseNode:Mf,EllipseNodeModel:Pl,HtmlNode:If,HtmlNodeModel:Gl,h:Ge.g,type:t};this.viewMap.forEach(function(I){var H=I.extendKey;H&&(i[H]=I)}),this.graphModel.modelMap.forEach(function(I){var H=I.extendKey;H&&(i[H]=I)});var l=r(i),m=l.model,P=l.view;o&&!P.isObervered&&(P.isObervered=!0,P=$e(P)),this.setView(t,P),this.graphModel.setModel(t,m)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var r=t.view;!1!==t.isObserverView&&!r.isObervered&&(r.isObervered=!0,r=$e(r)),this.setView(t.type,r),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:yf,model:_l,type:"rect"}),this.registerElement({type:"circle",view:bf,model:bl}),this.registerElement({type:"polygon",view:xf,model:zl}),this.registerElement({type:"line",view:Hf,model:Ha}),this.registerElement({type:"polyline",view:Vf,model:As}),this.registerElement({type:"bezier",view:$f,model:Zc}),this.registerElement({type:"text",view:Nf,model:Bl}),this.registerElement({type:"ellipse",view:Mf,model:Pl}),this.registerElement({type:"diamond",view:Cf,model:xl}),this.registerElement({type:"html",view:If,model:Gl})}},{key:"selectElementById",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.graphModel.selectElementById(t,r),!r&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var r=this.graphModel.transformModel,o=t.coordinate,i=t.id;if(!o){var l=this.getNodeModelById(i);l&&(o=l.getData());var d=this.getEdgeModelById(i);d&&(o=d.textPosition)}r.focusOn(o.x,o.y,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,r){this.graphModel.resize(t,r),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,r){this.graphModel.updateText(t,r)}},{key:"deleteElement",value:function(t){var r,o,i,l=this.getModelById(t);return!!l&&null!==(o=null===(i=(Pn(r={},An.NODE,this.deleteNode),Pn(r,An.EDGE,this.deleteEdge),r)[l.BaseType])||void 0===i?void 0:i.call(this,t))&&void 0!==o&&o}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,r){this.graphModel.changeNodeType(t,r)}},{key:"changeEdgeType",value:function(t,r){this.graphModel.changeEdgeType(t,r)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var r=this.graphModel.getNodeModelById(t);if(!r)return!1;var o=r.getData(),i=this.options.guards,l=!i||!i.beforeDelete||i.beforeDelete(o);return l&&this.graphModel.deleteNode(t),l}},{key:"cloneNode",value:function(t){var o=this.graphModel.getNodeModelById(t).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(o))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,r){return this.graphModel.changeNodeId(t,r)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var r=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var i=o.model.getData(),l=!r||!r.beforeDelete||r.beforeDelete(i);return l&&this.graphModel.deleteEdgeById(t),l}},{key:"deleteEdgeByNodeId",value:function(t){var r=t.sourceNodeId,o=t.targetNodeId;r&&o?this.graphModel.deleteEdgeBySourceAndTarget(r,o):r?this.graphModel.deleteEdgeBySource(r):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,r){return this.graphModel.changeEdgeId(t,r)}},{key:"getEdgeModelById",value:function(t){var r;return null===(r=this.graphModel.edgesMap[t])||void 0===r?void 0:r.model}},{key:"getEdgeModels",value:function(t){var r=this.graphModel.edges,o=t.sourceNodeId,i=t.targetNodeId;if(o&&i){var l=[];return r.forEach(function(P){P.sourceNodeId===o&&P.targetNodeId===i&&l.push(P)}),l}if(o){var d=[];return r.forEach(function(P){P.sourceNodeId===o&&d.push(P)}),d}if(i){var m=[];return r.forEach(function(P){P.targetNodeId===i&&m.push(P)}),m}return[]}},{key:"getEdgeDataById",value:function(t){var r;return null===(r=this.getEdgeModelById(t))||void 0===r?void 0:r.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,r){var o;null===(o=this.graphModel.getElement(t))||void 0===o||o.setProperties(Xn(r))}},{key:"deleteProperty",value:function(t,r){var o;null===(o=this.graphModel.getElement(t))||void 0===o||o.deleteProperty(r)}},{key:"getProperties",value:function(t){var r;return null===(r=this.graphModel.getElement(t))||void 0===r?void 0:r.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,r){return this.graphModel.setElementZIndex(t,r)}},{key:"addElements",value:function(t){for(var r=this,o=t.nodes,i=t.edges,l={},d={nodes:[],edges:[]},m=0;m<o.length;m++){var P=o[m],I=P.id,H=this.addNode(P);if(!H)return;I&&(l[I]=H.id),d.nodes.push(H)}return i.forEach(function(oe){var ue=oe.sourceNodeId,Ce=oe.targetNodeId;l[ue]&&(ue=l[ue]),l[Ce]&&(Ce=l[Ce]);var De=r.graphModel.addEdge(rs(rs({},oe),{},{sourceNodeId:ue,targetNodeId:Ce}));d.edges.push(De)}),d}},{key:"getAreaElement",value:function(t,r){return this.graphModel.getAreaElement(t,r,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4]).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){return this.graphModel.getSelectElements(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,r){return this.graphModel.getPointByClient({x:t,y:r})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=Xn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=Xn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,r){return this.graphModel.transformModel.zoom(t,r)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,r){this.graphModel.transformModel.translate(t,r)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel;this.translate(-t.TRANSLATE_X,-t.TRANSLATE_Y)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,r){void 0===r&&(r=t),this.graphModel.fitView(t,r)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,r){this.graphModel.eventCenter.on(t,r)}},{key:"off",value:function(t,r){this.graphModel.eventCenter.off(t,r)}},{key:"once",value:function(t,r){this.graphModel.eventCenter.once(t,r)}},{key:"emit",value:function(t,r){this.graphModel.eventCenter.emit(t,r)}},{key:"installPlugins",value:function(){var t,r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(null!==(t=this.plugins)&&void 0!==t?t:e.extensions).forEach(function(l){-1===o.indexOf(l.pluginName||l.name)&&r.installPlugin(l)})}},{key:"installPlugin",value:function(t){if("object"===Hu(t)){var r=t.install,o=t.render;return r&&r.call(t,this,e),o&&this.components.push(o.bind(t)),void(this.extension[t.pluginName]=t)}var i=t,l=new i({lf:this,LogicFlow:e});l.render&&this.components.push(l.render.bind(l)),this.extension[i.pluginName]=l}},{key:"updateAttributes",value:function(t,r){this.graphModel.updateAttributes(t,r)}},{key:"createFakerNode",value:function(t){var r=this.graphModel.modelMap.get(t.type);if(r){var o=new r(rs(rs({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(t.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,r){this.viewMap.set(t,r)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(Xn(t)),!1!==this.options.history&&this.history.watch(this.graphModel),Object(Ge.j)(Object(Ge.g)(AP,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Vt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var r=t.pluginName;r||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(t.name||t.constructor.name,"\u6307\u5b9apluginName!")),r=t.name);var o=this.extensions.get(r);o&&o.destroy&&o.destroy(),this.extensions.set(r,t)}}]),e}();function Vr(e){return $e(e)}Pn(td,"extensions",new Map),u.default=td}])},9336:(Jn,tn,C)=>{"use strict";C.d(tn,{EV:()=>Oe,t0:()=>ve,oT:()=>Ro,v2:()=>Nr,Ju:()=>wi,aC:()=>xe});var u=C(2188),E=function a(y,f){return y(f={exports:{}},f.exports),f.exports}(function(y){var f=y.exports=function(s,p){if(p||(p=16),void 0===s&&(s=128),s<=0)return"0";for(var g=Math.log(Math.pow(2,s))/Math.log(p),O=2;g===1/0;O*=2)g=Math.log(Math.pow(2,s/O))/Math.log(p)*O;var w=g-Math.floor(g),z="";for(O=0;O<Math.floor(g);O++)z=Math.floor(Math.random()*p).toString(p)+z;if(w){var ce=Math.pow(p,w);z=Math.floor(Math.random()*ce).toString(p)+z}var Q=parseInt(z,p);return Q!==1/0&&Q>=Math.pow(2,s)?f(s,p):z};f.rack=function(s,p,g){var O=function(z){var J=0;do{if(J++>10){if(!g)throw new Error("too many ID collisions, use more bits");s+=g}var ce=f(s,p)}while(Object.hasOwnProperty.call(w,ce));return w[ce]=z,ce},w=O.hats={};return O.get=function(z){return O.hats[z]},O.set=function(z,J){return O.hats[z]=J,O},O.bits=s||128,O.base=p||16,O}});function v(y){if(!(this instanceof v))return new v(y);this._seed=(y=y||[128,36,1]).length?E.rack(y[0],y[1],y[2]):y}v.prototype.next=function(y){return this._seed(y||!0)},v.prototype.nextPrefixed=function(y,f){var s;do{s=y+this.next(!0)}while(this.assigned(s));return this.claim(s,f),s},v.prototype.claim=function(y,f){this._seed.set(y,f||!0)},v.prototype.assigned=function(y){return this._seed.get(y)||!1},v.prototype.unclaim=function(y){delete this._seed.hats[y]},v.prototype.clear=function(){var f,y=this._seed.hats;for(f in y)this.unclaim(f)};const b=v;var x=new b([32,32,1]);function D(){return x.next()}var y,F=(y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)},function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}),R=function(y){function f(s,p){return s.id||(s.id="Event_"+D()),s.text||(s.text=""),s.text&&"string"==typeof s.text&&(s.text={value:s.text,x:s.x,y:s.y+40}),y.call(this,s,p)||this}return F(f,y),f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedTargetRules=function(){var s=y.prototype.getConnectedTargetRules.call(this);return s.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u7ec8\u70b9",validate:function(){return!1}}),s},f.extendKey="StartEventModel",f}(u.CircleNodeModel),U=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return F(f,y),f.extendKey="StartEventNode",f}(u.CircleNode);const X={type:"bpmn:startEvent",view:U,model:R};var $=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),K=function(){return K=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},K.apply(this,arguments)},de=function(y){function f(s,p){return s.id||(s.id="Event_"+D()),s.text||(s.text=""),s.text&&"string"==typeof s.text&&(s.text={value:s.text,x:s.x,y:s.y+40}),y.call(this,s,p)||this}return $(f,y),f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedSourceRules=function(){var s=y.prototype.getConnectedSourceRules.call(this);return s.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u8d77\u70b9",validate:function(){return!1}}),s},f.extendKey="EndEventModel",f}(u.CircleNodeModel),se=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return $(f,y),f.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},f.prototype.getShape=function(){var s=this.props.model,p=s.getNodeStyle(),g=s.x,O=s.y,w=s.r,z=y.prototype.getShape.call(this);return(0,u.h)("g",{},z,(0,u.h)("circle",K(K({},p),{cx:g,cy:O,r:w-5})))},f.extendKey="EndEventView",f}(u.CircleNode);const Ae={type:"bpmn:endEvent",view:se,model:de};var Te=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),Ne=function(){return Ne=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},Ne.apply(this,arguments)},Se=function(y){function f(s,p){var g=this;return s.id||(s.id="Gateway_"+D()),s.text||(s.text=""),s.text&&"string"==typeof s.text&&(s.text={value:s.text,x:s.x,y:s.y+40}),(g=y.call(this,s,p)||this).points=[[25,0],[50,25],[25,50],[0,25]],g}return Te(f,y),f.extendKey="ExclusiveGatewayModel",f}(u.PolygonNodeModel),ze=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Te(f,y),f.prototype.getShape=function(){var s=this.props.model,p=s.x,g=s.y,O=s.width,w=s.height,z=s.points,J=s.getNodeStyle();return(0,u.h)("g",{transform:"matrix(1 0 0 1 "+(p-O/2)+" "+(g-w/2)+")"},(0,u.h)("polygon",Ne(Ne({},J),{x:p,y:g,points:z})),(0,u.h)("path",Ne({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},J)))},f.extendKey="ExclusiveGatewayNode",f}(u.PolygonNode);const pe={type:"bpmn:exclusiveGateway",view:ze,model:Se};var W=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),k=function(){return k=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},k.apply(this,arguments)},le=function(y){function f(s,p){return s.id||(s.id="Activity_"+D()),y.call(this,s,p)||this}return W(f,y),f.extendKey="UserTaskModel",f}(u.RectNodeModel),be=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return W(f,y),f.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,g=s.y,O=s.width,w=s.height,z=s.getNodeStyle();return(0,u.h)("svg",{x:p-O/2+5,y:g-w/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,u.h)("path",{fill:z.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},f.prototype.getShape=function(){var s=this.props.model,p=s.x,g=s.y,O=s.width,w=s.height,z=s.radius,J=s.getNodeStyle();return(0,u.h)("g",{},[(0,u.h)("rect",k(k({},J),{x:p-O/2,y:g-w/2,rx:z,ry:z,width:O,height:w})),this.getLabelShape()])},f.extendKey="UserTaskNode",f}(u.RectNode);const Je={type:"bpmn:userTask",view:be,model:le};var we=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),Ye=function(){return Ye=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},Ye.apply(this,arguments)},it=function(y){function f(s,p){return s.id||(s.id="Activity_"+D()),y.call(this,s,p)||this}return we(f,y),f.extendKey="ServiceTaskModel",f}(u.RectNodeModel),ot=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return we(f,y),f.prototype.getLabelShape=function(){var s=this.props.model,p=s.x,g=s.y,O=s.width,w=s.height,z=s.getNodeStyle();return(0,u.h)("svg",{x:p-O/2+5,y:g-w/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,u.h)("path",{fill:z.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},f.prototype.getShape=function(){var s=this.props.model,p=s.x,g=s.y,O=s.width,w=s.height,z=s.radius,J=s.getNodeStyle();return(0,u.h)("g",{},[(0,u.h)("rect",Ye({x:p-O/2,y:g-w/2,rx:z,ry:z,width:O,height:w},J)),this.getLabelShape()])},f.extendKey="ServiceTaskNode",f}(u.RectNode);const ht={type:"bpmn:serviceTask",view:ot,model:it};var St=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),It=function(y){function f(s,p){return s.id||(s.id="Flow_"+D()),y.call(this,s,p)||this}return St(f,y),f.extendKey="SequenceFlowModel",f}(u.PolylineEdgeModel),zt=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return St(f,y),f.extendKey="SequenceFlowEdge",f}(u.PolylineEdge);const Et={type:"bpmn:sequenceFlow",view:zt,model:It};var ge={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Oe=function(){function y(f){var s=f.lf;s.setTheme(ge),s.register(X),s.register(Ae),s.register(pe),s.register(Je),s.register(ht),s.options.customBpmnEdge||(s.register(Et),s.setDefaultEdgeType("bpmn:sequenceFlow"))}return y.pluginName="bpmnElement",y}(),xe=function(){function y(f){var s=this,p=f.lf;this.lf=p,this.customCssRules="",this.useGlobalRules=!0,p.getSnapshot=function(g,O){s.getSnapshot(g,O)},p.getSnapshotBlob=function(g){return s.getSnapshotBlob(g)},p.getSnapshotBase64=function(g){return s.getSnapshotBase64(g)}}return y.prototype.getSvgRootElement=function(f){var s=this;return this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,f.graphModel.nodes.forEach(function(g){var ce=g.x-g.width/2,Q=g.y-g.height/2;ce<s.offsetX&&(s.offsetX=ce-5),Q<s.offsetY&&(s.offsetY=Q-5)}),f.graphModel.edges.forEach(function(g){g.pointsList&&g.pointsList.forEach(function(O){var w=O.x,z=O.y;w<s.offsetX&&(s.offsetX=w-5),z<s.offsetY&&(s.offsetY=z-5)})}),f.container.querySelector(".lf-canvas-overlay")},y.prototype.triggerDownload=function(f){var s=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),p=document.createElement("a");p.setAttribute("download",this.fileName),p.setAttribute("href",f),p.setAttribute("target","_blank"),p.dispatchEvent(s)},y.prototype.removeAnchor=function(f){for(var s=f.childNodes,p=f.childNodes&&f.childNodes.length,g=0;g<p;g++){var O=s[g];(O.classList&&Array.from(O.classList)||[]).indexOf("lf-anchor")>-1&&(f.removeChild(f.childNodes[g]),p--,g--)}},y.prototype.getSnapshot=function(f,s){var p=this;this.fileName=f||"logic-flow."+Date.now()+".png";var g=this.getSvgRootElement(this.lf);this.getCanvasData(g,s).then(function(O){var w=O.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(w)})},y.prototype.getSnapshotBase64=function(f){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(g){s.getCanvasData(p,f).then(function(O){var w=O.toDataURL("image/png");g({data:w,width:O.width,height:O.height})})})},y.prototype.getSnapshotBlob=function(f){var s=this,p=this.getSvgRootElement(this.lf);return new Promise(function(g){s.getCanvasData(p,f).then(function(O){O.toBlob(function(w){g({data:w,width:O.width,height:O.height})},"image/png")})})},y.prototype.getClassRules=function(){var f="";if(this.useGlobalRules)for(var s=document.styleSheets,p=0;p<s.length;p++)for(var g=s[p],O=0;O<g.cssRules.length;O++)f+=g.cssRules[O].cssText;return this.customCssRules&&(f+=this.customCssRules),f},y.prototype.getCanvasData=function(f,s){var p=this,g=f.cloneNode(!0),O=g.lastChild,w=O.childNodes&&O.childNodes.length;if(w)for(var z=0;z<w;z++){var J=O.childNodes[z],ce=J.classList&&Array.from(J.classList);if(ce&&ce.indexOf("lf-base")<0)O.removeChild(O.childNodes[z]),w--,z--;else{var Q=O.childNodes[z];Q&&Q.childNodes.forEach(function(Ke){p.removeAnchor(Ke.firstChild)})}}g.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var ke=window.devicePixelRatio||1,_e=document.createElement("canvas"),et=this.lf.graphModel.rootEl.querySelector(".lf-base").getBoundingClientRect(),Tt=this.lf.graphModel.transformModel,c=Tt.SCALE_Y,h=Math.ceil(et.width/Tt.SCALE_X),S=Math.ceil(et.height/c);_e.style.width=h+"px",_e.style.height=S+"px",_e.width=h*ke+80,_e.height=S*ke+80;var L=_e.getContext("2d");L.clearRect(0,0,_e.width,_e.height),L.scale(ke,ke),s?(L.fillStyle=s,L.fillRect(0,0,h*ke+80,S*ke+80)):L.clearRect(0,0,h,S);var ee=new Image,he=document.createElement("style");he.innerHTML=this.getClassRules();var Me=document.createElement("foreignObject");return Me.appendChild(he),g.appendChild(Me),new Promise(function(Ke){ee.onload=function(){L.drawImage(ee,0,0),Ke(_e)};var jt=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(g)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");ee.src=jt})},y.pluginName="snapshot",y}(),vt=new b([32,32,1]);function Ct(){return vt.next()}function Nt(y,f){for(var s=0;s<f;s++)y+="  ";return y}function Le(y,f,s,p){var g="";if(y instanceof Array)for(var O=0,w=y.length;O<w;O++)g+=Nt(s,p)+Le(y[O],f,s,p+1);else if("object"==typeof y){var z=!1;for(var J in g+=Nt(s,p)+"<"+f,y)"-"==J.charAt(0)?g+=" "+J.substr(1)+'="'+y[J].toString()+'"':z=!0;if(g+=z?">":" />",z){for(var J in y)"#text"==J?g+=y[J]:"#cdata"==J?g+="<![CDATA["+y[J]+"]]>":"-"!=J.charAt(0)&&(g+=Le(y[J],J,s,p+1));g+=Nt(s,p)+"</"+f+">"}}else g+=Nt(s,p)+"<"+f+">"+y.toString()+"</"+f+">";return g}var yt=function(){};(yt.ObjTree=function(){return this}).VERSION="0.23",yt.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',yt.ObjTree.prototype.attr_prefix="-",yt.ObjTree.prototype.parseXML=function(y){var f;if(window.DOMParser){var s=new DOMParser,p=s.parseFromString(y,"application/xml");if(!p)return;f=p.documentElement}else window.ActiveXObject&&((s=new ActiveXObject("Microsoft.XMLDOM")).async=!1,s.loadXML(y),f=s.documentElement);if(f)return this.parseDOM(f)},yt.ObjTree.prototype.parseHTTP=function(y,f,s){var J,p={};for(var g in f)p[g]=f[g];if(p.method||(p.method=typeof p.postBody>"u"&&typeof p.postbody>"u"&&typeof p.parameters>"u"?"get":"post"),s){p.asynchronous=!0;var O=this,w=s,z=p.onComplete;p.onComplete=function(Q){var ke;Q&&Q.responseXML&&Q.responseXML.documentElement&&(ke=O.parseDOM(Q.responseXML.documentElement)),w(ke,Q),z&&z(Q)}}else p.asynchronous=!1;if(typeof HTTP<"u"&&HTTP.Request)p.uri=y,(ce=new HTTP.Request(p))&&(J=ce.transport);else if(typeof Ajax<"u"&&Ajax.Request){var ce;(ce=new Ajax.Request(y,p))&&(J=ce.transport)}return s?J:J&&J.responseXML&&J.responseXML.documentElement?this.parseDOM(J.responseXML.documentElement):void 0},yt.ObjTree.prototype.parseDOM=function(y){if(y){if(this.__force_array={},this.force_array)for(var f=0;f<this.force_array.length;f++)this.__force_array[this.force_array[f]]=1;var s=this.parseElement(y);if(this.__force_array[y.nodeName]&&(s=[s]),11!=y.nodeType){var p={};p[y.nodeName]=s,s=p}return s}},yt.ObjTree.prototype.parseElement=function(y){if(7!=y.nodeType){if(3==y.nodeType||4==y.nodeType)return null==y.nodeValue.match(/[^\x00-\x20]/)?void 0:y.nodeValue;var s,p={};if(y.attributes&&y.attributes.length){s={};for(var g=0;g<y.attributes.length;g++)"string"==typeof(O=y.attributes[g].nodeName)&&(!(w=y.attributes[g].nodeValue)||(typeof p[O=this.attr_prefix+O]>"u"&&(p[O]=0),p[O]++,this.addNode(s,O,p[O],w)))}if(y.childNodes&&y.childNodes.length){var z=!0;for(s&&(z=!1),g=0;g<y.childNodes.length&&z;g++){var J=y.childNodes[g].nodeType;3==J||4==J||(z=!1)}if(z)for(s||(s=""),g=0;g<y.childNodes.length;g++)s+=y.childNodes[g].nodeValue;else for(s||(s={}),g=0;g<y.childNodes.length;g++){var O,w;"string"==typeof(O=y.childNodes[g].nodeName)&&(!(w=this.parseElement(y.childNodes[g]))||(typeof p[O]>"u"&&(p[O]=0),p[O]++,this.addNode(s,O,p[O],w)))}}return s}},yt.ObjTree.prototype.addNode=function(y,f,s,p){this.__force_array[f]?(1==s&&(y[f]=[]),y[f][y[f].length]=p):1==s?y[f]=p:2==s?y[f]=[y[f],p]:y[f][y[f].length]=p},yt.ObjTree.prototype.writeXML=function(y){var f=this.hash_to_xml(null,y);return this.xmlDecl+f},yt.ObjTree.prototype.hash_to_xml=function(y,f){var s=[],p=[];for(var g in f)if(f.hasOwnProperty(g)){var O=f[g];g.charAt(0)!=this.attr_prefix?s[s.length]=typeof O>"u"||null==O?"<"+g+" />":"object"==typeof O&&O.constructor==Array?this.array_to_xml(g,O):"object"==typeof O?this.hash_to_xml(g,O):this.scalar_to_xml(g,O):p[p.length]=" "+g.substring(1)+'="'+this.xml_escape(O)+'"'}var w=p.join(""),z=s.join("");return typeof y>"u"||null==y||(z=s.length>0?z.match(/\n/)?"<"+y+w+">\n"+z+"</"+y+">\n":"<"+y+w+">"+z+"</"+y+">\n":"<"+y+w+" />\n"),z},yt.ObjTree.prototype.array_to_xml=function(y,f){for(var s=[],p=0;p<f.length;p++){var g=f[p];s[s.length]=typeof g>"u"||null==g?"<"+y+" />":"object"==typeof g&&g.constructor==Array?this.array_to_xml(y,g):"object"==typeof g?this.hash_to_xml(y,g):this.scalar_to_xml(y,g)}return s.join("")},yt.ObjTree.prototype.scalar_to_xml=function(y,f){return"#text"==y?this.xml_escape(f):"<"+y+">"+this.xml_escape(f)+"</"+y+">\n"},yt.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Pt=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},Ut=(()=>(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"}(Ut||(Ut={})),Ut))(),$t=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Gt(y){var f={};return Object.entries(y).forEach(function(s){var p=Pt(s,2),g=p[0],O=p[1];"object"!=typeof O?0===g.indexOf("-")?f[g]=O:f["-"+g]=O:f[g]=Gt(O)}),f}function Yt(y){var f={};return Object.entries(y).forEach(function(s){var p=Pt(s,2),g=p[0],O=p[1];"string"==typeof O?0===g.indexOf("-")?f[g.substr(1)]=O:f[g]=O:f[g]="object"==typeof O?Yt(O):O}),f}function fn(y,f,s){var z,J,p=Number(y["dc:Bounds"]["-x"]),g=Number(y["dc:Bounds"]["-y"]),O=s["-name"],w=lt.shapeConfigMap.get(f);if(w&&(p+=w.width/2,g+=w.height/2),Object.entries(s).forEach(function(ke){var _e=Pt(ke,2),He=_e[0],et=_e[1];-1===$t.indexOf(He)&&(z||(z={}),z[He]=et)}),z&&(z=Yt(z)),O&&(J={x:p,y:g,value:O},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var ce=y["bpmndi:BPMNLabel"]["dc:Bounds"];J.x=Number(ce["-x"])+Number(ce["-width"])/2,J.y=Number(ce["-y"])+Number(ce["-height"])/2}var Q={id:y["-bpmnElement"],type:f,x:p,y:g,properties:z};return J&&(Q.text=J),Q}function Be(y,f){var s,w,p=f["-name"];if(p){var g=y["bpmndi:BPMNLabel"]["dc:Bounds"],O=0;p.split("\n").forEach(function(J){O<J.length&&(O=J.length)}),s={value:p,x:Number(g["-x"])+10*O/2,y:Number(g["-y"])+7}}Object.entries(f).forEach(function(J){var ce=Pt(J,2),Q=ce[0],ke=ce[1];-1===$t.indexOf(Q)&&(w||(w={}),w[Q]=ke)}),w&&(w=Yt(w));var z={id:f["-id"],type:Ut.FLOW,pointsList:y["di:waypoint"].map(function(J){return{x:Number(J["-x"]),y:Number(J["-y"])}}),sourceNodeId:f["-sourceRef"],targetNodeId:f["-targetRef"],properties:w};return s&&(z.text=s),z}var lt={pluginName:"bpmn-adapter",install:function(y){y.adapterIn=this.adapterIn,y.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(y,f){this.shapeConfigMap.set(y,f)},adapterOut:function(y){var f={"-id":"Process_"+Ct(),"-isExecutable":"false"};!function sn(y,f){var s=new Map;f.nodes.forEach(function(g){var O,w={"-id":g.id};if(!(null===(O=g.text)||void 0===O)&&O.value&&(w["-name"]=g.text.value),g.properties){var z=Gt(g.properties);Object.assign(w,z)}s.set(g.id,w),y[g.type]?Array.isArray(y[g.type])?y[g.type].push(w):y[g.type]=[y[g.type],w]:y[g.type]=w});var p=f.edges.map(function(g){var O,w,z=s.get(g.targetNodeId);z["bpmn:incoming"]?Array.isArray(z["bpmn:incoming"])?z["bpmn:incoming"].push(g.id):z["bpmn:incoming"]=[z["bpmn:incoming"],g.id]:z["bpmn:incoming"]=g.id;var J=s.get(g.sourceNodeId);J["bpmn:outgoing"]?Array.isArray(J["bpmn:outgoing"])?J["bpmn:outgoing"].push(g.id):J["bpmn:outgoing"]=[J["bpmn:outgoing"],g.id]:J["bpmn:outgoing"]=g.id;var ce={"-id":g.id,"-sourceRef":g.sourceNodeId,"-targetRef":g.targetNodeId};if(!(null===(O=g.text)||void 0===O)&&O.value&&(ce["-name"]=null===(w=g.text)||void 0===w?void 0:w.value),g.properties){var Q=Gt(g.properties);Object.assign(ce,Q)}return ce});y[Ut.FLOW]=p}(f,y);var s={"-id":"BPMNPlane_1","-bpmnElement":f["-id"]};return function Zt(y,f){y["bpmndi:BPMNEdge"]=f.edges.map(function(s){var p,g=s.id,w={"-id":g+"_di","-bpmnElement":g,"di:waypoint":s.pointsList.map(function(z){return{"-x":z.x,"-y":z.y}})};return!(null===(p=s.text)||void 0===p)&&p.value&&(w["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-10*s.text.value.length/2,"-y":s.text.y-7,"-width":10*s.text.value.length,"-height":14}}),w}),y["bpmndi:BPMNShape"]=f.nodes.map(function(s){var p,g=s.id,O=100,w=80,z=s.x,J=s.y,ce=lt.shapeConfigMap.get(s.type);ce&&(O=ce.width,w=ce.height);var Q={"-id":g+"_di","-bpmnElement":g,"dc:Bounds":{"-x":z-=O/2,"-y":J-=w/2,"-width":O,"-height":w}};return!(null===(p=s.text)||void 0===p)&&p.value&&(Q["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-10*s.text.value.length/2,"-y":s.text.y-7,"-width":10*s.text.value.length,"-height":14}}),Q})}(s,y),{"bpmn:definitions":{"-id":"Definitions_"+Ct(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":f,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s}}}},adapterIn:function(y){if(y)return function un(y){var f=[],s=[],p=y["bpmn:definitions"];if(p){var g=p["bpmn:process"];Object.keys(g).forEach(function(O){if(0===O.indexOf("bpmn:")){var w=g[O];O===Ut.FLOW?s=function cn(y,f){var p,s=[];Array.isArray(y)?y.forEach(function(g){var O;O=Array.isArray(f)?f.find(function(w){return w["-bpmnElement"]===g["-id"]}):f,s.push(Be(O,g))}):(p=Array.isArray(f)?f.find(function(g){return g["-bpmnElement"]===y["-id"]}):f,s.push(Be(p,y)));return s}(w,p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"]):f=f.concat(function gn(y,f,s){var p=[];if(Array.isArray(y))y.forEach(function(w){var J=fn(Array.isArray(f)?f.find(function(ce){return ce["-bpmnElement"]===w["-id"]}):f,s,w);p.push(J)});else{var g;g=Array.isArray(f)?f.find(function(w){return w["-bpmnElement"]===y["-id"]}):f;var O=fn(g,s,y);p.push(O)}return p}(w,p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"],O))}})}return{nodes:f,edges:s}}(y)}};lt.shapeConfigMap.set(Ut.START,{width:40,height:40}),lt.shapeConfigMap.set(Ut.END,{width:40,height:40}),lt.shapeConfigMap.set(Ut.GATEWAY,{width:40,height:40}),lt.shapeConfigMap.set(Ut.SYSTEM,{width:100,height:80}),lt.shapeConfigMap.set(Ut.USER,{width:100,height:80});var ve={pluginName:"bpmnXmlAdapter",install:function(y){y.adapterIn=this.adapterXmlIn,y.adapterOut=this.adapterXmlOut},adapterXmlIn:function(y){var f=function(y){return(new yt.ObjTree).parseXML(y)}(y);return lt.adapterIn(f)},adapterXmlOut:function(y){return function Rt(y){var f="";for(var s in y)f+=Le(y[s],s,"\t\n",0);return f}(lt.adapterOut(y))}},$e=function(){return $e=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},$e.apply(this,arguments)},fe={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function ne(y){switch(y){case"bpmn:sequenceFlow":return 1;case"bpmn:startEvent":return 2;case"bpmn:endEvent":return 3;case"bpmn:userTask":return 4;case"bpmn:exclusiveGateway":return 6;default:return y}}function ae(y){var f={nodes:[],edges:[]},s=y.flowElementList;return s&&s.length>0&&s.forEach(function(p){if(1===p.type){var g=function M(y){var p=y.properties,J=p.startPoint,ce=p.endPoint,Q=p.pointsList,ke={id:y.key,type:fe[y.type],sourceNodeId:y.incoming[0],targetNodeId:y.outgoing[0],text:p.text||p.name,properties:{}};J&&(ke.startPoint=JSON.parse(J)),ce&&(ke.endPoint=JSON.parse(ce)),Q&&(ke.pointsList=JSON.parse(Q));var _e=["startPoint","endPoint","pointsList","text"];return Object.keys(y.properties).forEach(function(He){-1===_e.indexOf(He)&&(ke.properties[He]=y.properties[He])}),ke}(p);f.edges.push(g)}else{var O=function B(y){var f=y.properties,s=y.key,p=y.type,O=f.x,w=f.y,z=f.text;if(void 0===O){var J=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O}(y.bounds,2),ce=J[0],_e=J[1];O=(ce.x+_e.x)/2,w=(ce.y+_e.y)/2}var wt={id:s,type:fe[p],x:O,y:w,text:z,properties:{}},Tt=["x","y","text"];return Object.keys(y.properties).forEach(function(pt){-1===Tt.indexOf(pt)&&(wt.properties[pt]=y.properties[pt])}),wt}(p);f.nodes.push(O)}}),f}!function(){function y(f){var s=f.lf;s.adapterIn=this.adapterIn,s.adapterOut=this.adapterOut}y.prototype.adapterOut=function(f){if(f)return function T(y){var f=new Map,s={flowElementList:[]};return y.nodes.forEach(function(p){var g=function _(y){var f=y.id,p=y.x,g=y.y,O=y.text,w=void 0===O?"":O,z=y.properties;return{incoming:[],outgoing:[],dockers:[],type:ne(y.type),properties:$e($e({},z),{name:w&&w.value||"",x:p,y:g,text:w}),key:f}}(p);s.flowElementList.push(g),f.set(p.id,g)}),y.edges.forEach(function(p){var g=function j(y){var f=y.id,O=y.startPoint,w=y.endPoint,z=y.pointsList,J=y.text,ce=void 0===J?"":J,Q=y.properties;return{incoming:[y.sourceNodeId],outgoing:[y.targetNodeId],type:ne(y.type),dockers:[],properties:$e($e({},Q),{name:ce&&ce.value||"",text:ce,startPoint:JSON.stringify(O),endPoint:JSON.stringify(w),pointsList:JSON.stringify(z)}),key:f}}(p);f.get(p.sourceNodeId).outgoing.push(g.key),f.get(p.targetNodeId).incoming.push(g.key),s.flowElementList.push(g)}),s}(f)},y.prototype.adapterIn=function(f){if(f)return ae(f)},y.pluginName="turboAdapter"}();var ft=(()=>(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"}(ft||(ft={})),ft))(),dt=function(y,f,s){var p=y.x,g=y.y;return(p-f.x)*(p-s.x)<=0&&(g-f.y)*(g-s.y)<=0},Ft=function(y,f,s){var p=function(y){var f=y.x,s=y.y,p=y.width,g=y.height;return{minX:f-p/2,minY:s-g/2,maxX:f+p/2,maxY:s+g/2,x:f,y:s,width:p,height:g,centerX:f,centerY:s}}(y),g=function(y,f){var s;return y.x===f.x?s=ft.VERTICAL:y.y===f.y&&(s=ft.HORIZONTAL),s}(f,s),O=Math.max(f.x,s.x),w=Math.min(f.x,s.x),z=Math.max(f.y,s.y),J=Math.min(f.y,s.y),ce=y.x,Q=y.y,ke=y.width,_e=y.height;if(g===ft.HORIZONTAL){if(f.y===Q&&O>=p.maxX&&w<=p.minX)return{startCrossPoint:{x:f.x>s.x?ce+ke/2:ce-ke/2,y:Q},endCrossPoint:{x:f.x>s.x?ce-ke/2:ce+ke/2,y:Q}}}else if(g===ft.VERTICAL&&f.x===y.x&&z>=p.maxY&&J<=p.minY)return{startCrossPoint:{x:ce,y:f.y>s.y?Q+_e/2:Q-_e/2},endCrossPoint:{x:ce,y:f.y>s.y?Q-_e/2:Q+_e/2}}},En=function(y,f){for(var s=y.x,p=y.y,g=f.pointsList,O=0;O<g.length-1;O++)if(dt({x:s,y:p},g[O],g[O+1])){var w=Ft(y,g[O],g[O+1]);if(w)return{crossIndex:O+1,crossPoints:w}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Bn=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},Yr=function(){for(var y=[],f=0;f<arguments.length;f++)y=y.concat(Bn(arguments[f]));return y};!function(){function y(f){this._lf=f.lf,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}y.prototype.eventHandler=function(){var f=this;this.dndAdd&&this._lf.on("node:dnd-add",function(s){f.insetNode(s.data)}),this.dropAdd&&this._lf.on("node:drop",function(s){for(var p=s.data,g=f._lf.graphModel.edges,O=p.id,w=!0,z=0;z<g.length;z++)if(g[z].sourceNodeId===O||g[z].targetNodeId===O){w=!1;break}w&&f.insetNode(p)})},y.prototype.insetNode=function(f){for(var s=this._lf.graphModel.edges,p=this._lf.getNodeModelById(f.id),g=0;g<s.length;g++){var O=En(p,s[g]),w=O.crossIndex,z=O.crossPoints;if(w>=0){var J=s[g],Q=J.targetNodeId,ke=J.id,_e=J.type,He=J.pointsList;this._lf.addEdge({type:_e,sourceNodeId:J.sourceNodeId,targetNodeId:f.id,pointsList:Yr(He.slice(0,w),[z.startCrossPoint])}),this._lf.addEdge({type:_e,sourceNodeId:f.id,targetNodeId:Q,pointsList:Yr([z.endCrossPoint],He.slice(w))}),this._lf.deleteEdge(ke);break}}},y.pluginName="insertNodeInPolyline"}();var Hn=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},Ro=function(){function y(f){var s=this,p=f.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){s.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){s.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){s.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){s.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){s.lf.redo()}}],this.lf=p}return y.prototype.render=function(f,s){this.destroy();var p=this.getControlTool();this.toolEl=p,s.appendChild(p),this.domContainer=s},y.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},y.prototype.addItem=function(f){this.controlItems.push(f)},y.prototype.removeItem=function(f){var s=this.controlItems.findIndex(function(p){return p.key===f});return this.controlItems.splice(s,1)[0]},y.prototype.getControlTool=function(){var f=this,s="lf-control-item",p="lf-control-item disabled",g=document.createElement("div"),O=[];return g.className="lf-control",this.controlItems.forEach(function(w){var z=document.createElement("div"),J=document.createElement("i"),ce=document.createElement("span");switch(z.className=p,w.onClick&&(z.onclick=w.onClick.bind(null,f.lf)),w.onMouseEnter&&(z.onmouseenter=w.onMouseEnter.bind(null,f.lf)),w.onMouseLeave&&(z.onmouseleave=w.onMouseLeave.bind(null,f.lf)),J.className=w.iconClass,ce.className="lf-control-text",ce.title=w.title,ce.innerText=w.text,z.append(J,ce),w.text){case"\u4e0a\u4e00\u6b65":f.lf.on("history:change",function(Q){z.className=Q.data.undoAble?s:p});break;case"\u4e0b\u4e00\u6b65":f.lf.on("history:change",function(Q){z.className=Q.data.redoAble?s:p});break;default:z.className=s}O.push(z)}),g.append.apply(g,function(){for(var y=[],f=0;f<arguments.length;f++)y=y.concat(Hn(arguments[f]));return y}(O)),g},y.pluginName="control",y}(),Ge=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},sr="lf:defaultNodeMenu",po="lf:defaultEdgeMenu",Un="lf:defaultGraphMenu",_o="lf:defaultSelectionMenu",Nr=function(){function y(f){var s=this,p=f.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(g){s.setMenuConfig(g)},this.lf.addMenuConfig=function(g){s.addMenuConfig(g)},this.lf.setMenuByType=function(g){s.setMenuByType(g)}}return y.prototype.init=function(){var f=this;this.menuTypeMap.set(sr,[{text:"\u5220\u9664",callback:function(O){f.lf.deleteNode(O.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(O){f.lf.graphModel.editText(O.id)}},{text:"\u590d\u5236",callback:function(O){f.lf.cloneNode(O.id)}}]),this.menuTypeMap.set(po,[{text:"\u5220\u9664",callback:function(O){f.lf.deleteEdge(O.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(O){f.lf.graphModel.editText(O.id)}}]),this.menuTypeMap.set(Un,[]),this.menuTypeMap.set(_o,[{text:"\u5220\u9664",callback:function(O){f.lf.clearSelectElements(),O.edges.forEach(function(w){return f.lf.deleteEdge(w.id)}),O.nodes.forEach(function(w){return f.lf.deleteNode(w.id)})}}])},y.prototype.render=function(f,s){var p=this;this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(g){g.stopPropagation();for(var O=g.target;-1===Array.from(O.classList).indexOf("lf-menu-item")&&-1===Array.from(O.classList).indexOf("lf-menu");)O=O.parentElement;Array.from(O.classList).indexOf("lf-menu-item")>-1?(O.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")},!0),this.lf.on("node:contextmenu",function(g){var _e,O=g.data,z=g.position.domOverlayPosition,J=z.x,ce=z.y,ke=p.lf.graphModel.getNodeModelById(O.id),He=p.menuTypeMap.get(ke.type);_e=ke&&ke.menu&&Array.isArray(ke.menu)?ke.menu:He||p.menuTypeMap.get(sr),p.__currentData=O,p.showMenu(J,ce,_e)}),this.lf.on("edge:contextmenu",function(g){var _e,O=g.data,z=g.position.domOverlayPosition,J=z.x,ce=z.y,ke=p.lf.graphModel.getEdgeModelById(O.id),He=p.menuTypeMap.get(ke.type);_e=ke&&ke.menu&&Array.isArray(ke.menu)?ke.menu:He||p.menuTypeMap.get(po),p.__currentData=O,p.showMenu(J,ce,_e)}),this.lf.on("blank:contextmenu",function(g){var O=g.position,w=p.menuTypeMap.get(Un),z=O.domOverlayPosition;p.showMenu(z.x,z.y,w)}),this.lf.on("selection:contextmenu",function(g){var O=g.data,w=g.position,z=p.menuTypeMap.get(_o),J=w.domOverlayPosition,ce=J.x,Q=J.y;p.__currentData=O,p.showMenu(ce,Q,z)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},y.prototype.destroy=function(){var f;null===(f=null==this?void 0:this.__container)||void 0===f||f.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(f,s,p){if(p&&p.length){var g=this.__menuDOM;g.innerHTML="",g.append.apply(g,function(){for(var y=[],f=0;f<arguments.length;f++)y=y.concat(Ge(arguments[f]));return y}(this.__getMenuDom(p))),g.children.length&&(g.style.display="block",g.style.top=s+"px",g.style.left=f+"px")}},y.prototype.setMenuByType=function(f){!f.type||!f.menu||this.menuTypeMap.set(f.type,f.menu)},y.prototype.__getMenuDom=function(f){var s=[];return f&&f.length>0&&f.forEach(function(p){var g=document.createElement("li");if(g.className=p.className?"lf-menu-item "+p.className:"lf-menu-item",!0===p.icon){var O=document.createElement("span");O.className="lf-menu-item-icon",g.appendChild(O)}var w=document.createElement("span");w.className="lf-menu-item-text",p.text&&(w.innerText=p.text),g.appendChild(w),g.onclickCallback=p.callback,s.push(g)}),s},y.prototype.setMenuConfig=function(f){!f||(void 0!==f.nodeMenu&&this.menuTypeMap.set(sr,f.nodeMenu?f.nodeMenu:[]),void 0!==f.edgeMenu&&this.menuTypeMap.set(po,f.edgeMenu?f.edgeMenu:[]),void 0!==f.graphMenu&&this.menuTypeMap.set(Un,f.graphMenu?f.graphMenu:[]))},y.prototype.addMenuConfig=function(f){if(f){if(Array.isArray(f.nodeMenu)){var s=this.menuTypeMap.get(sr);this.menuTypeMap.set(sr,s.concat(f.nodeMenu))}Array.isArray(f.edgeMenu)&&(s=this.menuTypeMap.get(po),this.menuTypeMap.set(po,s.concat(f.edgeMenu))),Array.isArray(f.graphMenu)&&(s=this.menuTypeMap.get(Un),this.menuTypeMap.set(Un,s.concat(f.graphMenu)))}},y.prototype.changeMenuItem=function(f,s){if("add"===f)this.addMenuConfig(s);else{if("reset"!==f)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(s)}},y.pluginName="menu",y}(),yr="menu-common";!function(){function y(f){var s=this,p=f.lf;this.menuTypeMap=new Map,this.listenDelete=function(){s.hideContextMenu()},this.lf=p,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(yr,[]),this.lf.setContextMenuByType=function(g,O){s.setContextMenuByType(g,O)},this.lf.setContextMenuItems=function(g){s.setContextMenuItems(g)},this.lf.showContextMenu=function(g){s.showContextMenu(g)},this.lf.hideContextMenu=function(){s.hideContextMenu()}}y.prototype.render=function(f,s){var p=this;this.container=s,f.on("node:click",function(g){p._activeData=g.data,p.createContextMenu()}),f.on("edge:click",function(g){p._activeData=g.data,p.createContextMenu()}),f.on("blank:click",function(){p.hideContextMenu()})},y.prototype.setContextMenuByType=function(f,s){this.menuTypeMap.set(f,s)},y.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},y.prototype.showContextMenu=function(f){f&&f.id?(this._activeData=f,this.createContextMenu()):console.warn("\u8bf7\u68c0\u67e5\u4f20\u5165\u7684\u53c2\u6570")},y.prototype.setContextMenuItems=function(f){this.menuTypeMap.set(yr,f)},y.prototype.getContextMenuPosition=function(){var f=this._activeData,s=this.lf.graphModel.getElement(f.id);if(s){var p,g;if("edge"===s.BaseType){p=Number.MIN_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER;var O=s.getData();p=Math.max(O.startPoint.x,p),g=Math.min(O.startPoint.y,g),p=Math.max(O.endPoint.x,p),g=Math.min(O.endPoint.y,g),O.pointsList&&O.pointsList.forEach(function(w){p=Math.max(w.x,p),g=Math.min(w.y,g)})}return"node"===s.BaseType&&(p=f.x+s.width/2,g=f.y-s.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([p,g])}console.warn("\u627e\u4e0d\u5230\u5143\u7d20"+f.id)},y.prototype.createContextMenu=function(){var f=this;if(!this.lf.options.isSilentMode){var p=this.menuTypeMap.get(this._activeData.type)||[];p=p.concat(this.menuTypeMap.get(yr));var g=document.createDocumentFragment();p.forEach(function(O){var w=document.createElement("div");w.className="lf-context-item";var z=document.createElement("img");z.src=O.icon,z.className="lf-context-img",O.className&&(w.className=w.className+" "+O.className),z.addEventListener("click",function(){f.hideContextMenu(),O.callback?O.callback(f._activeData):f.addNode({sourceId:f._activeData.id,x:f._activeData.x,y:f._activeData.y,properties:O.properties,type:O.type})}),w.appendChild(z),g.appendChild(w)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(g),this.showMenu()}},y.prototype.addNode=function(f,s){var p=void 0!==s;void 0===s&&(s=f.y);var g=this.lf.getNodeModelById(f.sourceId);if(this.lf.getAreaElement([f.x-g.width+200,s-f.y/2-20],[f.x+g.width+200,s+f.y/2+20]).length)this.addNode(f,s+=100);else{var ke,_e,Q=this.lf.addNode({type:f.type,x:f.x+200,y:s,properties:f.properties});p&&(ke={x:f.x,y:f.y+g.height/2},_e={x:Q.x-Q.width/2,y:Q.y}),this.lf.addEdge({sourceNodeId:f.sourceId,targetNodeId:Q.id,startPoint:ke,endPoint:_e})}},y.prototype.showMenu=function(){var f=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O}(this.getContextMenuPosition(),2),s=f[0],p=f[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=p+"px",this.__menuDOM.style.left=s+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},y.pluginName="contextMenu"}(),function(){function y(f){var s=this;this.lf=f.lf,this.lf.setPatternItems=function(g){s.setPatternItems(g)}}y.prototype.render=function(f,s){var p=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(g){p.panelEl.appendChild(p.createDndItem(g))}),s.appendChild(this.panelEl),this.domContainer=s):this.domContainer=s},y.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},y.prototype.setPatternItems=function(f){this.shapeList=f,this.domContainer&&this.render(this.lf,this.domContainer)},y.prototype.createDndItem=function(f){var s=this,p=document.createElement("div");p.className=f.className?"lf-dnd-item "+f.className:"lf-dnd-item";var g=document.createElement("div");if(g.className="lf-dnd-shape",f.icon&&(g.style.backgroundImage="url("+f.icon+")"),p.appendChild(g),f.label){var O=document.createElement("div");O.innerText=f.label,O.className="lf-dnd-text",p.appendChild(O)}return p.onmousedown=function(){f.type&&s.lf.dnd.startDrag({type:f.type,properties:f.properties,text:f.text}),f.callback&&f.callback(s.lf,s.domContainer)},p},y.pluginName="dndPanel"}();var wi=function(){function y(f){var s=this,p=f.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(O){var w=s.lf.getPointByClient(O.clientX,O.clientY).domOverlayPosition,z=w.x,J=w.y;s.endPoint={x:z,y:J};var ce=s.startPoint,Q=ce.x,ke=ce.y,_e=s.wrapper.style,He=Q,et=ke,wt=z-Q,Tt=J-ke;z<Q&&(He=z,wt=Q-z),J<ke&&(et=J,Tt=ke-J),_e.left=He+"px",_e.top=et+"px",_e.width=wt+"px",_e.height=Tt+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",s.__draw),document.removeEventListener("mouseup",s.__drawOff),s.wrapper.oncontextmenu=null,s.__domContainer.removeChild(s.wrapper);var O=s.startPoint,w=O.x,z=O.y,J=s.endPoint,ce=J.x,Q=J.y;if(!(Math.abs(ce-w)<10&&Math.abs(Q-z)<10)){var ke=[Math.min(w,ce),Math.min(z,Q)],_e=[Math.max(w,ce),Math.max(z,Q)],He=s.lf.graphModel.getAreaElement(ke,_e,s.isWholeEdge,s.isWholeNode,!0),et=s.lf.graphModel.group;He.forEach(function(wt){(!et||!et.getNodeGroup(wt.id))&&s.lf.selectElementById(wt.id,!0)}),s.lf.emit("selection:selected",He)}},this.lf=p;var g=p.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=g,p.openSelectionSelect=function(){s.openSelectionSelect()},p.closeSelectionSelect=function(){s.closeSelectionSelect()}}return y.prototype.render=function(f,s){var p=this;this.__domContainer=s,f.on("blank:mousedown",function(g){var O=g.e;if(f.getEditConfig().stopMoveGraph&&!p.__disabled){var z=f.getPointByClient(O.clientX,O.clientY).domOverlayPosition,J=z.x,ce=z.y;p.startPoint={x:J,y:ce},p.endPoint={x:J,y:ce};var Q=document.createElement("div");Q.className="lf-selection-select",Q.oncontextmenu=function(_e){_e.preventDefault()},Q.style.top=p.startPoint.y+"px",Q.style.left=p.startPoint.x+"px",s.appendChild(Q),p.wrapper=Q,document.addEventListener("mousemove",p.__draw),document.addEventListener("mouseup",p.__drawOff)}})},y.prototype.setSelectionSense=function(f,s){void 0===f&&(f=!0),void 0===s&&(s=!0),this.isWholeEdge=f,this.isWholeNode=s},y.prototype.openSelectionSelect=function(){this.lf.getEditConfig().stopMoveGraph||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},y.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selectionSelect",y}();!function(){function y(f){var s=this,p=f.lf,g=f.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(O,w){s.__setView(),s.__isShow||s.__createMiniMap(O,w),s.__isShow=!0},this.hide=function(){s.__isShow&&s.__removeMiniMap(),s.__isShow=!1},this.__startDrag=function(O){document.addEventListener("mousemove",s.__drag),document.addEventListener("mouseup",s.__drop),s.__startPosition={x:O.x,y:O.y}},this.moveViewport=function(O,w){var z=s.__viewport.style;s.__viewPortTop=O,s.__viewPortLeft=w,z.top=s.__viewPortTop+"px",z.left=s.__viewPortLeft+"px"},this.__drag=function(O){s.moveViewport(s.__viewPortTop+O.y-s.__startPosition.y,s.__viewPortLeft+O.x-s.__startPosition.x),s.__startPosition={x:O.x,y:O.y},s.__lf.focusOn({coordinate:{x:(s.__viewPortLeft+s.__viewPortWidth/2)/s.__viewPortScale+s.__resetDataX,y:(s.__viewPortTop+s.__viewPortHeight/2)/s.__viewPortScale+s.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",s.__drag),document.removeEventListener("mouseup",s.__drop);var O=s.__viewPortTop,w=s.__viewPortLeft;s.__viewPortLeft>s.__width&&(w=s.__width-s.__viewPortWidth),s.__viewPortTop>s.__height&&(O=s.__height-s.__viewPortHeight),s.__viewPortLeft<-s.__width&&(w=0),s.__viewPortTop<-s.__height&&(O=0),s.moveViewport(O,w)},this.__lf=p,this.__miniMapWidth=p.graphModel.width,this.__miniMapHeight=220*p.graphModel.width/150,this.__LogicFlow=g,this.__init()}y.prototype.render=function(f,s){var p=this;this.__container=s,this.__lf.on("history:change",function(){p.__isShow&&p.__setView()}),this.__lf.on("blank:drop",function(){p.__isShow&&p.__setView()})},y.prototype.init=function(f){this.__disabledPlugins=this.__disabledPlugins.concat(f.disabledPlugins||[])},y.prototype.__init=function(){var f=document.createElement("div");f.className="lf-mini-map-graph",f.style.width=this.__width+"px",f.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:f,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(s){return s},this.__lfMap.adapterOut=function(s){return s},this.__miniMapWrap=f,this.__createViewPort()},y.prototype.__createMiniMap=function(f,s){var p=document.createElement("div");p.appendChild(this.__miniMapWrap),typeof f<"u"&&typeof s<"u"&&(p.style.left=f+"px",p.style.top=s+"px"),p.style.position="absolute",p.className="lf-mini-map",this.__container.appendChild(p),this.__miniMapWrap.appendChild(this.__viewport);var O=document.createElement("div");O.className="lf-mini-map-header",O.innerText="\u5bfc\u822a",p.appendChild(O);var w=document.createElement("span");w.className="lf-mini-map-close",w.addEventListener("click",this.hide),p.appendChild(w),this.__miniMapContainer=p},y.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},y.prototype.__getBounds=function(f){var s=0,p=this.__miniMapWidth,g=0,O=this.__miniMapHeight,w=f.nodes;return w&&w.length>0&&w.forEach(function(z){var J=z.x,ce=z.y,Q=z.width,ke=void 0===Q?200:Q,_e=z.height,He=void 0===_e?200:_e,et=J-ke/2,wt=J+ke/2,Tt=ce-He/2,pt=ce+He/2;s=et<s?et:s,p=wt>p?wt:p,g=Tt<g?Tt:g,O=pt>O?pt:O}),{left:s,top:g,bottom:O,right:p}},y.prototype.__resetData=function(f){var s=f.nodes,p=f.edges,g=0,O=0;return s&&s.length>0&&(s.forEach(function(w){var ce=w.width,ke=w.height,He=w.x-(void 0===ce?200:ce)/2,et=w.y-(void 0===ke?200:ke)/2;g=He<g?He:g,O=et<O?et:O}),(g<0||O<0)&&(this.__resetDataX=g,this.__resetDataY=O,s.forEach(function(w){w.x=w.x-g,w.y=w.y-O,w.text&&(w.text.x=w.text.x-g,w.text.y=w.text.y-O)}),p.forEach(function(w){w.startPoint&&(w.startPoint.x=w.startPoint.x-g,w.startPoint.y=w.startPoint.y-O),w.endPoint&&(w.endPoint.x=w.endPoint.x-g,w.endPoint.y=w.endPoint.y-O),w.text&&(w.text.x=w.text.x-g,w.text.y=w.text.y-O),w.pointsList&&w.pointsList.forEach(function(z){z.x=z.x-g,z.y=z.y-O})}))),f},y.prototype.__setView=function(){var f,s,p=this.__resetData(this.__lf.getGraphRawData()),g=this.__lf.viewMap,O=this.__lf.graphModel.modelMap,w=this.__lfMap.viewMap;try{for(var z=function(y){var f="function"==typeof Symbol&&Symbol.iterator,s=f&&y[f],p=0;if(s)return s.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&p>=y.length&&(y=void 0),{value:y&&y[p++],done:!y}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")}(g.keys()),J=z.next();!J.done;J=z.next()){var ce=J.value;w.has(ce)||(this.__lfMap.setView(ce,g.get(ce)),this.__lfMap.graphModel.modelMap.set(ce,O.get(ce)))}}catch(h){f={error:h}}finally{try{J&&!J.done&&(s=z.return)&&s.call(z)}finally{if(f)throw f.error}}this.__lfMap.render(p);var Q=this.__getBounds(p),ke=Q.left,_e=Q.top,He=Q.right,et=Q.bottom,pt=this.__miniMapWrap.firstChild.style,c=Math.min(this.__width/(He-ke),this.__height/(et-_e));pt.transform="matrix("+c+", 0, 0, "+c+", 0, 0)",pt.transformOrigin="left top",pt.height=et-Math.min(_e,0)+"px",pt.width=He-Math.min(ke,0)+"px",this.__viewPortScale=c,this.__setViewPort(c,{left:ke,top:_e,right:He,bottom:et})},y.prototype.__setViewPort=function(f,s){var p=s.left,g=s.right,z=this.__viewport.style;z.width=this.__width-4+"px",z.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var J=this.__lf.getTransform(),ce=J.TRANSLATE_X,Q=J.TRANSLATE_Y,_e=(this.__width-4)/((g-p)/this.__lf.graphModel.width),et=_e/(this.__lf.graphModel.width/this.__lf.graphModel.height);this.__viewPortTop=Q>0?0:-Q*f,this.__viewPortLeft=ce>0?0:-ce*f,this.__viewPortWidth=_e,this.__viewPortHeight=et,z.top=this.__viewPortTop+"px",z.left=this.__viewPortLeft+"px",z.width=_e+"px",z.height=et+"px"},y.prototype.__createViewPort=function(){var f=document.createElement("div");f.className="lf-minimap-viewport",f.addEventListener("mousedown",this.__startDrag),this.__viewport=f},y.pluginName="miniMap"}();var wn,dn,vo,q,Ve,ti=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),zr=function(){return zr=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},zr.apply(this,arguments)},Vn=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},te=(function(y){function f(){return null!==y&&y.apply(this,arguments)||this}ti(f,y),f.prototype.pointFilter=function(s){for(var p=s,g=1;g<p.length-1;){var O=Vn(p[g-1],2),w=O[0],z=O[1],J=Vn(p[g],2),ce=J[0],Q=J[1],ke=Vn(p[g+1],2);w===ce&&ce===ke[0]||z===Q&&Q===ke[1]?p.splice(g,1):g++}return p},f.prototype.getEdge=function(){for(var s=this.props.model,p=s.points,g=s.isAnimation,O=s.arrowConfig,w=s.radius,z=void 0===w?5:w,J=s.getEdgeStyle(),ce=s.getEdgeAnimationStyle(),Q=this.pointFilter(p.split(" ").map(function(pn){return pn.split(",").map(function(Tn){return Number(Tn)})})),ke=Vn(Q[0],2),et="M"+ke[0]+" "+ke[1],wt=1;wt<Q.length-1;wt++){var Tt=Vn(Q[wt-1],2),pt=Tt[0],c=Tt[1],h=Vn(Q[wt],2),S=h[0],L=h[1],ee=Vn(Q[wt+1],2),he=ee[0],Me=ee[1];S===pt&&L!==c&&(et=et+" L "+S+" "+(L>c?L-z:L+z)),L===c&&S!==pt&&(et=et+" L "+(S>pt?S-z:S+z)+" "+L),et=et+" Q "+S+" "+L,S===he&&L!==Me&&(et=et+" "+S+" "+(L>Me?L-z:L+z)),L===Me&&S!==he&&(et=et+" "+(S>he?S-z:S+z)+" "+L)}var jt=Vn(Q[Q.length-1],2),on=zr(zr(zr({d:et=et+" L "+jt[0]+" "+jt[1],style:g?ce:{}},J),O),{fill:"none"});return(0,u.h)("path",zr({d:et},on))}}(u.PolylineEdge),function(y){ti(function f(){return null!==y&&y.apply(this,arguments)||this},y)}(u.PolylineEdgeModel),{}),Fe=[],Ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Dt(y,f){for(var s in f)y[s]=f[s];return y}function hn(y){var f=y.parentNode;f&&f.removeChild(y)}function qt(y,f,s){var p,g,O,w={};for(O in f)"key"==O?p=f[O]:"ref"==O?g=f[O]:w[O]=f[O];if(arguments.length>2&&(w.children=arguments.length>3?wn.call(arguments,2):s),"function"==typeof y&&null!=y.defaultProps)for(O in y.defaultProps)void 0===w[O]&&(w[O]=y.defaultProps[O]);return nn(y,w,p,g,null)}function nn(y,f,s,p,g){var O={type:y,props:f,key:s,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:g??++vo};return null==g&&null!=dn.vnode&&dn.vnode(O),O}function vn(y){return y.children}function qn(y,f){this.props=y,this.context=f}function Xr(y,f){if(null==f)return y.__?Xr(y.__,y.__.__k.indexOf(y)+1):null;for(var s;f<y.__k.length;f++)if(null!=(s=y.__k[f])&&null!=s.__e)return s.__e;return"function"==typeof y.type?Xr(y):null}function Bo(y){var f,s;if(null!=(y=y.__)&&null!=y.__c){for(y.__e=y.__c.base=null,f=0;f<y.__k.length;f++)if(null!=(s=y.__k[f])&&null!=s.__e){y.__e=y.__c.base=s.__e;break}return Bo(y)}}function dr(y){(!y.__d&&(y.__d=!0)&&q.push(y)&&!mr.__r++||Ve!==dn.debounceRendering)&&((Ve=dn.debounceRendering)||setTimeout)(mr)}function mr(){for(var y;mr.__r=q.length;)y=q.sort(function(f,s){return f.__v.__b-s.__v.__b}),q=[],y.some(function(f){var s,p,g,O,w,z;f.__d&&(w=(O=(s=f).__v).__e,(z=s.__P)&&(p=[],(g=Dt({},O)).__v=O.__v+1,oi(z,O,g,s.__n,void 0!==z.ownerSVGElement,null!=O.__h?[w]:null,p,w??Xr(O),O.__h),Rn(p,O),O.__e!=w&&Bo(O)))})}function Ni(y,f,s,p,g,O,w,z,J,ce){var Q,ke,_e,He,et,wt,Tt,pt=p&&p.__k||Fe,c=pt.length;for(s.__k=[],Q=0;Q<f.length;Q++)if(null!=(He=s.__k[Q]=null==(He=f[Q])||"boolean"==typeof He?null:"string"==typeof He||"number"==typeof He||"bigint"==typeof He?nn(null,He,null,null,He):Array.isArray(He)?nn(vn,{children:He},null,null,null):He.__b>0?nn(He.type,He.props,He.key,He.ref?He.ref:null,He.__v):He)){if(He.__=s,He.__b=s.__b+1,null===(_e=pt[Q])||_e&&He.key==_e.key&&He.type===_e.type)pt[Q]=void 0;else for(ke=0;ke<c;ke++){if((_e=pt[ke])&&He.key==_e.key&&He.type===_e.type){pt[ke]=void 0;break}_e=null}oi(y,He,_e=_e||te,g,O,w,z,J,ce),et=He.__e,(ke=He.ref)&&_e.ref!=ke&&(Tt||(Tt=[]),_e.ref&&Tt.push(_e.ref,null,He),Tt.push(ke,He.__c||et,He)),null!=et?(null==wt&&(wt=et),"function"==typeof He.type&&He.__k===_e.__k?He.__d=J=ri(He,J,y):J=zi(y,He,_e,pt,et,J),"function"==typeof s.type&&(s.__d=J)):J&&_e.__e==J&&J.parentNode!=y&&(J=Xr(_e))}for(s.__e=wt,Q=c;Q--;)null!=pt[Q]&&_i(pt[Q],pt[Q]);if(Tt)for(Q=0;Q<Tt.length;Q++)Ri(Tt[Q],Tt[++Q],Tt[++Q])}function ri(y,f,s){for(var p,g=y.__k,O=0;g&&O<g.length;O++)(p=g[O])&&(p.__=y,f="function"==typeof p.type?ri(p,f,s):zi(s,p,p,g,p.__e,f));return f}function zi(y,f,s,p,g,O){var w,z,J;if(void 0!==f.__d)w=f.__d,f.__d=void 0;else if(null==s||g!=O||null==g.parentNode)e:if(null==O||O.parentNode!==y)y.appendChild(g),w=null;else{for(z=O,J=0;(z=z.nextSibling)&&J<p.length;J+=1)if(z==g)break e;y.insertBefore(g,O),w=O}return void 0!==w?w:g.nextSibling}function Di(y,f,s){"-"===f[0]?y.setProperty(f,s):y[f]=null==s?"":"number"!=typeof s||Ze.test(f)?s:s+"px"}function Fo(y,f,s,p,g){var O;e:if("style"===f)if("string"==typeof s)y.style.cssText=s;else{if("string"==typeof p&&(y.style.cssText=p=""),p)for(f in p)s&&f in s||Di(y.style,f,"");if(s)for(f in s)p&&s[f]===p[f]||Di(y.style,f,s[f])}else if("o"===f[0]&&"n"===f[1])O=f!==(f=f.replace(/Capture$/,"")),f=f.toLowerCase()in y?f.toLowerCase().slice(2):f.slice(2),y.l||(y.l={}),y.l[f+O]=s,s?p||y.addEventListener(f,O?Yn:ko,O):y.removeEventListener(f,O?Yn:ko,O);else if("dangerouslySetInnerHTML"!==f){if(g)f=f.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==f&&"list"!==f&&"form"!==f&&"tabIndex"!==f&&"download"!==f&&f in y)try{y[f]=s??"";break e}catch{}"function"==typeof s||(null==s||!1===s&&-1==f.indexOf("-")?y.removeAttribute(f):y.setAttribute(f,s))}}function ko(y){this.l[y.type+!1](dn.event?dn.event(y):y)}function Yn(y){this.l[y.type+!0](dn.event?dn.event(y):y)}function oi(y,f,s,p,g,O,w,z,J){var ce,Q,ke,_e,He,et,wt,Tt,pt,c,h,S,L,ee,he,Me=f.type;if(void 0!==f.constructor)return null;null!=s.__h&&(J=s.__h,z=f.__e=s.__e,f.__h=null,O=[z]),(ce=dn.__b)&&ce(f);try{e:if("function"==typeof Me){if(Tt=f.props,pt=(ce=Me.contextType)&&p[ce.__c],c=ce?pt?pt.props.value:ce.__:p,s.__c?wt=(Q=f.__c=s.__c).__=Q.__E:("prototype"in Me&&Me.prototype.render?f.__c=Q=new Me(Tt,c):(f.__c=Q=new qn(Tt,c),Q.constructor=Me,Q.render=Dr),pt&&pt.sub(Q),Q.props=Tt,Q.state||(Q.state={}),Q.context=c,Q.__n=p,ke=Q.__d=!0,Q.__h=[],Q._sb=[]),null==Q.__s&&(Q.__s=Q.state),null!=Me.getDerivedStateFromProps&&(Q.__s==Q.state&&(Q.__s=Dt({},Q.__s)),Dt(Q.__s,Me.getDerivedStateFromProps(Tt,Q.__s))),_e=Q.props,He=Q.state,ke)null==Me.getDerivedStateFromProps&&null!=Q.componentWillMount&&Q.componentWillMount(),null!=Q.componentDidMount&&Q.__h.push(Q.componentDidMount);else{if(null==Me.getDerivedStateFromProps&&Tt!==_e&&null!=Q.componentWillReceiveProps&&Q.componentWillReceiveProps(Tt,c),!Q.__e&&null!=Q.shouldComponentUpdate&&!1===Q.shouldComponentUpdate(Tt,Q.__s,c)||f.__v===s.__v){for(Q.props=Tt,Q.state=Q.__s,f.__v!==s.__v&&(Q.__d=!1),Q.__v=f,f.__e=s.__e,f.__k=s.__k,f.__k.forEach(function(Ke){Ke&&(Ke.__=f)}),h=0;h<Q._sb.length;h++)Q.__h.push(Q._sb[h]);Q._sb=[],Q.__h.length&&w.push(Q);break e}null!=Q.componentWillUpdate&&Q.componentWillUpdate(Tt,Q.__s,c),null!=Q.componentDidUpdate&&Q.__h.push(function(){Q.componentDidUpdate(_e,He,et)})}if(Q.context=c,Q.props=Tt,Q.__v=f,Q.__P=y,S=dn.__r,L=0,"prototype"in Me&&Me.prototype.render){for(Q.state=Q.__s,Q.__d=!1,S&&S(f),ce=Q.render(Q.props,Q.state,Q.context),ee=0;ee<Q._sb.length;ee++)Q.__h.push(Q._sb[ee]);Q._sb=[]}else do{Q.__d=!1,S&&S(f),ce=Q.render(Q.props,Q.state,Q.context),Q.state=Q.__s}while(Q.__d&&++L<25);Q.state=Q.__s,null!=Q.getChildContext&&(p=Dt(Dt({},p),Q.getChildContext())),ke||null==Q.getSnapshotBeforeUpdate||(et=Q.getSnapshotBeforeUpdate(_e,He)),he=null!=ce&&ce.type===vn&&null==ce.key?ce.props.children:ce,Ni(y,Array.isArray(he)?he:[he],f,s,p,g,O,w,z,J),Q.base=f.__e,f.__h=null,Q.__h.length&&w.push(Q),wt&&(Q.__E=Q.__=null),Q.__e=!1}else null==O&&f.__v===s.__v?(f.__k=s.__k,f.__e=s.__e):f.__e=function Ii(y,f,s,p,g,O,w,z){var J,ce,Q,ke=s.props,_e=f.props,He=f.type,et=0;if("svg"===He&&(g=!0),null!=O)for(;et<O.length;et++)if((J=O[et])&&"setAttribute"in J==!!He&&(He?J.localName===He:3===J.nodeType)){y=J,O[et]=null;break}if(null==y){if(null===He)return document.createTextNode(_e);y=g?document.createElementNS("http://www.w3.org/2000/svg",He):document.createElement(He,_e.is&&_e),O=null,z=!1}if(null===He)ke===_e||z&&y.data===_e||(y.data=_e);else{if(O=O&&wn.call(y.childNodes),ce=(ke=s.props||te).dangerouslySetInnerHTML,Q=_e.dangerouslySetInnerHTML,!z){if(null!=O)for(ke={},et=0;et<y.attributes.length;et++)ke[y.attributes[et].name]=y.attributes[et].value;(Q||ce)&&(Q&&(ce&&Q.__html==ce.__html||Q.__html===y.innerHTML)||(y.innerHTML=Q&&Q.__html||""))}if(function br(y,f,s,p,g){var O;for(O in s)"children"===O||"key"===O||O in f||Fo(y,O,null,s[O],p);for(O in f)g&&"function"!=typeof f[O]||"children"===O||"key"===O||"value"===O||"checked"===O||s[O]===f[O]||Fo(y,O,f[O],s[O],p)}(y,_e,ke,g,z),Q)f.__k=[];else if(et=f.props.children,Ni(y,Array.isArray(et)?et:[et],f,s,p,g&&"foreignObject"!==He,O,w,O?O[0]:s.__k&&Xr(s,0),z),null!=O)for(et=O.length;et--;)null!=O[et]&&hn(O[et]);z||("value"in _e&&void 0!==(et=_e.value)&&(et!==y.value||"progress"===He&&!et||"option"===He&&et!==ke.value)&&Fo(y,"value",et,ke.value,!1),"checked"in _e&&void 0!==(et=_e.checked)&&et!==y.checked&&Fo(y,"checked",et,ke.checked,!1))}return y}(s.__e,f,s,p,g,O,w,J);(ce=dn.diffed)&&ce(f)}catch(Ke){f.__v=null,(J||null!=O)&&(f.__e=z,f.__h=!!J,O[O.indexOf(z)]=null),dn.__e(Ke,f,s)}}function Rn(y,f){dn.__c&&dn.__c(f,y),y.some(function(s){try{y=s.__h,s.__h=[],y.some(function(p){p.call(s)})}catch(p){dn.__e(p,s.__v)}})}function Ri(y,f,s){try{"function"==typeof y?y(f):y.current=f}catch(p){dn.__e(p,s)}}function _i(y,f,s){var p,g;if(dn.unmount&&dn.unmount(y),(p=y.ref)&&(p.current&&p.current!==y.__e||Ri(p,null,f)),null!=(p=y.__c)){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(O){dn.__e(O,f)}p.base=p.__P=null,y.__c=void 0}if(p=y.__k)for(g=0;g<p.length;g++)p[g]&&_i(p[g],f,s||"function"!=typeof y.type);s||null==y.__e||hn(y.__e),y.__=y.__e=y.__d=void 0}function Dr(y,f,s){return this.constructor(y,s)}wn=Fe.slice,dn={__e:function(y,f,s,p){for(var g,O,w;f=f.__;)if((g=f.__c)&&!g.__)try{if((O=g.constructor)&&null!=O.getDerivedStateFromError&&(g.setState(O.getDerivedStateFromError(y)),w=g.__d),null!=g.componentDidCatch&&(g.componentDidCatch(y,p||{}),w=g.__d),w)return g.__E=g}catch(z){y=z}throw y}},vo=0,qn.prototype.setState=function(y,f){var s;s=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Dt({},this.state),"function"==typeof y&&(y=y(Dt({},s),this.props)),y&&Dt(s,y),null!=y&&this.__v&&(f&&this._sb.push(f),dr(this))},qn.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),dr(this))},qn.prototype.render=vn,q=[],mr.__r=0;var Kr=function(){return Kr=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},Kr.apply(this,arguments)};function Go(y){var O=y.radius,z=y.x-y.width/2,J=y.y-y.height/2,ce=Kr(Kr({width:10,height:10,cx:0,cy:0,rx:O||0,ry:O||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+y.className},y),{x:z,y:J});return(0,u.h)("rect",Kr({},ce))}Go.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Or=(()=>(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.HTML_NODE="html-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"}(Or||(Or={})),Or))();function yo(y){var f=y.x,s=y.y,p=y.width,g=y.height;return{minX:f-p/2,minY:s-g/2,maxX:f+p/2,maxY:s+g/2}}function Bi(y){var f=yo(y),s=y.radius,p=f.minX,g=f.minY,O=f.maxX,w=f.maxY;return[{x:p+s,y:g+s},{x:O-s,y:g+s},{x:O-s,y:w-s},{x:p+s,y:w-s}]}function ii(y){var f=y.point,s=y.beforeNode,p=y.afterNode,g=f.x,O=f.y,w={x:g,y:O},z=s.radius,J=yo(s),ce=yo(p);if(g===J.minX)w.x=ce.minX,w.y=(Q=(O-s.y)/(s.height/2-z))?p.y+(p.height/2-z)*Q:p.y;else if(g===J.maxX)w.x=ce.maxX,w.y=(Q=(O-s.y)/(s.height/2-z))?p.y+(p.height/2-z)*Q:p.y;else if(O===J.minY)w.y=ce.minY,w.x=(Q=(g-s.x)/(s.width/2-z))?p.x+(p.width/2-z)*Q:p.x;else if(O===J.maxY){var Q;w.y=ce.maxY,w.x=(Q=(g-s.x)/(s.width/2-z))?p.x+(p.width/2-z)*Q:p.x}else{var ke=Bi(s),_e=Bi(p),He=yo(s),et=He.minX,wt=He.minY,Tt=He.maxX,c=-1;if(g-et<z&&O-wt<z?c=0:Tt-g<z&&O-wt<z?c=1:Tt-g<z&&He.maxY-O<z?c=2:g-et<z&&wt-O<z&&(c=3),c>-1){var h=Math.atan2(O-ke[c].y,g-ke[c].x);w.x=_e[c].x+z*Math.cos(h),w.y=_e[c].y+z*Math.sin(h)}}return w}function Er(y){var Q,ke,f=y.point,s=y.beforeNode,p=y.afterNode,z=(f.y-s.y)/(f.x-s.x),J=p.rx,ce=p.ry;return z>=1/0?(Q=0,ke=ce):z<=-1/0?(Q=0,ke=-ce):f.x-s.x>0?(Q=J*ce/Math.sqrt(ce*ce+J*J*z*z),ke=J*ce*z/Math.sqrt(ce*ce+J*J*z*z)):(Q=-J*ce/Math.sqrt(ce*ce+J*J*z*z),ke=-J*ce*z/Math.sqrt(ce*ce+J*J*z*z)),{x:Q+p.x,y:ke+p.y}}function Ho(y){var f=y.point,s=y.beforeNode,p=y.afterNode,z=f.x-s.x,J=f.y-s.y,ce=s.rx,Q=s.ry,ke=Math.sqrt((ce-Math.abs(z))*(ce-Math.abs(z))+J*J)/Math.sqrt(ce*ce+Q*Q),_e=p.rx,He=p.ry,et=Math.sqrt((_e*_e+He*He)*ke*ke*(_e*_e/(_e*_e+He*He))),wt=et*(He/_e);return{x:(z>=0?_e-et:et-_e)+p.x,y:(J>0?wt:-wt)+p.y}}var Fn=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),Ir=function(){return Ir=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},Ir.apply(this,arguments)},os=u.LogicFlowUtil.StepDrag,is=function(y){function f(s){var p=y.call(this)||this;return p.updatePosition=function(g){var O=g.deltaX,w=g.deltaY,z=p.nodeModel,ce=z.y;p.nodeModel.x=z.x+O/2,p.nodeModel.y=ce+w/2,p.nodeModel.moveText(O/2,w/2)},p.getResize=function(g){var O=g.index,w=g.deltaX,z=g.deltaY,J=g.width,ce=g.height,Q=g.PCTResizeInfo,ke=g.pct,_e=void 0===ke?1:ke,He={width:J,height:ce,deltaX:w,deltaY:z};if(Q){var wt=0,Tt=0;switch(O){case 0:Tt=(-1*w-z)/4;break;case 1:Tt=(w-z)/4;break;case 2:Tt=(w+z)/4;break;case 3:Tt=(-1*w+z)/4}0!==Tt&&(wt=Math.round(Tt/Q.ResizeBasis.basisHeight*1e5)/1e3),Q.ResizePCT.widthPCT=Math.max(Math.min(Q.ResizePCT.widthPCT+wt,Q.ScaleLimit.maxScaleLimit),Q.ScaleLimit.minScaleLimit),Q.ResizePCT.hightPCT=Math.max(Math.min(Q.ResizePCT.hightPCT+wt,Q.ScaleLimit.maxScaleLimit),Q.ScaleLimit.minScaleLimit);var pt=Math.round(Q.ResizePCT.widthPCT*Q.ResizeBasis.basisWidth/100),c=Math.round(Q.ResizePCT.hightPCT*Q.ResizeBasis.basisHeight/100);switch(O){case 0:w=J-pt,z=ce-c;break;case 1:w=pt-J,z=ce-c;break;case 2:w=pt-J,z=c-ce;break;case 3:w=J-pt,z=c-ce}return He.width=pt,He.height=c,He.deltaX=w/_e,He.deltaY=z/_e,He}switch(O){case 0:He.width=J-w*_e,He.height=ce-z*_e;break;case 1:He.width=J+w*_e,He.height=ce-z*_e;break;case 2:He.width=J+w*_e,He.height=ce+z*_e;break;case 3:He.width=J-w*_e,He.height=ce+z*_e}return He},p.updateRect=function(g){var z=p.nodeModel,J=z.id,ce=z.x,Q=z.y,ke=z.width,_e=z.height,He=z.radius,Tt=p.getResize({index:p.index,deltaX:g.deltaX,deltaY:g.deltaY,width:ke,height:_e,PCTResizeInfo:z.PCTResizeInfo,pct:1}),pt=p.nodeModel;if(Tt.width<pt.minWidth||Tt.width>pt.maxWidth||Tt.height<pt.minHeight||Tt.height>pt.maxHeight)p.dragHandler.cancelDrag();else{p.updatePosition({deltaX:Tt.deltaX,deltaY:Tt.deltaY}),p.nodeModel.width=Tt.width,p.nodeModel.height=Tt.height,p.nodeModel.setProperties({nodeSize:{width:Tt.width,height:Tt.height}});var ut,ee=p.getNodeEdges(J),he={x:ce,y:Q,width:ke,height:_e,radius:He},Me={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:He},Ke={point:"",beforeNode:he,afterNode:Me};ee.sourceEdges.forEach(function(jt){Ke.point=jt.startPoint,ut=ii(Ke),jt.updateStartPoint(ut)}),ee.targetEdges.forEach(function(jt){Ke.point=jt.endPoint,ut=ii(Ke),jt.updateEndPoint(ut)}),p.eventEmit({beforeNode:he,afterNode:Me})}},p.updateEllipse=function(g){var z=p.nodeModel,J=z.id,ce=z.rx,Q=z.ry,ke=z.x,_e=z.y,pt=p.getResize({index:p.index,deltaX:g.deltaX,deltaY:g.deltaY,width:ce,height:Q,PCTResizeInfo:z.PCTResizeInfo,pct:.5}),c=p.nodeModel;if(pt.width<c.minWidth/2||pt.width>c.maxWidth/2||pt.height<c.minHeight/2||pt.height>c.maxHeight/2)p.dragHandler.cancelDrag();else{p.updatePosition({deltaX:pt.deltaX,deltaY:pt.deltaY}),p.nodeModel.rx=pt.width,p.nodeModel.ry=pt.height,p.nodeModel.setProperties({nodeSize:{rx:pt.width,ry:pt.height}});var jt,he=p.getNodeEdges(J),Me={x:ke,y:_e},Ke={rx:pt.width,ry:pt.height,x:p.nodeModel.x,y:p.nodeModel.y},ut={point:{},beforeNode:Me,afterNode:Ke};he.sourceEdges.forEach(function(Lt){ut.point=Lt.startPoint,jt=Er(ut),Lt.updateStartPoint(jt)}),he.targetEdges.forEach(function(Lt){ut.point=Lt.endPoint,jt=Er(ut),Lt.updateEndPoint(jt)}),p.eventEmit({beforeNode:Ir(Ir({},Me),{rx:ce,ry:Q}),afterNode:Ke})}},p.updateDiamond=function(g){var z=p.nodeModel,J=z.id,ce=z.rx,Q=z.ry,ke=z.x,_e=z.y,pt=p.getResize({index:p.index,deltaX:g.deltaX,deltaY:g.deltaY,width:ce,height:Q,PCTResizeInfo:z.PCTResizeInfo,pct:.5}),c=p.nodeModel;if(pt.width<c.minWidth/2||pt.width>c.maxWidth/2||pt.height<c.minHeight/2||pt.height>c.maxHeight/2)p.dragHandler.cancelDrag();else{p.updatePosition({deltaX:pt.deltaX,deltaY:pt.deltaY}),p.nodeModel.rx=pt.width,p.nodeModel.ry=pt.height,p.nodeModel.setProperties({nodeSize:{rx:pt.width,ry:pt.height}});var ut,he={x:ke,y:_e,rx:ce,ry:Q},Me={rx:pt.width,ry:pt.height,x:p.nodeModel.x,y:p.nodeModel.y},Ke={point:{},beforeNode:he,afterNode:Me},jt=p.getNodeEdges(J);jt.sourceEdges.forEach(function(Lt){Ke.point=Lt.startPoint,ut=Ho(Ke),Lt.updateStartPoint(ut)}),jt.targetEdges.forEach(function(Lt){Ke.point=Lt.endPoint,ut=Ho(Ke),Lt.updateEndPoint(ut)}),p.eventEmit({beforeNode:he,afterNode:Me})}},p.eventEmit=function(g){var w=g.afterNode,z=p.nodeModel,J=z.id,ce=z.modelType,Q=z.type,ke=Ir({id:J,modelType:ce,type:Q},g.beforeNode),_e=Ir({id:J,modelType:ce,type:Q},w);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:ke,newNodeSize:_e})},p.onDraging=function(g){var O,w=g.deltaX,z=g.deltaY,ce=p.nodeModel.modelType;O=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O}(p.graphModel.transformModel.fixDeltaXY(w,z),2),w=O[0],z=O[1],ce===Or.RECT_NODE||ce===Or.HTML_NODE?p.updateRect({deltaX:w,deltaY:z}):ce===Or.ELLIPSE_NODE?p.updateEllipse({deltaX:w,deltaY:z}):ce===Or.DIAMOND_NODE&&p.updateDiamond({deltaX:w,deltaY:z})},p.onDragEnd=function(){var g=p.graphModel.gridSize,O=void 0===g?1:g,w=O*Math.round(p.nodeModel.x/O),z=O*Math.round(p.nodeModel.y/O);p.nodeModel.moveTo(w,z)},p.index=s.index,p.nodeModel=s.model,p.graphModel=s.graphModel,p.state={},p.dragHandler=new os({onDraging:p.onDraging,onDragEnd:p.onDragEnd,step:1}),p}return Fn(f,y),f.prototype.getNodeEdges=function(s){for(var g=this.graphModel.edges,O=[],w=[],z=0;z<g.length;z++){var J=g[z];J.sourceNodeId===s?O.push(J):g[z].targetNodeId===s&&w.push(J)}return{sourceEdges:O,targetEdges:w}},f.prototype.render=function(){var s=this.props,p=s.x,g=s.y,O=s.index,z=s.model.getControlPointStyle();return qt("g",{className:"lf-resize-control-"+O},qt(Go,Ir({className:"lf-node-control"},{x:p,y:g},z,{onMouseDown:this.dragHandler.handleMouseDown})))},f}(qn);const Sa=is;var ai=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),go=function(){return go=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},go.apply(this,arguments)},si=function(y){function f(){var s=y.call(this)||this;return s.state={},s}return ai(f,y),f.prototype.getResizeControl=function(){var s=this.props,p=s.model,g=s.graphModel,O=p.x,w=p.y,z=p.width,J=p.height,ce={minX:O-z/2,minY:w-J/2,maxX:O+z/2,maxY:w+J/2},Q=ce.minX,ke=ce.minY,_e=ce.maxX,He=ce.maxY;return[{x:Q,y:ke},{x:_e,y:ke},{x:_e,y:He},{x:Q,y:He}].map(function(wt,Tt){return qt(Sa,go({index:Tt},wt,{model:p,graphModel:g}))})},f.prototype.getGroupSolid=function(){var s=this.props.model,p=s.x,g=s.y,O=s.width,w=s.height,z=s.getResizeOutlineStyle();return qt(Go,go({fill:"none"},z,{x:p,y:g,width:O,height:w}))},f.prototype.render=function(){return qt("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},f}(qn);const mo=si;var li=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),bo=function(y){function f(s,p){var g=y.call(this,s,p)||this,O=g.properties.nodeSize;return O&&(g.width=O.width,g.height=O.height),g}return li(f,y),f.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},f.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.resize=function(s,p){console.log(s,p)},f.prototype.enableProportionResize=function(s){if(void 0===s&&(s=!0),s){var g={basisWidth:this.width,basisHeight:this.height},O={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:g,ScaleLimit:O}}else delete this.PCTResizeInfo},f}(u.RectNodeModel),as=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return li(f,y),f.prototype.getControlGroup=function(){var s=this.props;return(0,u.h)(mo,{model:s.model,graphModel:s.graphModel})},f.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},f.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,g=s.graphModel.editConfigModel.isSilentMode;return(0,u.h)("g",null,this.getResizeShape(),p&&!g?this.getControlGroup():"")},f}(u.RectNode);const Oo={type:"rect",view:as,model:bo};var xr=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(y){function f(s,p){var g=y.call(this,s,p)||this,O=g.properties.nodeSize;return O&&(g.rx=O.rx,g.ry=O.ry),g}xr(f,y),f.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(s){if(void 0===s&&(s=!0),s){var g={basisWidth:this.rx,basisHeight:this.ry},O={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:g,ScaleLimit:O}}else delete this.PCTResizeInfo}})(u.EllipseNodeModel),function(y){function f(){return null!==y&&y.apply(this,arguments)||this}xr(f,y),f.prototype.getControlGroup=function(){var s=this.props;return(0,u.h)(mo,{model:s.model,graphModel:s.graphModel})},f.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},f.prototype.getShape=function(){var s=this.props,p=s.model,g=s.graphModel.editConfigModel.isSilentMode;return(0,u.h)("g",null,this.getResizeShape(),p.isSelected&&!g?this.getControlGroup():"")}}(u.EllipseNode);var ui=function(){return ui=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},ui.apply(this,arguments)};function Ca(y){var f=y.fillOpacity,p=y.strokeWidth,O=y.strokeOpacity,z=y.fill,ce=y.stroke,_e=y.className,et={fill:void 0===z?"transparent":z,fillOpacity:void 0===f?1:f,strokeWidth:void 0===p?1:p,stroke:void 0===ce?"#000":ce,strokeOpacity:void 0===O?1:O,points:"",className:void 0===_e?"lf-basic-shape":_e};return et.points=y.points.map(function(wt){return wt.join(",")}).join(" "),(0,u.h)("polygon",ui({},et))}var Hi=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),ci=function(){return ci=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},ci.apply(this,arguments)};(function(y){function f(s,p){var g=y.call(this,s,p)||this,O=g.properties.nodeSize;return O&&(g.rx=O.rx,g.ry=O.ry),g}Hi(f,y),f.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},f.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(s){if(void 0===s&&(s=!0),s){var g={basisWidth:this.rx,basisHeight:this.ry},O={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:g,ScaleLimit:O}}else delete this.PCTResizeInfo}})(u.DiamondNodeModel),function(y){function f(){return null!==y&&y.apply(this,arguments)||this}Hi(f,y),f.prototype.getControlGroup=function(){var s=this.props;return(0,u.h)(mo,{model:s.model,graphModel:s.graphModel})},f.prototype.getResizeShape=function(){var s=this.props.model,p=s.points,g=s.getNodeStyle();return(0,u.h)("g",null,(0,u.h)(Ca,ci({},g,{points:p})))},f.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,g=s.graphModel.editConfigModel.isSilentMode;return(0,u.h)("g",null,this.getResizeShape(),p&&!g?this.getControlGroup():"")}}(u.DiamondNode);var Tr=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}();(function(y){function f(s,p){var g=y.call(this,s,p)||this,O=g.properties.nodeSize;return O&&(g.width=O.width,g.height=O.height),g}Tr(f,y),f.prototype.initNodeData=function(s){y.prototype.initNodeData.call(this,s),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var s=y.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(s.stroke="none",s.hover&&(s.hover.stroke="none")),s},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(s){if(void 0===s&&(s=!0),s){var g={basisWidth:this.width,basisHeight:this.height},O={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:g,ScaleLimit:O}}else delete this.PCTResizeInfo}})(u.HtmlNodeModel),function(y){function f(){return null!==y&&y.apply(this,arguments)||this}Tr(f,y),f.prototype.getControlGroup=function(){var s=this.props;return(0,u.h)(mo,{model:s.model,graphModel:s.graphModel})},f.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},f.prototype.getShape=function(){var s=this.props,p=s.model.isSelected,g=s.graphModel.editConfigModel.isSilentMode;return(0,u.h)("g",null,this.getResizeShape(),p&&!g?this.getControlGroup():"")}}(u.HtmlNode);var Vi=function(){var y=function(f,s){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var O in g)g.hasOwnProperty(O)&&(p[O]=g[O])})(f,s)};return function(f,s){function p(){this.constructor=f}y(f,s),f.prototype=null===s?Object.create(s):(p.prototype=s.prototype,new p)}}(),Uo=function(){return Uo=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},Uo.apply(this,arguments)},ur=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},Qr=function(){for(var y=[],f=0;f<arguments.length;f++)y=y.concat(ur(arguments[f]));return y},tr=function(y){function f(){var s=null!==y&&y.apply(this,arguments)||this;return s.isGroup=!0,s.unfoldedWidth=500,s.unfoldedHight=300,s}return Vi(f,y),f.prototype.initNodeData=function(s){var p=this;y.prototype.initNodeData.call(this,s);var g=[];Array.isArray(s.children)&&(g=s.children),this.children=new Set(g),this.width=500,this.height=300,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1e4,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){p.isFolded&&p.foldGroup(p.isFolded)})},f.prototype.getResizeOutlineStyle=function(){var s=y.prototype.getResizeOutlineStyle.call(this);return s.stroke="none",s},f.prototype.foldGroup=function(s){var p=this;this.setProperty("isFolded",s),this.isFolded=s,s?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var g=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(O){var w=p.graphModel.getElement(O);w.visible=!s,g=g.concat(w.incoming.edges.concat(w.outgoing.edges))}),this.foldEdge(s,g)},f.prototype.getAnchorStyle=function(s){var p=y.prototype.getAnchorStyle.call(this,s);return p.stroke="transparent",p.fill="transparent",p.hover.fill="transparent",p.hover.stroke="transparent",p},f.prototype.foldEdge=function(s,p){var g=this;p.forEach(function(O,w){var J=O.sourceNodeId,ce=O.targetNodeId,wt={id:O.id+"__"+w,sourceNodeId:J,targetNodeId:ce,startPoint:O.startPoint,endPoint:O.endPoint,type:O.type,properties:O.properties,text:O.text?.value};O.virtual&&g.graphModel.deleteEdgeById(O.id);var Tt=g.graphModel.group.getNodeGroup(ce);Tt||(Tt=g.graphModel.getNodeModelById(ce));var pt=g.graphModel.group.getNodeGroup(J);pt||(pt=g.graphModel.getNodeModelById(J)),s&&!1!==O.visible&&(g.children.has(J)||g.id===J?(wt.startPoint=void 0,wt.sourceNodeId=g.id):(wt.endPoint=void 0,wt.targetNodeId=g.id),(Tt.id!==g.id||pt.id!==g.id)&&g.createVirtualEdge(wt),O.visible=!1),!s&&!1===O.visible&&(Tt&&Tt.isGroup&&Tt.isFolded?(wt.targetNodeId=Tt.id,wt.endPoint=void 0,g.createVirtualEdge(wt)):pt&&pt.isGroup&&pt.isFolded?(wt.sourceNodeId=pt.id,wt.startPoint=void 0,g.createVirtualEdge(wt)):O.visible=!0)})},f.prototype.createVirtualEdge=function(s){s.pointsList=void 0;var p=this.graphModel.addEdge(s);p.virtual=!0,p.text.editable=!1,p.isFoldedEdge=!0},f.prototype.isInRange=function(s){return s.x1>=this.x-this.width/2&&s.x2<=this.x+this.width/2&&s.y1>=this.y-this.height/2&&s.y2<=this.y+this.height/2},f.prototype.isAllowMoveTo=function(s){return{x:s.x1>=this.x-this.width/2&&s.x2<=this.x+this.width/2,y:s.y1>=this.y-this.height/2&&s.y2<=this.y+this.height/2}},f.prototype.setAllowAppendChild=function(s){this.setProperty("groupAddable",s)},f.prototype.addChild=function(s){this.children.add(s)},f.prototype.removeChild=function(s){this.children.delete(s)},f.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},f.prototype.getData=function(){var s=y.prototype.getData.call(this);s.children=Qr(this.children);var p=s.properties;return delete p.groupAddable,delete p.isFolded,s},f.prototype.getHistoryData=function(){var s=y.prototype.getData.call(this);s.children=Qr(this.children),s.isGroup=!0;var p=s.properties;return delete p.groupAddable,p.isFolded&&(s.x=s.x+this.unfoldedWidth/2-this.foldedWidth/2,s.y=s.y+this.unfoldedHight/2-this.foldedHeight/2),s},f.prototype.isAllowAppendIn=function(s){return!0},f.prototype.toBack=function(){this.zIndex--},f}(Oo.model),wa=function(y){function f(){return null!==y&&y.apply(this,arguments)||this}return Vi(f,y),f.prototype.getControlGroup=function(){var s=this.props.model;return s.resizable&&!s.properties.isFolded?y.prototype.getControlGroup.call(this):null},f.prototype.getAddableShape=function(){var s=this.props.model,p=s.width,g=s.height,O=s.x,w=s.y,z=s.radius;if(!s.properties.groupAddable)return null;var ce=this.props.model.getNodeStyle().strokeWidth,Q=this.props.model.getAddableOutlineStyle(),ke=p+ce+8,_e=g+ce+8;return(0,u.h)("rect",Uo(Uo({},Q),{width:ke,height:_e,x:O-ke/2,y:w-_e/2,rx:z,ry:z}))},f.prototype.getFoldIcon=function(){var s=this.props.model,p=s.x-s.width/2+5,g=s.y-s.height/2+5;if(!s.foldable)return null;var O=(0,u.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:s.properties.isFolded?"M "+(p+3)+","+(g+6)+" "+(p+11)+","+(g+6)+" M"+(p+7)+","+(g+2)+" "+(p+7)+","+(g+10):"M "+(p+3)+","+(g+6)+" "+(p+11)+","+(g+6)+" "});return(0,u.h)("g",{},[(0,u.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:s.x-s.width/2+5,y:s.y-s.height/2+5,onClick:function(){s.foldGroup(!s.properties.isFolded)}}),O])},f.prototype.getResizeShape=function(){return(0,u.h)("g",{},[this.getAddableShape(),y.prototype.getResizeShape.call(this),this.getFoldIcon()])},f}(Oo.view);const Ma={type:"group",view:wa,model:tr};!function(){function y(f){var s=this,p=f.lf;this.topGroupZIndex=-1e4,this.nodeGroupMap=new Map,this.graphRendered=function(g){g&&g.nodes&&g.nodes.forEach(function(O){O.children&&O.children.forEach(function(w){s.nodeGroupMap.set(w,O.id)})})},this.appendNodeToGroup=function(g){var O=g.data,w=s.nodeGroupMap.get(O.id);if(w){var z=s.lf.getNodeModelById(w);z.removeChild(O.id),s.nodeGroupMap.delete(O.id),z.setAllowAppendChild(!1)}var J=s.lf.getNodeModelById(O.id),ce=J.getBounds(),Q=s.getGroup(ce,O);if(Q){if(!Q.isAllowAppendIn(O))return void s.lf.emit("group:not-allowed",{group:Q.getData(),node:O});Q.addChild(O.id),s.nodeGroupMap.set(O.id,Q.id),Q.setAllowAppendChild(!1),J.isGroup&&(O.children.forEach(function(_e){s.nodeGroupMap.set(_e,O.id)}),s.nodeSelected({data:O}))}},this.deleteGroupChild=function(g){var O=g.data;O.children&&O.children.forEach(function(J){s.nodeGroupMap.delete(J),s.lf.deleteNode(J)});var w=s.nodeGroupMap.get(O.id);w&&(s.lf.getNodeModelById(w).removeChild(O.id),s.nodeGroupMap.delete(O.id))},this.setActiveGroup=function(g){var O=g.data,w=s.lf.getNodeModelById(O.id),z=w.getBounds(),J=s.getGroup(z,O);s.activeGroup&&s.activeGroup.setAllowAppendChild(!1),!J||w.isGroup&&J.id===O.id||!J.isAllowAppendIn(O)||(s.activeGroup=J,s.activeGroup.setAllowAppendChild(!0))},this.nodeSelected=function(g){var w=s.lf.getNodeModelById(g.data.id);if(s.toFrontGroup(w),s.topGroupZIndex>-1e3){s.topGroupZIndex=-1e4;for(var z=s.lf.graphModel.nodes.filter(function(ke){return ke.isGroup}).sort(function(ke,_e){return ke.zIndex-_e.zIndex}),J=0,ce=0;ce<z.length;ce++){var Q=z[ce];Q.zIndex!==J&&(s.topGroupZIndex++,J=Q.zIndex),Q.setZIndex(s.topGroupZIndex)}}},this.toFrontGroup=function(g){!g||!g.isGroup||(s.topGroupZIndex++,g.setZIndex(s.topGroupZIndex),g.children&&g.children.forEach(function(O){var w=s.lf.getNodeModelById(O);s.toFrontGroup(w)}))},p.register(Ma),this.lf=p,p.graphModel.addNodeMoveRules(function(g,O,w){if(g.isGroup){var z=s.getNodeAllChild(g);return p.graphModel.moveNodes(z,O,w,!0),!0}var J=p.getNodeModelById(s.nodeGroupMap.get(g.id));if(J&&J.isRestrict){var ce=g.getBounds();return J.isAllowMoveTo({x1:ce.x1+O,y1:ce.y1+w,x2:ce.x2+O,y2:ce.y2+w})}return!0}),p.graphModel.group=this,p.on("node:add,node:drop",this.appendNodeToGroup),p.on("node:delete",this.deleteGroupChild),p.on("node:dnd-drag,node:drag",this.setActiveGroup),p.on("node:click",this.nodeSelected),p.on("graph:rendered",this.graphRendered)}y.prototype.getNodeAllChild=function(f){var s=this,p=[];return f.children&&f.children.forEach(function(g){p.push(g);var O=s.lf.getNodeModelById(g);O.isGroup&&(p=p.concat(s.getNodeAllChild(O)))}),p},y.prototype.getGroup=function(f,s){var g=this.lf.graphModel.nodes.filter(function(z){return z.isGroup&&z.isInRange(f)&&z.id!==s.id});if(0!==g.length){if(1===g.length)return g[0];for(var O=g[g.length-1],w=g.length-2;w>=0;w--)g[w].zIndex>O.zIndex&&(O=g[w]);return O}},y.prototype.getNodeGroup=function(f){var s=this.nodeGroupMap.get(f);if(s)return this.lf.getNodeModelById(s)},y.pluginName="group"}();var Na=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},mn=function(){for(var y=[],f=0;f<arguments.length;f++)y=y.concat(Na(arguments[f]));return y},So=(function(){function y(f){var s=this,p=f.lf;this.lf=p,this.pathes=[],p.getPathes=function(){if(!s.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return s.getPathes()},p.setRawPathes=function(g){s.setPathes(g)},p.getRawPathes=function(){return s.pathes},p.setStartNodeType=function(g){s.startNodeType=g}}y.prototype.setPathes=function(f){this.pathes=f.map(function(s){return{routeId:s.routeId,name:s.name,elements:s.elements,type:s.type,similarElement:null,weight:0}})},y.prototype.getPathes=function(){var f=this,s=this.lf.getGraphRawData(),p=new Map,g=[];s.nodes.forEach(function(w){p.set(w.id,{id:w.id,data:w,nextNodes:[]}),w.type===f.startNodeType&&g.push(w.id)}),s.edges.forEach(function(w){p.get(w.sourceNodeId).nextNodes.push(w.targetNodeId)});var O=[];return g.forEach(function(w){O=O.concat(f.findPathElements(p.get(w),p,[]))}),this.getNewPathes(O)},y.prototype.findPathElements=function(f,s,p){void 0===p&&(p=[]);var g=mn(p);if(g.push(f.id),0===f.nextNodes.length)return[g];for(var O=[],w=0;w<f.nextNodes.length;w++){var J,z=s.get(f.nextNodes[w]),ce=g.indexOf(z.id);J=-1!==ce?[mn(g.slice(ce),[z.id])]:this.findPathElements(z,s,mn(g)),O=O.concat(J)}return O},y.prototype.getNewPathes=function(f){var s=this,p=[],g=new Set;f.forEach(function(w){var z=s.getNewId("path"),J=s.getNewId("\u8def\u5f84"),ce=s.isLoopPath(w),Q=w.join(",");g.has(Q)||(g.add(Q),p.push({routeId:z,name:J,elements:w,type:ce,weight:0,similarElement:""}))});var O=JSON.parse(JSON.stringify(this.pathes));return p.forEach(function(w){for(var z=0;z<O.length;z++){var J=O[z],ce=s.similar2Path(mn(w.elements),mn(J.elements));ce>w.weight&&J.weight<=ce&&(w.weight=ce,w.similarElement=J,ce===J.weight&&J.similarElement?(J.similarElement.similarElement=null,J.similarElement.weight=0,J.similarElement=null,J.weight=0):(J.similarElement=w,J.weight=ce))}}),p.forEach(function(w){w.similarElement&&w.similarElement.similarElement===w&&(w.routeId=w.similarElement.routeId,w.name=w.similarElement.name),delete w.similarElement,delete w.weight}),this.setPathes(p),p},y.prototype.similar2Path=function(f,s){var p=0,g=f.length+s.length;f.sort(),s.sort();for(var O=f.shift(),w=s.shift();void 0!==O&&void 0!==w;)O===w?(p++,O=f.shift(),w=s.shift()):O<w?O=f.shift():O>w&&(w=s.shift());return p/g*200},y.prototype.getNewId=function(f){return f+"_"+D()},y.prototype.isLoopPath=function(f){var s=f.length;return f.indexOf(f[s-1])!==s-1?1:0},y.pluginName="flowPath"}(),function(){return So=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},So.apply(this,arguments)}),Co=(function(){function y(f){var s=this,p=f.lf;this.lf=p,this.trunk=[],p.layout=function(g){var O=s.lf.getGraphRawData();s.lf.setStartNodeType(g);var w=s.lf.getPathes();return s.levelHeight=[],s.newNodeMap=new Map,s.layout(O,w)}}y.prototype.layout=function(f,s){var p=this,g=[];s.forEach(function(J){var ce=J.elements;ce.length>g.length?g=ce:ce.length===g.length&&JSON.stringify(ce)===JSON.stringify(p.trunk)&&(g=p.trunk)}),this.trunk=g;for(var O=this.formatData(f),w={nodes:[],edges:[]},z=g.length-1;z>=0;z--)this.setNodePosition(g[z],O,w,z,1);this.lf.graphModel.graphDataToModel(w)},y.prototype.setNodePosition=function(f,s,p,g,O){var w=this,z=s[f],J=z.text,ce=z.type,Q=z.next,_e=160*g+40,He=120*O,et={id:f,x:_e,text:J,y:He,type:ce,properties:z.properties};return J&&"object"==typeof J&&(et.text=So(So({},J),{x:_e+J.x,y:He+J.y})),this.newNodeMap.set(et.id,{x:et.x,y:et.y,type:ce}),p.nodes.push(et),z.isFixed=!0,this.addLevelHeight(g,1),Q&&Q.length>0&&Q.forEach(function(wt){if(!s[wt.nodeId].isFixed){var pt=w.getLevelHeight(g+1);w.addLevelHeight(g,1),w.setNodePosition(wt.nodeId,s,p,g+1,pt+1)}p.edges.push(So({id:wt.edgeId,type:wt.edgeType,sourceNodeId:f,targetNodeId:wt.nodeId,properties:wt.properties,text:wt.text},w.getEdgeDataPoints(f,wt.nodeId)))}),et},y.prototype.getEdgeDataPoints=function(f,s){var p=this.newNodeMap.get(f),g=this.newNodeMap.get(s),O=this.getShape(f),w=O.width,z=O.height,J=this.getShape(s),ce=J.width,Q=J.height,ke=this.getRelativePosition(p,g),_e={x:p.x,y:p.y},He={x:g.x,y:g.y};switch(ke){case 0:_e.x=p.x+w/2,He.x=g.x-ce/2;break;case-1:_e.y=p.y+z/2,He.x=g.x-ce/2;break;case 1:_e.x=p.x+w/2,He.y=g.y+Q/2}return{startPoint:_e,endPoint:He}},y.prototype.getRelativePosition=function(f,s){var p=f.y,g=s.y;return p<g?-1:p===g?0:1},y.prototype.getShape=function(f){var s=this.lf.getNodeModelById(f);return{height:s.height,width:s.width}},y.prototype.formatData=function(f){var s=f.nodes.reduce(function(p,g){var O=g.type,w=g.properties,z=g.text,ce=g.y;return z&&"object"==typeof z&&(z.x=z.x-g.x,z.y=z.y-ce),p[g.id]={type:O,properties:w,text:z,prev:[],next:[]},p},{});return f.edges.forEach(function(p){var g=p.sourceNodeId,O=p.targetNodeId,w=p.id,z=p.properties,J=p.text,ce=J;"object"==typeof J&&(ce=J.value),s[g].next.push({edgeId:w,nodeId:O,edgeType:p.type,properties:z,text:ce}),s[O].prev.push({edgeId:w,nodeId:g,properties:z,text:ce})}),s},y.prototype.addLevelHeight=function(f,s,p){void 0===s&&(s=1),void 0===p&&(p=!1);var g=this.levelHeight[f];g||(this.levelHeight[f]=g={positiveHeight:0,negativeHeight:0}),p?g.negativeHeight-=s:g.positiveHeight+=s},y.prototype.getLevelHeight=function(f,s){void 0===s&&(s=!1);var p=this.levelHeight[f];return p?s?p.negativeHeight:p.positiveHeight:0},y.pluginName="AutoLayout"}(),function(){return Co=Object.assign||function(y){for(var f,s=1,p=arguments.length;s<p;s++)for(var g in f=arguments[s])Object.prototype.hasOwnProperty.call(f,g)&&(y[g]=f[g]);return y},Co.apply(this,arguments)}),za=function(y,f){var s="function"==typeof Symbol&&y[Symbol.iterator];if(!s)return y;var g,w,p=s.call(y),O=[];try{for(;(void 0===f||f-- >0)&&!(g=p.next()).done;)O.push(g.value)}catch(z){w={error:z}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(w)throw w.error}}return O},Pr=function(){for(var y=[],f=0;f<arguments.length;f++)y=y.concat(za(arguments[f]));return y};!function(){function y(f){var s=f.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=s}y.prototype.setMode=function(f){this.mode=f},y.prototype.setManual=function(f){this.manual=f},y.prototype.highlightSingle=function(f){var s=this.lf.getModelById(f);"node"===s.BaseType?s.updateStyles(this.tempStyles[f]):"edge"===s.BaseType&&(s.updateStyles(this.tempStyles[f]),s.sourceNode.updateStyles(this.tempStyles[s.sourceNode.id]),s.targetNode.updateStyles(this.tempStyles[s.targetNode.id]))},y.prototype.highlightPath=function(f){var s=this,p=function(y,f){var s=f.getModelById(y);return function(y,f){var s=[],p=[],g=function(w,z,J){void 0===J&&(J=null),J&&z.unshift.apply(z,Pr(f.getEdgeModels({sourceNodeId:w.id,targetNodeId:J.id}).map(function(ce){return ce.id}))),z.includes(w.id)?s.push(z):(z.unshift(w.id),w.incoming.nodes.length?w.incoming.nodes.forEach(function(ce){g(ce,z.slice(),w)}):s.push(z))},O=function(w,z,J){void 0===J&&(J=null),J&&z.push.apply(z,Pr(f.getEdgeModels({sourceNodeId:J.id,targetNodeId:w.id}).map(function(ce){return ce.id}))),z.includes(w.id)?p.push(z):(z.push(w.id),w.outgoing.nodes.length?w.outgoing.nodes.forEach(function(ce){O(ce,z.slice(),w)}):p.push(z))};return g(y,[]),O(y,[]),Pr(new Set(Pr(s.flat(),p.flat())))}("node"===s.BaseType?s:s.targetNode,f)}(f,this.lf);p.forEach(function(g){s.lf.getModelById(g).updateStyles(s.tempStyles[g])})},y.prototype.highlight=function(f,s){var p=this;void 0===s&&(s=this.mode),this.manual||(Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(O){var w="node"===O.BaseType?O.getNodeStyle():O.getEdgeStyle();p.tempStyles[O.id]=Co({},w),O.setStyles({opacity:.1})}),{single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)}[s](f))},y.prototype.restoreHighlight=function(){var f=this;!Object.keys(this.tempStyles).length||(Object.values(this.lf.graphModel.modelsMap).forEach(function(s){var p,g=null!==(p=f.tempStyles[s.id])&&void 0!==p?p:{};s.updateStyles(Co({},g))}),this.tempStyles={})},y.prototype.render=function(f,s){var p=this;this.lf.on("node:mouseenter",function(g){return p.highlight(g.data.id)}),this.lf.on("edge:mouseenter",function(g){return p.highlight(g.data.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},y.prototype.destroy=function(){},y.pluginName="highlight"}()},2027:(Jn,tn,C)=>{"use strict";C.d(tn,{N:()=>a});var u=C(4650);let a=(()=>{class E{constructor(){}ngOnInit(){}downloadXml(){const b=this.lf.getGraphData();this.download("logic-flow.xml",b)}downloadImage(){this.lf.getSnapshot()}uploadXml(b){const x=b.target.files[0],D=new FileReader;D.onload=F=>{if(F.target){let R=F.target.result;console.log(R),this.isJSON(R)&&(console.log("\u662fJson"),R=JSON.parse(R)),this.lf.render(R)}},D.readAsText(x)}getGraphRawData(){const b=JSON.stringify(this.lf.getGraphRawData());this.download("logic-flow.txt",b)}download(b,x){var D=document.createElement("a");D.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(x)),D.setAttribute("download",b),D.style.display="none",document.body.appendChild(D),D.click(),document.body.removeChild(D)}isJSON(b){if("string"==typeof b)try{var x=JSON.parse(b);return!("object"!=typeof x||!x)}catch(D){return console.log("error\uff1a"+b+"!!!"+D),!1}return console.log("It is not a string!"),!1}}return E.\u0275fac=function(b){return new(b||E)},E.\u0275cmp=u.Xpm({type:E,selectors:[["app-bpnm-data-panel"]],inputs:{lf:"lf"},decls:3,vars:0,consts:[[1,"data-panel"],["title","\u4e0b\u8f7dJSON\u683c\u5f0f\u6570\u636e",1,"data-item",3,"mousedown"],[1,"data-item-icon","bpmn-look"]],template:function(b,x){1&b&&(u.TgZ(0,"div",0)(1,"div",1),u.NdJ("mousedown",function(){return x.getGraphRawData()}),u._UZ(2,"div",2),u.qZA()())},styles:[".data-panel[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:10px;height:40px;width:auto;padding:10px;background-color:#fff;box-shadow:0 0 10px 1px #e4e0db;border-radius:6px;text-align:center;z-index:101}.data-item[_ngcontent-%COMP%]{margin:0 5px;display:inline-block;position:relative}.data-item-icon[_ngcontent-%COMP%]{width:20px;height:20px;background-size:cover}.data-label[_ngcontent-%COMP%]{font-size:12px;margin-top:5px;-webkit-user-select:none;user-select:none}.data-upload[_ngcontent-%COMP%]{opacity:0;position:absolute;width:20px;height:20px;left:0;right:0}.bpmn-xml[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII=) center center no-repeat;cursor:grab}.bpmn-img[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg==) center center no-repeat;cursor:grab}.bpmn-upload[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAPpJREFUOE/t1MERgjAQBdC/XWTGDtAOPNmDUIQ1GEVjDRYh9uDJDtQOnNmjHawTDBgQCDoczY2BffPZTUIYeNHAHnqBSssdwIMNjUMBgqDScgAQOyhjQ0kX2gl62NUhNmEn2gqWGCGBYJGDhD0ENnEr2gj6GG8pU1pO1mNDM7WSuAttAwWExGIW8sH82aFs6KM+OJQm8OehFIX1hH+w0oFyKCqViFO6NfUnn6rdNm7q9W/82jeo5QLBkXeUhs6r/14tJQVhzoYmr73vltIiEGx+BNfFnvRBe6OcIWj87dbUhAjAlA2NqglddADBK6qGX/1W9Top3/R0cPAJtuF4FVy0lcoAAAAASUVORK5CYII=) center center no-repeat;cursor:grab}.bpmn-look[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAnRJREFUOE+tlD9oU1EUh7/TF2qjHVSkeZUOIkqlLe3goIuiiyJUFKTVUR0ERYdCUSlJfSahqBQ6KAoO6qgGQbEguih10cGhpS2KIg7F3hRRh2pqycuRmyZpkv5JBe947znfPb97zu8K/3lJJd4mT2tmYLONq4HPXzyZWS5nUeCWc7pqeh0DKLuB5jLAGMJQ7Q+6Pl2XP+XwBcBQrx4V5TYwC1wVZcTPMGwTnSraVGgFLgDVKpxKRuVBMbQEGIroDoE3wOuAw+EJT74vJq/B0/Vpn8fALoWdyZi8zcfNAz0NuD4TwDMTkxOV3taeuxG9CxwwDg14krZ7BaDbq/0oRzRFS7Jffq0EGOrWNRJkFOGRiUp3KTCi74E7JibXVgLLx7gRPQ+cNDHZVgA2dGkwXctvVQ4m4zJYDHTDusfE5VUB0KsdKA9R9tr9UFjbRXgamGb1xICkspLrerS1ymE47bPxW59MFpLD6iFcAhImJp3uPOyyiYtn4zb0aH3A4WvGp22qT0ayQNfTJnzGMj7uVJ8ks3t5mNCZrQgSgK2uAMsVE6pyMDg0G0/Gs8CsG3xSouyfjMsLKxPhJUKniUpiscryKurDuk+F5zUOQeui+S5HdBS4Z2LS/49Nsd09bmLSUj42N1E6Ag6NSw10+UW5Af+AkDBROVMCzPp3LVPAsImJ9XDF5UZ0CGir/Uld3tel1pvz8X0rXVOcXWrAcwN9w0pV4Vixnxd+DnN+fgKkgFuqjPsZ3uU+h+0iNAGngaDCoWIfl0gu0Wd9neEKSjvQWKbdvtmgqeJi3r/F5xU/WOui2SBbbVJ1io/WDcs9bkVgxc6UBfwFYNYAJBo0vLQAAAAASUVORK5CYII=) center center no-repeat;cursor:grab}"]}),E})()},4466:(Jn,tn,C)=>{"use strict";C.d(tn,{m:()=>D});var u=C(6895),E=(C(2027),C(4650));const v=[u.ez];let D=(()=>{class F{}return F.\u0275fac=function(U){return new(U||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({imports:[v]}),F})()},3948:(Jn,tn,C)=>{"use strict";C.d(tn,{rt:()=>tt,tE:()=>cn,qV:()=>ge});var u=C(6895),a=C(4650),E=C(3353),v=C(1135),b=C(7579),x=C(9646),D=C(9521),F=C(5698),R=C(5684),U=C(1884),G=C(2722),X=C(1281);let $=(()=>{class ye{create(ne){return typeof MutationObserver>"u"?null:new MutationObserver(ne)}}return ye.\u0275fac=function(ne){return new(ne||ye)},ye.\u0275prov=a.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),se=(()=>{class ye{}return ye.\u0275fac=function(ne){return new(ne||ye)},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({providers:[$]}),ye})();var ie=C(9664);let it=(()=>{class ye{constructor(ne){this._platform=ne}isDisabled(ne){return ne.hasAttribute("disabled")}isVisible(ne){return function at(ye){return!!(ye.offsetWidth||ye.offsetHeight||"function"==typeof ye.getClientRects&&ye.getClientRects().length)}(ne)&&"visible"===getComputedStyle(ne).visibility}isTabbable(ne){if(!this._platform.isBrowser)return!1;const _=function ot(ye){try{return ye.frameElement}catch{return null}}(function Y(ye){return ye.ownerDocument&&ye.ownerDocument.defaultView||window}(ne));if(_&&(-1===gt(_)||!this.isVisible(_)))return!1;let j=ne.nodeName.toLowerCase(),T=gt(ne);return ne.hasAttribute("contenteditable")?-1!==T:!("iframe"===j||"object"===j||this._platform.WEBKIT&&this._platform.IOS&&!function Ie(ye){let fe=ye.nodeName.toLowerCase(),ne="input"===fe&&ye.type;return"text"===ne||"password"===ne||"select"===fe||"textarea"===fe}(ne))&&("audio"===j?!!ne.hasAttribute("controls")&&-1!==T:"video"===j?-1!==T&&(null!==T||this._platform.FIREFOX||ne.hasAttribute("controls")):ne.tabIndex>=0)}isFocusable(ne,_){return function re(ye){return!function St(ye){return function zt(ye){return"input"==ye.nodeName.toLowerCase()}(ye)&&"hidden"==ye.type}(ye)&&(function ht(ye){let fe=ye.nodeName.toLowerCase();return"input"===fe||"select"===fe||"button"===fe||"textarea"===fe}(ye)||function It(ye){return function Qe(ye){return"a"==ye.nodeName.toLowerCase()}(ye)&&ye.hasAttribute("href")}(ye)||ye.hasAttribute("contenteditable")||Et(ye))}(ne)&&!this.isDisabled(ne)&&(_?.ignoreVisibility||this.isVisible(ne))}}return ye.\u0275fac=function(ne){return new(ne||ye)(a.LFG(E.t4))},ye.\u0275prov=a.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function Et(ye){if(!ye.hasAttribute("tabindex")||void 0===ye.tabIndex)return!1;let fe=ye.getAttribute("tabindex");return!(!fe||isNaN(parseInt(fe,10)))}function gt(ye){if(!Et(ye))return null;const fe=parseInt(ye.getAttribute("tabindex")||"",10);return isNaN(fe)?-1:fe}class V{constructor(fe,ne,_,j,T=!1){this._element=fe,this._checker=ne,this._ngZone=_,this._document=j,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,T||this.attachAnchors()}get enabled(){return this._enabled}set enabled(fe){this._enabled=fe,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(fe,this._startAnchor),this._toggleAnchorTabIndex(fe,this._endAnchor))}destroy(){const fe=this._startAnchor,ne=this._endAnchor;fe&&(fe.removeEventListener("focus",this.startAnchorListener),fe.remove()),ne&&(ne.removeEventListener("focus",this.endAnchorListener),ne.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(fe){return new Promise(ne=>{this._executeOnStable(()=>ne(this.focusInitialElement(fe)))})}focusFirstTabbableElementWhenReady(fe){return new Promise(ne=>{this._executeOnStable(()=>ne(this.focusFirstTabbableElement(fe)))})}focusLastTabbableElementWhenReady(fe){return new Promise(ne=>{this._executeOnStable(()=>ne(this.focusLastTabbableElement(fe)))})}_getRegionBoundary(fe){const ne=this._element.querySelectorAll(`[cdk-focus-region-${fe}], [cdkFocusRegion${fe}], [cdk-focus-${fe}]`);return"start"==fe?ne.length?ne[0]:this._getFirstTabbableElement(this._element):ne.length?ne[ne.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(fe){const ne=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(ne){if(!this._checker.isFocusable(ne)){const _=this._getFirstTabbableElement(ne);return _?.focus(fe),!!_}return ne.focus(fe),!0}return this.focusFirstTabbableElement(fe)}focusFirstTabbableElement(fe){const ne=this._getRegionBoundary("start");return ne&&ne.focus(fe),!!ne}focusLastTabbableElement(fe){const ne=this._getRegionBoundary("end");return ne&&ne.focus(fe),!!ne}hasAttached(){return this._hasAttached}_getFirstTabbableElement(fe){if(this._checker.isFocusable(fe)&&this._checker.isTabbable(fe))return fe;const ne=fe.children;for(let _=0;_<ne.length;_++){const j=ne[_].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(ne[_]):null;if(j)return j}return null}_getLastTabbableElement(fe){if(this._checker.isFocusable(fe)&&this._checker.isTabbable(fe))return fe;const ne=fe.children;for(let _=ne.length-1;_>=0;_--){const j=ne[_].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(ne[_]):null;if(j)return j}return null}_createAnchor(){const fe=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,fe),fe.classList.add("cdk-visually-hidden"),fe.classList.add("cdk-focus-trap-anchor"),fe.setAttribute("aria-hidden","true"),fe}_toggleAnchorTabIndex(fe,ne){fe?ne.setAttribute("tabindex","0"):ne.removeAttribute("tabindex")}toggleAnchors(fe){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(fe,this._startAnchor),this._toggleAnchorTabIndex(fe,this._endAnchor))}_executeOnStable(fe){this._ngZone.isStable?fe():this._ngZone.onStable.pipe((0,F.q)(1)).subscribe(fe)}}let ge=(()=>{class ye{constructor(ne,_,j){this._checker=ne,this._ngZone=_,this._document=j}create(ne,_=!1){return new V(ne,this._checker,this._ngZone,this._document,_)}}return ye.\u0275fac=function(ne){return new(ne||ye)(a.LFG(it),a.LFG(a.R0b),a.LFG(u.K0))},ye.\u0275prov=a.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const yt=new a.OlP("cdk-input-modality-detector-options"),xt={ignoreKeys:[D.zL,D.jx,D.b2,D.MW,D.JU]},Ut=(0,E.i$)({passive:!0,capture:!0});let $t=(()=>{class ye{constructor(ne,_,j,T){this._platform=ne,this._mostRecentTarget=null,this._modality=new v.X(null),this._lastTouchMs=0,this._onKeydown=M=>{this._options?.ignoreKeys?.some(B=>B===M.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(M))},this._onMousedown=M=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function Le(ye){return 0===ye.buttons||0===ye.offsetX&&0===ye.offsetY}(M)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(M))},this._onTouchstart=M=>{!function Rt(ye){const fe=ye.touches&&ye.touches[0]||ye.changedTouches&&ye.changedTouches[0];return!(!fe||-1!==fe.identifier||null!=fe.radiusX&&1!==fe.radiusX||null!=fe.radiusY&&1!==fe.radiusY)}(M)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(M)):this._modality.next("keyboard")},this._options={...xt,...T},this.modalityDetected=this._modality.pipe((0,R.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,U.x)()),ne.isBrowser&&_.runOutsideAngular(()=>{j.addEventListener("keydown",this._onKeydown,Ut),j.addEventListener("mousedown",this._onMousedown,Ut),j.addEventListener("touchstart",this._onTouchstart,Ut)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ut),document.removeEventListener("mousedown",this._onMousedown,Ut),document.removeEventListener("touchstart",this._onTouchstart,Ut))}}return ye.\u0275fac=function(ne){return new(ne||ye)(a.LFG(E.t4),a.LFG(a.R0b),a.LFG(u.K0),a.LFG(yt,8))},ye.\u0275prov=a.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const gn=new a.OlP("cdk-focus-monitor-default-options"),fn=(0,E.i$)({passive:!0,capture:!0});let cn=(()=>{class ye{constructor(ne,_,j,T,M){this._ngZone=ne,this._platform=_,this._inputModalityDetector=j,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new b.x,this._rootNodeFocusAndBlurListener=B=>{for(let We=(0,E.sA)(B);We;We=We.parentElement)"focus"===B.type?this._onFocus(B,We):this._onBlur(B,We)},this._document=T,this._detectionMode=M?.detectionMode||0}monitor(ne,_=!1){const j=(0,X.fI)(ne);if(!this._platform.isBrowser||1!==j.nodeType)return(0,x.of)(null);const T=(0,E.kV)(j)||this._getDocument(),M=this._elementInfo.get(j);if(M)return _&&(M.checkChildren=!0),M.subject;const B={checkChildren:_,subject:new b.x,rootNode:T};return this._elementInfo.set(j,B),this._registerGlobalListeners(B),B.subject}stopMonitoring(ne){const _=(0,X.fI)(ne),j=this._elementInfo.get(_);j&&(j.subject.complete(),this._setClasses(_),this._elementInfo.delete(_),this._removeGlobalListeners(j))}focusVia(ne,_,j){const T=(0,X.fI)(ne);T===this._getDocument().activeElement?this._getClosestElementsInfo(T).forEach(([B,ae])=>this._originChanged(B,_,ae)):(this._setOrigin(_),"function"==typeof T.focus&&T.focus(j))}ngOnDestroy(){this._elementInfo.forEach((ne,_)=>this.stopMonitoring(_))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ne){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ne)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ne&&this._isLastInteractionFromInputLabel(ne)?"mouse":"program"}_shouldBeAttributedToTouch(ne){return 1===this._detectionMode||!!ne?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ne,_){ne.classList.toggle("cdk-focused",!!_),ne.classList.toggle("cdk-touch-focused","touch"===_),ne.classList.toggle("cdk-keyboard-focused","keyboard"===_),ne.classList.toggle("cdk-mouse-focused","mouse"===_),ne.classList.toggle("cdk-program-focused","program"===_)}_setOrigin(ne,_=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ne,this._originFromTouchInteraction="touch"===ne&&_,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ne,_){const j=this._elementInfo.get(_),T=(0,E.sA)(ne);!j||!j.checkChildren&&_!==T||this._originChanged(_,this._getFocusOrigin(T),j)}_onBlur(ne,_){const j=this._elementInfo.get(_);!j||j.checkChildren&&ne.relatedTarget instanceof Node&&_.contains(ne.relatedTarget)||(this._setClasses(_),this._emitOrigin(j,null))}_emitOrigin(ne,_){ne.subject.observers.length&&this._ngZone.run(()=>ne.subject.next(_))}_registerGlobalListeners(ne){if(!this._platform.isBrowser)return;const _=ne.rootNode,j=this._rootNodeFocusListenerCount.get(_)||0;j||this._ngZone.runOutsideAngular(()=>{_.addEventListener("focus",this._rootNodeFocusAndBlurListener,fn),_.addEventListener("blur",this._rootNodeFocusAndBlurListener,fn)}),this._rootNodeFocusListenerCount.set(_,j+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,G.R)(this._stopInputModalityDetector)).subscribe(T=>{this._setOrigin(T,!0)}))}_removeGlobalListeners(ne){const _=ne.rootNode;if(this._rootNodeFocusListenerCount.has(_)){const j=this._rootNodeFocusListenerCount.get(_);j>1?this._rootNodeFocusListenerCount.set(_,j-1):(_.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fn),_.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fn),this._rootNodeFocusListenerCount.delete(_))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ne,_,j){this._setClasses(ne,_),this._emitOrigin(j,_),this._lastFocusOrigin=_}_getClosestElementsInfo(ne){const _=[];return this._elementInfo.forEach((j,T)=>{(T===ne||j.checkChildren&&T.contains(ne))&&_.push([T,j])}),_}_isLastInteractionFromInputLabel(ne){const{_mostRecentTarget:_,mostRecentModality:j}=this._inputModalityDetector;if("mouse"!==j||!_||_===ne||"INPUT"!==ne.nodeName&&"TEXTAREA"!==ne.nodeName||ne.disabled)return!1;const T=ne.labels;if(T)for(let M=0;M<T.length;M++)if(T[M].contains(_))return!0;return!1}}return ye.\u0275fac=function(ne){return new(ne||ye)(a.LFG(a.R0b),a.LFG(E.t4),a.LFG($t),a.LFG(u.K0,8),a.LFG(gn,8))},ye.\u0275prov=a.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const lt="cdk-high-contrast-black-on-white",ve="cdk-high-contrast-white-on-black",me="cdk-high-contrast-active";let $e=(()=>{class ye{constructor(ne,_){this._platform=ne,this._document=_,this._breakpointSubscription=(0,a.f3M)(ie.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ne=this._document.createElement("div");ne.style.backgroundColor="rgb(1,2,3)",ne.style.position="absolute",this._document.body.appendChild(ne);const _=this._document.defaultView||window,j=_&&_.getComputedStyle?_.getComputedStyle(ne):null,T=(j&&j.backgroundColor||"").replace(/ /g,"");switch(ne.remove(),T){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ne=this._document.body.classList;ne.remove(me,lt,ve),this._hasCheckedHighContrastMode=!0;const _=this.getHighContrastMode();1===_?ne.add(me,lt):2===_&&ne.add(me,ve)}}}return ye.\u0275fac=function(ne){return new(ne||ye)(a.LFG(E.t4),a.LFG(u.K0))},ye.\u0275prov=a.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),tt=(()=>{class ye{constructor(ne){ne._applyBodyHighContrastModeCssClasses()}}return ye.\u0275fac=function(ne){return new(ne||ye)(a.LFG($e))},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({imports:[se]}),ye})()},1452:(Jn,tn,C)=>{"use strict";C.d(tn,{iD:()=>ze});var u=C(4650),a=C(4707),E=C(6451),v=C(3900),b=C(4004);const x={schedule(pe,W){const k=setTimeout(pe,W);return()=>clearTimeout(k)},scheduleBeforeRender(pe){if(typeof window>"u")return x.schedule(pe,0);if(typeof window.requestAnimationFrame>"u")return x.schedule(pe,16);const W=window.requestAnimationFrame(pe);return()=>window.cancelAnimationFrame(W)}};let G;function ie(pe,W,k){let le=k;return function F(pe){return!!pe&&pe.nodeType===Node.ELEMENT_NODE}(pe)&&W.some((be,Pe)=>!("*"===be||!function X(pe,W){if(!G){const k=Element.prototype;G=k.matches||k.matchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector||k.webkitMatchesSelector}return pe.nodeType===Node.ELEMENT_NODE&&G.call(pe,W)}(pe,be)||(le=Pe,0))),le}class Te{constructor(W,k){this.componentFactory=k.get(u._Vd).resolveComponentFactory(W)}create(W){return new Ne(this.componentFactory,W)}}class Ne{constructor(W,k){this.componentFactory=W,this.injector=k,this.eventEmitters=new a.t(1),this.events=this.eventEmitters.pipe((0,v.w)(le=>(0,E.T)(...le))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:le})=>le)),this.ngZone=this.injector.get(u.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(W){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(W)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=x.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(W){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(W):this.componentRef.instance[W])}setInputValue(W,k){this.runInZone(()=>{null!==this.componentRef?function $(pe,W){return pe===W||pe!=pe&&W!=W}(k,this.getInputValue(W))&&(void 0!==k||!this.unchangedInputs.has(W))||(this.recordInputChange(W,k),this.unchangedInputs.delete(W),this.hasInputChanges=!0,this.componentRef.instance[W]=k,this.scheduleDetectChanges()):this.initialInputValues.set(W,k)})}initializeComponent(W){const k=u.zs3.create({providers:[],parent:this.injector}),le=function se(pe,W){const k=pe.childNodes,le=W.map(()=>[]);let be=-1;W.some((Pe,Je)=>"*"===Pe&&(be=Je,!0));for(let Pe=0,Je=k.length;Pe<Je;++Pe){const we=k[Pe],Ye=ie(we,W,be);-1!==Ye&&le[Ye].push(we)}return le}(W,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(k,le,W),this.viewChangeDetectorRef=this.componentRef.injector.get(u.sBO),this.implementsOnChanges=function R(pe){return"function"==typeof pe}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(u.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:W})=>{this.initialInputValues.has(W)&&this.setInputValue(W,this.initialInputValues.get(W))}),this.initialInputValues.clear()}initializeOutputs(W){const k=this.componentFactory.outputs.map(({propName:le,templateName:be})=>W.instance[le].pipe((0,b.U)(Je=>({name:be,value:Je}))));this.eventEmitters.next(k)}callNgOnChanges(W){if(!this.implementsOnChanges||null===this.inputChanges)return;const k=this.inputChanges;this.inputChanges=null,W.instance.ngOnChanges(k)}markViewForCheck(W){this.hasInputChanges&&(this.hasInputChanges=!1,W.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=x.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(W,k){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const le=this.inputChanges[W];if(le)return void(le.currentValue=k);const be=this.unchangedInputs.has(W),Pe=be?void 0:this.getInputValue(W);this.inputChanges[W]=new u.WD2(Pe,k,be)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(W){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(W):W()}}class Se extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function ze(pe,W){const k=function de(pe,W){return W.get(u._Vd).resolveComponentFactory(pe).inputs}(pe,W.injector),le=W.strategyFactory||new Te(pe,W.injector),be=function K(pe){const W={};return pe.forEach(({propName:k,templateName:le})=>{W[function D(pe){return pe.replace(/[A-Z]/g,W=>`-${W.toLowerCase()}`)}(le)]=k}),W}(k);class Pe extends Se{constructor(we){super(),this.injector=we}get ngElementStrategy(){if(!this._ngElementStrategy){const we=this._ngElementStrategy=le.create(this.injector||W.injector);k.forEach(({propName:Ye})=>{if(!this.hasOwnProperty(Ye))return;const it=this[Ye];delete this[Ye],we.setInputValue(Ye,it)})}return this._ngElementStrategy}attributeChangedCallback(we,Ye,it,ot){this.ngElementStrategy.setInputValue(be[we],it)}connectedCallback(){let we=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),we=!0),this.ngElementStrategy.connect(this),we||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(we=>{const Ye=new CustomEvent(we.name,{detail:we.value});this.dispatchEvent(Ye)})}}return Pe.observedAttributes=Object.keys(be),k.forEach(({propName:Je})=>{Object.defineProperty(Pe.prototype,Je,{get(){return this.ngElementStrategy.getInputValue(Je)},set(we){this.ngElementStrategy.setInputValue(Je,we)},configurable:!0,enumerable:!0})}),Pe}},6616:(Jn,tn,C)=>{"use strict";C.d(tn,{ix:()=>Te,sL:()=>Se});var u=C(655),a=C(4650),E=C(7579),v=C(4968),b=C(2722),x=C(8675),D=C(9300),F=C(2536),R=C(3187),U=C(1102),G=C(445),X=C(6895),$=C(7044),K=C(1664);const de=["nz-button",""];function se(ze,Ee){1&ze&&a._UZ(0,"span",1)}const ie=["*"];let Te=(()=>{class ze{constructor(pe,W,k,le,be,Pe){this.ngZone=pe,this.elementRef=W,this.cdr=k,this.renderer=le,this.nzConfigService=be,this.directionality=Pe,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new E.x,this.loading$=new E.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,b.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(pe,W){pe.forEach(k=>{if("#text"===k.nodeName){const le=W.createElement("span"),be=W.parentNode(k);W.insertBefore(be,le,k),W.appendChild(le,k)}})}assertIconOnly(pe,W){const k=Array.from(pe.childNodes),le=k.filter(we=>{const Ye=Array.from(we.childNodes||[]);return"SPAN"===we.nodeName&&Ye.length>0&&Ye.every(it=>"svg"===it.nodeName)}).length,be=k.every(we=>"#text"!==we.nodeName);k.filter(we=>{const Ye=Array.from(we.childNodes||[]);return!("SPAN"===we.nodeName&&Ye.length>0&&Ye.every(it=>"svg"===it.nodeName))}).every(we=>"SPAN"!==we.nodeName)&&be&&le>=1&&W.addClass(pe,"ant-btn-icon-only")}ngOnInit(){this.directionality.change?.pipe((0,b.R)(this.destroy$)).subscribe(pe=>{this.dir=pe,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,v.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,b.R)(this.destroy$)).subscribe(pe=>{(this.disabled&&"A"===pe.target?.tagName||this.nzLoading)&&(pe.preventDefault(),pe.stopImmediatePropagation())})})}ngOnChanges(pe){const{nzLoading:W}=pe;W&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,x.O)(this.nzLoading),(0,D.h)(()=>!!this.nzIconDirectiveElement),(0,b.R)(this.destroy$)).subscribe(pe=>{const W=this.nzIconDirectiveElement.nativeElement;pe?this.renderer.setStyle(W,"display","none"):this.renderer.removeStyle(W,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return ze.\u0275fac=function(pe){return new(pe||ze)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.Qsj),a.Y36(F.jY),a.Y36(G.Is,8))},ze.\u0275cmp=a.Xpm({type:ze,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(pe,W,k){if(1&pe&&a.Suo(k,U.Ls,5,a.SBq),2&pe){let le;a.iGM(le=a.CRH())&&(W.nzIconDirectiveElement=le.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(pe,W){2&pe&&(a.uIk("tabindex",W.disabled?-1:null===W.tabIndex?null:W.tabIndex)("disabled",W.disabled||null),a.ekj("ant-btn-primary","primary"===W.nzType)("ant-btn-dashed","dashed"===W.nzType)("ant-btn-link","link"===W.nzType)("ant-btn-text","text"===W.nzType)("ant-btn-circle","circle"===W.nzShape)("ant-btn-round","round"===W.nzShape)("ant-btn-lg","large"===W.nzSize)("ant-btn-sm","small"===W.nzSize)("ant-btn-dangerous",W.nzDanger)("ant-btn-loading",W.nzLoading)("ant-btn-background-ghost",W.nzGhost)("ant-btn-block",W.nzBlock)("ant-input-search-button",W.nzSearch)("ant-btn-rtl","rtl"===W.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[a.TTD],attrs:de,ngContentSelectors:ie,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(pe,W){1&pe&&(a.F$t(),a.YNc(0,se,1,0,"span",0),a.Hsn(1)),2&pe&&a.Q6J("ngIf",W.nzLoading)},dependencies:[X.O5,U.Ls,$.w],encapsulation:2,changeDetection:0}),(0,u.gn)([(0,R.yF)()],ze.prototype,"nzBlock",void 0),(0,u.gn)([(0,R.yF)()],ze.prototype,"nzGhost",void 0),(0,u.gn)([(0,R.yF)()],ze.prototype,"nzSearch",void 0),(0,u.gn)([(0,R.yF)()],ze.prototype,"nzLoading",void 0),(0,u.gn)([(0,R.yF)()],ze.prototype,"nzDanger",void 0),(0,u.gn)([(0,R.yF)()],ze.prototype,"disabled",void 0),(0,u.gn)([(0,F.oS)()],ze.prototype,"nzSize",void 0),ze})(),Se=(()=>{class ze{}return ze.\u0275fac=function(pe){return new(pe||ze)},ze.\u0275mod=a.oAB({type:ze}),ze.\u0275inj=a.cJS({imports:[G.vT,X.ez,K.vG,U.PV,$.a,$.a,K.vG]}),ze})()},9570:(Jn,tn,C)=>{"use strict";C.d(tn,{kH:()=>D,mJ:()=>G,w_:()=>U,yW:()=>F});var u=C(4650),a=C(4707),E=C(1135),v=C(6895),b=C(1102);function x(X,$){if(1&X&&u._UZ(0,"span",1),2&X){const K=u.oxw();u.Q6J("nzType",K.iconType)}}let D=(()=>{class X{constructor(){this.formStatusChanges=new a.t(1)}}return X.\u0275fac=function(K){return new(K||X)},X.\u0275prov=u.Yz7({token:X,factory:X.\u0275fac}),X})(),F=(()=>{class X{constructor(){this.noFormStatus=new E.X(!1)}}return X.\u0275fac=function(K){return new(K||X)},X.\u0275prov=u.Yz7({token:X,factory:X.\u0275fac}),X})();const R={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let U=(()=>{class X{constructor(K){this.cdr=K,this.status="",this.iconType=null}ngOnChanges(K){this.updateIcon()}updateIcon(){this.iconType=this.status?R[this.status]:null,this.cdr.markForCheck()}}return X.\u0275fac=function(K){return new(K||X)(u.Y36(u.sBO))},X.\u0275cmp=u.Xpm({type:X,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(K,de){2&K&&u.ekj("ant-form-item-feedback-icon-error","error"===de.status)("ant-form-item-feedback-icon-warning","warning"===de.status)("ant-form-item-feedback-icon-success","success"===de.status)("ant-form-item-feedback-icon-validating","validating"===de.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[u.TTD],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(K,de){1&K&&u.YNc(0,x,1,1,"span",0),2&K&&u.Q6J("ngIf",de.iconType)},dependencies:[v.O5,b.Ls],encapsulation:2,changeDetection:0}),X})(),G=(()=>{class X{}return X.\u0275fac=function(K){return new(K||X)},X.\u0275mod=u.oAB({type:X}),X.\u0275inj=u.cJS({imports:[v.ez,b.PV]}),X})()},7044:(Jn,tn,C)=>{"use strict";C.d(tn,{a:()=>v,w:()=>E});var u=C(3353),a=C(4650);let E=(()=>{class b{constructor(D,F){this.elementRef=D,this.renderer=F,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return b.\u0275fac=function(D){return new(D||b)(a.Y36(a.SBq),a.Y36(a.Qsj))},b.\u0275dir=a.lG2({type:b,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[a.TTD]}),b})(),v=(()=>{class b{}return b.\u0275fac=function(D){return new(D||b)},b.\u0275mod=a.oAB({type:b}),b.\u0275inj=a.cJS({imports:[u.ud]}),b})()},1664:(Jn,tn,C)=>{"use strict";C.d(tn,{dQ:()=>D,vG:()=>F});var u=C(3353),a=C(4650);class E{constructor(U,G,X,$){this.triggerElement=U,this.ngZone=G,this.insertExtraNode=X,this.platformId=$,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=K=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===K.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new u.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const U=this.triggerElement,G=this.getWaveColor(U);U.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(G)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${G};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",U.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{U.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(U){return!!U&&"#ffffff"!==U&&"rgb(255, 255, 255)"!==U&&this.isNotGrey(U)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(U)&&"transparent"!==U}isNotGrey(U){const G=U.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(G&&G[1]&&G[2]&&G[3]&&G[1]===G[2]&&G[2]===G[3])}getWaveColor(U){const G=getComputedStyle(U);return G.getPropertyValue("border-top-color")||G.getPropertyValue("border-color")||G.getPropertyValue("background-color")}runTimeoutOutsideZone(U,G){this.ngZone.runOutsideAngular(()=>setTimeout(U,G))}}const v={disabled:!1},b=new a.OlP("nz-wave-global-options",{providedIn:"root",factory:function x(){return v}});let D=(()=>{class R{constructor(G,X,$,K,de){this.ngZone=G,this.elementRef=X,this.config=$,this.animationType=K,this.platformId=de,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let G=!1;return this.config&&"boolean"==typeof this.config.disabled&&(G=this.config.disabled),"NoopAnimations"===this.animationType&&(G=!0),G}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new E(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return R.\u0275fac=function(G){return new(G||R)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(b,8),a.Y36(a.QbO,8),a.Y36(a.Lbi))},R.\u0275dir=a.lG2({type:R,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),R})(),F=(()=>{class R{}return R.\u0275fac=function(G){return new(G||R)},R.\u0275mod=a.oAB({type:R}),R.\u0275inj=a.cJS({imports:[u.ud]}),R})()},7131:(Jn,tn,C)=>{"use strict";C.d(tn,{BL:()=>Ie,ai:()=>Y,lB:()=>It});var u=C(655),a=C(9521),E=C(8184),v=C(4080),b=C(6895),x=C(4650),D=C(7579),F=C(2722),R=C(2536),U=C(3187),G=C(3948),X=C(445),$=C(1102),K=C(6287),de=C(4903);const se=["drawerTemplate"];function ie(V,ge){if(1&V){const Oe=x.EpF();x.TgZ(0,"div",11),x.NdJ("click",function(){x.CHM(Oe);const ct=x.oxw(2);return x.KtG(ct.maskClick())}),x.qZA()}if(2&V){const Oe=x.oxw(2);x.Q6J("ngStyle",Oe.nzMaskStyle)}}function Ae(V,ge){if(1&V&&(x.ynx(0),x._UZ(1,"span",19),x.BQk()),2&V){const Oe=ge.$implicit;x.xp6(1),x.Q6J("nzType",Oe)}}function Te(V,ge){if(1&V){const Oe=x.EpF();x.TgZ(0,"button",17),x.NdJ("click",function(){x.CHM(Oe);const ct=x.oxw(3);return x.KtG(ct.closeClick())}),x.YNc(1,Ae,2,1,"ng-container",18),x.qZA()}if(2&V){const Oe=x.oxw(3);x.xp6(1),x.Q6J("nzStringTemplateOutlet",Oe.nzCloseIcon)}}function Ne(V,ge){if(1&V&&(x.ynx(0),x._UZ(1,"div",21),x.BQk()),2&V){const Oe=x.oxw(4);x.xp6(1),x.Q6J("innerHTML",Oe.nzTitle,x.oJD)}}function Se(V,ge){if(1&V&&(x.TgZ(0,"div",20),x.YNc(1,Ne,2,1,"ng-container",18),x.qZA()),2&V){const Oe=x.oxw(3);x.xp6(1),x.Q6J("nzStringTemplateOutlet",Oe.nzTitle)}}function ze(V,ge){if(1&V&&(x.ynx(0),x._UZ(1,"div",21),x.BQk()),2&V){const Oe=x.oxw(4);x.xp6(1),x.Q6J("innerHTML",Oe.nzExtra,x.oJD)}}function Ee(V,ge){if(1&V&&(x.TgZ(0,"div",22),x.YNc(1,ze,2,1,"ng-container",18),x.qZA()),2&V){const Oe=x.oxw(3);x.xp6(1),x.Q6J("nzStringTemplateOutlet",Oe.nzExtra)}}function pe(V,ge){if(1&V&&(x.TgZ(0,"div",12)(1,"div",13),x.YNc(2,Te,2,1,"button",14),x.YNc(3,Se,2,1,"div",15),x.qZA(),x.YNc(4,Ee,2,1,"div",16),x.qZA()),2&V){const Oe=x.oxw(2);x.ekj("ant-drawer-header-close-only",!Oe.nzTitle),x.xp6(2),x.Q6J("ngIf",Oe.nzClosable),x.xp6(1),x.Q6J("ngIf",Oe.nzTitle),x.xp6(1),x.Q6J("ngIf",Oe.nzExtra)}}function W(V,ge){}function k(V,ge){1&V&&x.GkF(0)}function le(V,ge){if(1&V&&(x.ynx(0),x.YNc(1,k,1,0,"ng-container",24),x.BQk()),2&V){const Oe=x.oxw(3);x.xp6(1),x.Q6J("ngTemplateOutlet",Oe.nzContent)("ngTemplateOutletContext",Oe.templateContext)}}function be(V,ge){if(1&V&&(x.ynx(0),x.YNc(1,le,2,2,"ng-container",23),x.BQk()),2&V){const Oe=x.oxw(2);x.xp6(1),x.Q6J("ngIf",Oe.isTemplateRef(Oe.nzContent))}}function Pe(V,ge){}function Je(V,ge){if(1&V&&(x.ynx(0),x.YNc(1,Pe,0,0,"ng-template",25),x.BQk()),2&V){const Oe=x.oxw(3);x.xp6(1),x.Q6J("ngTemplateOutlet",Oe.contentFromContentChild)}}function we(V,ge){if(1&V&&x.YNc(0,Je,2,1,"ng-container",23),2&V){const Oe=x.oxw(2);x.Q6J("ngIf",Oe.contentFromContentChild&&(Oe.isOpen||Oe.inAnimation))}}function Ye(V,ge){if(1&V&&(x.ynx(0),x._UZ(1,"div",21),x.BQk()),2&V){const Oe=x.oxw(3);x.xp6(1),x.Q6J("innerHTML",Oe.nzFooter,x.oJD)}}function it(V,ge){if(1&V&&(x.TgZ(0,"div",26),x.YNc(1,Ye,2,1,"ng-container",18),x.qZA()),2&V){const Oe=x.oxw(2);x.xp6(1),x.Q6J("nzStringTemplateOutlet",Oe.nzFooter)}}function ot(V,ge){if(1&V&&(x.TgZ(0,"div",1),x.YNc(1,ie,1,1,"div",2),x.TgZ(2,"div")(3,"div",3)(4,"div",4),x.YNc(5,pe,5,5,"div",5),x.TgZ(6,"div",6),x.YNc(7,W,0,0,"ng-template",7),x.YNc(8,be,2,1,"ng-container",8),x.YNc(9,we,1,1,"ng-template",null,9,x.W1O),x.qZA(),x.YNc(11,it,2,1,"div",10),x.qZA()()()()),2&V){const Oe=x.MAs(10),xe=x.oxw();x.Udp("transform",xe.offsetTransform)("transition",xe.placementChanging?"none":null)("z-index",xe.nzZIndex),x.ekj("ant-drawer-rtl","rtl"===xe.dir)("ant-drawer-open",xe.isOpen)("no-mask",!xe.nzMask)("ant-drawer-top","top"===xe.nzPlacement)("ant-drawer-bottom","bottom"===xe.nzPlacement)("ant-drawer-right","right"===xe.nzPlacement)("ant-drawer-left","left"===xe.nzPlacement),x.Q6J("nzNoAnimation",xe.nzNoAnimation),x.xp6(1),x.Q6J("ngIf",xe.nzMask),x.xp6(1),x.Gre("ant-drawer-content-wrapper ",xe.nzWrapClassName,""),x.Udp("width",xe.width)("height",xe.height)("transform",xe.transform)("transition",xe.placementChanging?"none":null),x.xp6(2),x.Udp("height",xe.isLeftOrRight?"100%":null),x.xp6(1),x.Q6J("ngIf",xe.nzTitle||xe.nzClosable),x.xp6(1),x.Q6J("ngStyle",xe.nzBodyStyle),x.xp6(2),x.Q6J("ngIf",xe.nzContent)("ngIfElse",Oe),x.xp6(3),x.Q6J("ngIf",xe.nzFooter)}}let at=(()=>{class V{constructor(Oe){this.templateRef=Oe}}return V.\u0275fac=function(Oe){return new(Oe||V)(x.Y36(x.Rgc))},V.\u0275dir=x.lG2({type:V,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"]}),V})();class It{}let Et=(()=>{class V extends It{constructor(Oe,xe,ct,vt,Ct,Nt,Le,Rt,yt,xt,Pt){super(),this.cdr=Oe,this.document=xe,this.nzConfigService=ct,this.renderer=vt,this.overlay=Ct,this.injector=Nt,this.changeDetectorRef=Le,this.focusTrapFactory=Rt,this.viewContainerRef=yt,this.overlayKeyboardDispatcher=xt,this.directionality=Pt,this._nzModuleName="drawer",this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=!0,this.nzMask=!0,this.nzCloseOnNavigation=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzSize="default",this.nzMaskStyle={},this.nzBodyStyle={},this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.nzOnViewInit=new x.vpe,this.nzOnClose=new x.vpe,this.nzVisibleChange=new x.vpe,this.destroy$=new D.x,this.placementChanging=!1,this.placementChangeTimeoutId=-1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new D.x,this.nzAfterClose=new D.x,this.nzDirection=void 0,this.dir="ltr"}set nzVisible(Oe){this.isOpen=Oe}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){if(this.isLeftOrRight){const Oe="large"===this.nzSize?736:378;return(0,U.WX)(void 0===this.nzWidth?Oe:this.nzWidth)}return null}get height(){if(!this.isLeftOrRight){const Oe="large"===this.nzSize?736:378;return(0,U.WX)(void 0===this.nzHeight?Oe:this.nzHeight)}return null}get isLeftOrRight(){return"left"===this.nzPlacement||"right"===this.nzPlacement}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}isTemplateRef(Oe){return Oe instanceof x.Rgc}ngOnInit(){this.directionality.change?.pipe((0,F.R)(this.destroy$)).subscribe(Oe=>{this.dir=Oe,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(Oe){const{nzPlacement:xe,nzVisible:ct}=Oe;ct&&(Oe.nzVisible.currentValue?this.open():this.close()),xe&&!xe.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:300}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(Oe){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(Oe),this.nzAfterClose.complete(),this.componentInstance=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof x.DyG){const Oe=x.zs3.create({parent:this.injector,providers:[{provide:It,useValue:this}]}),xe=new v.C5(this.nzContent,null,Oe),ct=this.bodyPortalOutlet.attachComponentPortal(xe);this.componentInstance=ct.instance,Object.assign(ct.instance,this.nzContentParams),ct.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new v.UE(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig())),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe((0,F.R)(this.destroy$)).subscribe(Oe=>{Oe.keyCode===a.hY&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe((0,F.R)(this.destroy$)).subscribe(()=>{this.disposeOverlay()}))}disposeOverlay(){this.overlayRef?.dispose(),this.overlayRef=null}getOverlayConfig(){return new E.X_({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.blur&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&"function"==typeof this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}}return V.\u0275fac=function(Oe){return new(Oe||V)(x.Y36(x.sBO),x.Y36(b.K0,8),x.Y36(R.jY),x.Y36(x.Qsj),x.Y36(E.aV),x.Y36(x.zs3),x.Y36(x.sBO),x.Y36(G.qV),x.Y36(x.s_b),x.Y36(E.Vs),x.Y36(X.Is,8))},V.\u0275cmp=x.Xpm({type:V,selectors:[["nz-drawer"]],contentQueries:function(Oe,xe,ct){if(1&Oe&&x.Suo(ct,at,7,x.Rgc),2&Oe){let vt;x.iGM(vt=x.CRH())&&(xe.contentFromContentChild=vt.first)}},viewQuery:function(Oe,xe){if(1&Oe&&(x.Gf(se,7),x.Gf(v.Pl,5)),2&Oe){let ct;x.iGM(ct=x.CRH())&&(xe.drawerTemplate=ct.first),x.iGM(ct=x.CRH())&&(xe.bodyPortalOutlet=ct.first)}},inputs:{nzContent:"nzContent",nzCloseIcon:"nzCloseIcon",nzClosable:"nzClosable",nzMaskClosable:"nzMaskClosable",nzMask:"nzMask",nzCloseOnNavigation:"nzCloseOnNavigation",nzNoAnimation:"nzNoAnimation",nzKeyboard:"nzKeyboard",nzTitle:"nzTitle",nzExtra:"nzExtra",nzFooter:"nzFooter",nzPlacement:"nzPlacement",nzSize:"nzSize",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:"nzVisible"},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],features:[x.qOj,x.TTD],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],["class","ant-drawer-mask",3,"ngStyle","click",4,"ngIf"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],["class","ant-drawer-header",3,"ant-drawer-header-close-only",4,"ngIf"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[4,"ngIf","ngIfElse"],["contentElseTemp",""],["class","ant-drawer-footer",4,"ngIf"],[1,"ant-drawer-mask",3,"ngStyle","click"],[1,"ant-drawer-header"],[1,"ant-drawer-header-title"],["aria-label","Close","class","ant-drawer-close","style","--scroll-bar: 0px;",3,"click",4,"ngIf"],["class","ant-drawer-title",4,"ngIf"],["class","ant-drawer-extra",4,"ngIf"],["aria-label","Close",1,"ant-drawer-close",2,"--scroll-bar","0px",3,"click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"],[1,"ant-drawer-title"],[3,"innerHTML"],[1,"ant-drawer-extra"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"],[1,"ant-drawer-footer"]],template:function(Oe,xe){1&Oe&&x.YNc(0,ot,12,40,"ng-template",null,0,x.W1O)},dependencies:[b.O5,b.tP,b.PC,v.Pl,$.Ls,K.f,de.P],encapsulation:2,changeDetection:0}),(0,u.gn)([(0,U.yF)()],V.prototype,"nzClosable",void 0),(0,u.gn)([(0,R.oS)(),(0,U.yF)()],V.prototype,"nzMaskClosable",void 0),(0,u.gn)([(0,R.oS)(),(0,U.yF)()],V.prototype,"nzMask",void 0),(0,u.gn)([(0,R.oS)(),(0,U.yF)()],V.prototype,"nzCloseOnNavigation",void 0),(0,u.gn)([(0,U.yF)()],V.prototype,"nzNoAnimation",void 0),(0,u.gn)([(0,U.yF)()],V.prototype,"nzKeyboard",void 0),(0,u.gn)([(0,R.oS)()],V.prototype,"nzDirection",void 0),V})(),gt=(()=>{class V{}return V.\u0275fac=function(Oe){return new(Oe||V)},V.\u0275mod=x.oAB({type:V}),V.\u0275inj=x.cJS({}),V})(),Ie=(()=>{class V{}return V.\u0275fac=function(Oe){return new(Oe||V)},V.\u0275mod=x.oAB({type:V}),V.\u0275inj=x.cJS({imports:[X.vT,b.ez,E.U8,v.eL,$.PV,K.T,de.g,gt]}),V})();class re{constructor(ge,Oe){this.overlay=ge,this.options=Oe,this.unsubscribe$=new D.x;const{nzOnCancel:xe,...ct}=this.options;this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new v.C5(Et)).instance,this.updateOptions(ct),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe((0,F.R)(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{xe?xe().then(vt=>{!1!==vt&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe((0,F.R)(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(ge){Object.assign(this.drawerRef,ge)}}let Y=(()=>{class V{constructor(Oe){this.overlay=Oe}create(Oe){return new re(this.overlay,Oe).getInstance()}}return V.\u0275fac=function(Oe){return new(Oe||V)(x.LFG(E.aV))},V.\u0275prov=x.Yz7({token:V,factory:V.\u0275fac,providedIn:gt}),V})()},7200:(Jn,tn,C)=>{"use strict";C.d(tn,{Fd:()=>sn,Lr:()=>Yt,Nx:()=>Ut,iK:()=>un,U5:()=>cn});var u=C(445),a=C(9664),E=C(3353),v=C(6895),b=C(4650),x=C(6287),D=C(3679),F=C(1102),R=C(655),U=C(2539),G=C(3414),X=C(3187),$=C(7579),K=C(3101),de=C(1884),se=C(2722),ie=C(9300),Ae=C(4986),Te=C(7272),Ne=C(5698),Se=C(4482),ze=C(5403),Ee=C(5032),W=C(9718),k=C(5577);function le(Be,lt){return lt?ve=>(0,Te.z)(lt.pipe((0,Ne.q)(1),function pe(){return(0,Se.e)((Be,lt)=>{Be.subscribe((0,ze.x)(lt,Ee.Z))})}()),ve.pipe(le(Be))):(0,k.z)((ve,me)=>Be(ve,me).pipe((0,Ne.q)(1),(0,W.h)(ve)))}var be=C(5963),Je=C(1691),we=C(4903),Ye=C(2536),it=C(8184);const ot=["overlay"];function at(Be,lt){if(1&Be&&(b.ynx(0),b._uU(1),b.BQk()),2&Be){const ve=b.oxw(2);b.xp6(1),b.Oqu(ve.nzTitle)}}function ht(Be,lt){if(1&Be&&(b.TgZ(0,"div",2)(1,"div",3)(2,"div",4),b._UZ(3,"span",5),b.qZA(),b.TgZ(4,"div",6),b.YNc(5,at,2,1,"ng-container",7),b.qZA()()()),2&Be){const ve=b.oxw();b.ekj("ant-tooltip-rtl","rtl"===ve.dir),b.Q6J("ngClass",ve._classMap)("ngStyle",ve.nzOverlayStyle)("@.disabled",null==ve.noAnimation?null:ve.noAnimation.nzNoAnimation)("nzNoAnimation",null==ve.noAnimation?null:ve.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),b.xp6(3),b.Q6J("ngStyle",ve._contentStyleMap),b.xp6(1),b.Q6J("ngStyle",ve._contentStyleMap),b.xp6(1),b.Q6J("nzStringTemplateOutlet",ve.nzTitle)("nzStringTemplateOutletContext",ve.nzTitleContext)}}let St=(()=>{class Be{constructor(ve,me,$e,tt,ye,fe){this.elementRef=ve,this.hostView=me,this.resolver=$e,this.renderer=tt,this.noAnimation=ye,this.nzConfigService=fe,this.visibleChange=new b.vpe,this.internalVisible=!1,this.destroy$=new $.x,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){const ve=this.placement;return Array.isArray(ve)&&ve.length>0?ve:"string"==typeof ve&&ve?[ve]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}ngOnChanges(ve){const{trigger:me}=ve;me&&!me.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(ve)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const ve=this.componentRef;this.component=ve.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),ve.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();const me=this.component.nzVisibleChange.pipe((0,de.x)());me.pipe((0,se.R)(this.destroy$)).subscribe($e=>{this.internalVisible=$e,this.visibleChange.emit($e)}),me.pipe((0,ie.h)($e=>$e),function Pe(Be,lt=Ae.z){const ve=(0,be.H)(Be,lt);return le(()=>ve)}(0,K.E),(0,ie.h)(()=>Boolean(this.component?.overlay?.overlayRef)),(0,se.R)(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){const ve=this.elementRef.nativeElement,me=this.trigger;if(this.removeTriggerListeners(),"hover"===me){let $e;this.triggerDisposables.push(this.renderer.listen(ve,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(ve,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!$e&&($e=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen($e,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen($e,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===me?(this.triggerDisposables.push(this.renderer.listen(ve,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(ve,"focusout",()=>this.hide()))):"click"===me&&this.triggerDisposables.push(this.renderer.listen(ve,"click",$e=>{$e.preventDefault(),this.show()}))}updatePropertiesByChanges(ve){this.updatePropertiesByKeys(Object.keys(ve))}updatePropertiesByKeys(ve){const me={title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],...this.getProxyPropertyMap()};(ve||Object.keys(me).filter($e=>!$e.startsWith("directive"))).forEach($e=>{if(me[$e]){const[tt,ye]=me[$e];this.updateComponentValue(tt,ye())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(ve,me){typeof me<"u"&&(this.component[ve]=me)}delayEnterLeave(ve,me,$e=-1){this.delayTimer?this.clearTogglingTimer():$e>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,me?this.show():this.hide()},1e3*$e):me&&ve?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(ve=>ve()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(b.SBq),b.Y36(b.s_b),b.Y36(b._Vd),b.Y36(b.Qsj),b.Y36(we.P),b.Y36(Ye.jY))},Be.\u0275dir=b.lG2({type:Be,features:[b.TTD]}),Be})(),It=(()=>{class Be{constructor(ve,me,$e){this.cdr=ve,this.directionality=me,this.noAnimation=$e,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new $.x,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...Je.Ek],this.destroy$=new $.x}set nzVisible(ve){const me=(0,X.sw)(ve);this._visible!==me&&(this._visible=me,this.nzVisibleChange.next(me))}get nzVisible(){return this._visible}set nzTrigger(ve){this._trigger=ve}get nzTrigger(){return this._trigger}set nzPlacement(ve){const me=ve.map($e=>Je.yW[$e]);this._positions=[...me,...Je.Ek]}ngOnInit(){this.directionality.change?.pipe((0,se.R)(this.destroy$)).subscribe(ve=>{this.dir=ve,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){!this.nzVisible||(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(ve){this.preferredPlacement=(0,Je.d_)(ve),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(ve){this.origin=ve,this.cdr.markForCheck()}onClickOutside(ve){!this.origin.nativeElement.contains(ve.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(b.sBO),b.Y36(u.Is,8),b.Y36(we.P))},Be.\u0275dir=b.lG2({type:Be,viewQuery:function(ve,me){if(1&ve&&b.Gf(ot,5),2&ve){let $e;b.iGM($e=b.CRH())&&(me.overlay=$e.first)}}}),Be})(),Qe=(()=>{class Be extends St{constructor(ve,me,$e,tt,ye){super(ve,me,$e,tt,ye),this.titleContext=null,this.trigger="hover",this.placement="top",this.visibleChange=new b.vpe,this.componentRef=this.hostView.createComponent(Et)}getProxyPropertyMap(){return{...super.getProxyPropertyMap(),nzTooltipColor:["nzColor",()=>this.nzTooltipColor],nzTooltipTitleContext:["nzTitleContext",()=>this.titleContext]}}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(b.SBq),b.Y36(b.s_b),b.Y36(b._Vd),b.Y36(b.Qsj),b.Y36(we.P,9))},Be.\u0275dir=b.lG2({type:Be,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(ve,me){2&ve&&b.ekj("ant-tooltip-open",me.visible)},inputs:{title:["nzTooltipTitle","title"],titleContext:["nzTooltipTitleContext","titleContext"],directiveTitle:["nz-tooltip","directiveTitle"],trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:["nzTooltipArrowPointAtCenter","arrowPointAtCenter"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[b.qOj]}),(0,R.gn)([(0,X.yF)()],Be.prototype,"arrowPointAtCenter",void 0),Be})(),Et=(()=>{class Be extends It{constructor(ve,me,$e){super(ve,me,$e),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return function zt(Be){return!(Be instanceof b.Rgc||""!==Be&&(0,X.DX)(Be))}(this.nzTitle)}updateStyles(){const ve=this.nzColor&&(0,G.o2)(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:ve},this._contentStyleMap={backgroundColor:this.nzColor&&!ve?this.nzColor:null}}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(b.sBO),b.Y36(u.Is,8),b.Y36(we.P,9))},Be.\u0275cmp=b.Xpm({type:Be,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[b.qOj],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(ve,me){1&ve&&(b.YNc(0,ht,6,11,"ng-template",0,1,b.W1O),b.NdJ("overlayOutsideClick",function(tt){return me.onClickOutside(tt)})("detach",function(){return me.hide()})("positionChange",function(tt){return me.onPositionChange(tt)})),2&ve&&b.Q6J("cdkConnectedOverlayOrigin",me.origin)("cdkConnectedOverlayOpen",me._visible)("cdkConnectedOverlayPositions",me._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",me.nzArrowPointAtCenter)},dependencies:[v.mk,v.PC,it.pI,x.f,Je.hQ,we.P],encapsulation:2,data:{animation:[U.$C]},changeDetection:0}),Be})(),gt=(()=>{class Be{}return Be.\u0275fac=function(ve){return new(ve||Be)},Be.\u0275mod=b.oAB({type:Be}),Be.\u0275inj=b.cJS({imports:[u.vT,v.ez,it.U8,x.T,Je.e4,we.g]}),Be})();var Ie=C(433),re=C(727),Y=C(4004),V=C(8505),ge=C(8675),Oe=C(9570),xe=C(1811);const ct=["*"];function vt(Be,lt){if(1&Be&&(b.ynx(0),b._uU(1),b.BQk()),2&Be){const ve=b.oxw(2);b.xp6(1),b.Oqu(ve.innerTip)}}const Ct=function(Be){return[Be]},Nt=function(Be){return{$implicit:Be}};function Le(Be,lt){if(1&Be&&(b.TgZ(0,"div",4)(1,"div",5),b.YNc(2,vt,2,1,"ng-container",6),b.qZA()()),2&Be){const ve=b.oxw();b.Q6J("@helpMotion",void 0),b.xp6(1),b.Q6J("ngClass",b.VKq(4,Ct,"ant-form-item-explain-"+ve.status)),b.xp6(1),b.Q6J("nzStringTemplateOutlet",ve.innerTip)("nzStringTemplateOutletContext",b.VKq(6,Nt,ve.validateControl))}}function Rt(Be,lt){if(1&Be&&(b.ynx(0),b._uU(1),b.BQk()),2&Be){const ve=b.oxw(2);b.xp6(1),b.Oqu(ve.nzExtra)}}function yt(Be,lt){if(1&Be&&(b.TgZ(0,"div",7),b.YNc(1,Rt,2,1,"ng-container",8),b.qZA()),2&Be){const ve=b.oxw();b.xp6(1),b.Q6J("nzStringTemplateOutlet",ve.nzExtra)}}function xt(Be,lt){if(1&Be&&(b.ynx(0),b._UZ(1,"span",3),b.BQk()),2&Be){const ve=lt.$implicit,me=b.oxw(2);b.xp6(1),b.Q6J("nzType",ve)("nzTheme",me.tooltipIcon.theme)}}function Pt(Be,lt){if(1&Be&&(b.TgZ(0,"span",1),b.YNc(1,xt,2,2,"ng-container",2),b.qZA()),2&Be){const ve=b.oxw();b.Q6J("nzTooltipTitle",ve.nzTooltipTitle),b.xp6(1),b.Q6J("nzStringTemplateOutlet",ve.tooltipIcon.type)}}let Ut=(()=>{class Be{constructor(ve,me,$e){this.cdr=$e,this.status="",this.hasFeedback=!1,this.withHelpClass=!1,this.destroy$=new $.x,me.addClass(ve.nativeElement,"ant-form-item")}setWithHelpViaTips(ve){this.withHelpClass=ve,this.cdr.markForCheck()}setStatus(ve){this.status=ve,this.cdr.markForCheck()}setHasFeedback(ve){this.hasFeedback=ve,this.cdr.markForCheck()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO))},Be.\u0275cmp=b.Xpm({type:Be,selectors:[["nz-form-item"]],hostVars:12,hostBindings:function(ve,me){2&ve&&b.ekj("ant-form-item-has-success","success"===me.status)("ant-form-item-has-warning","warning"===me.status)("ant-form-item-has-error","error"===me.status)("ant-form-item-is-validating","validating"===me.status)("ant-form-item-has-feedback",me.hasFeedback&&me.status)("ant-form-item-with-help",me.withHelpClass)},exportAs:["nzFormItem"],ngContentSelectors:ct,decls:1,vars:0,template:function(ve,me){1&ve&&(b.F$t(),b.Hsn(0))},encapsulation:2,changeDetection:0}),Be})();const Gt={type:"question-circle",theme:"outline"};let Yt=(()=>{class Be{constructor(ve,me,$e,tt){this.nzConfigService=ve,this.renderer=$e,this.directionality=tt,this._nzModuleName="form",this.nzLayout="horizontal",this.nzNoColon=!1,this.nzAutoTips={},this.nzDisableAutoTips=!1,this.nzTooltipIcon=Gt,this.dir="ltr",this.destroy$=new $.x,this.inputChanges$=new $.x,this.renderer.addClass(me.nativeElement,"ant-form"),this.dir=this.directionality.value,this.directionality.change?.pipe((0,se.R)(this.destroy$)).subscribe(ye=>{this.dir=ye})}getInputObservable(ve){return this.inputChanges$.pipe((0,ie.h)(me=>ve in me),(0,Y.U)(me=>me[ve]))}ngOnChanges(ve){this.inputChanges$.next(ve)}ngOnDestroy(){this.inputChanges$.complete(),this.destroy$.next(),this.destroy$.complete()}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(Ye.jY),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(u.Is,8))},Be.\u0275dir=b.lG2({type:Be,selectors:[["","nz-form",""]],hostVars:8,hostBindings:function(ve,me){2&ve&&b.ekj("ant-form-horizontal","horizontal"===me.nzLayout)("ant-form-vertical","vertical"===me.nzLayout)("ant-form-inline","inline"===me.nzLayout)("ant-form-rtl","rtl"===me.dir)},inputs:{nzLayout:"nzLayout",nzNoColon:"nzNoColon",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzTooltipIcon:"nzTooltipIcon"},exportAs:["nzForm"],features:[b.TTD]}),(0,R.gn)([(0,Ye.oS)(),(0,X.yF)()],Be.prototype,"nzNoColon",void 0),(0,R.gn)([(0,Ye.oS)()],Be.prototype,"nzAutoTips",void 0),(0,R.gn)([(0,X.yF)()],Be.prototype,"nzDisableAutoTips",void 0),(0,R.gn)([(0,Ye.oS)()],Be.prototype,"nzTooltipIcon",void 0),Be})(),sn=(()=>{class Be{constructor(ve,me,$e,tt,ye,fe,ne){this.nzFormItemComponent=me,this.cdr=$e,this.nzFormDirective=fe,this.nzFormStatusService=ne,this._hasFeedback=!1,this.validateChanges=re.w0.EMPTY,this.validateString=null,this.destroyed$=new $.x,this.status="",this.validateControl=null,this.innerTip=null,this.nzAutoTips={},this.nzDisableAutoTips="default",tt.addClass(ve.nativeElement,"ant-form-item-control"),this.subscribeAutoTips(ye.localeChange.pipe((0,V.b)(_=>this.localeId=_.locale))),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzAutoTips")),this.subscribeAutoTips(this.nzFormDirective?.getInputObservable("nzDisableAutoTips").pipe((0,ie.h)(()=>"default"===this.nzDisableAutoTips)))}get disableAutoTips(){return"default"!==this.nzDisableAutoTips?(0,X.sw)(this.nzDisableAutoTips):this.nzFormDirective?.nzDisableAutoTips}set nzHasFeedback(ve){this._hasFeedback=(0,X.sw)(ve),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this._hasFeedback}),this.nzFormItemComponent&&this.nzFormItemComponent.setHasFeedback(this._hasFeedback)}get nzHasFeedback(){return this._hasFeedback}set nzValidateStatus(ve){ve instanceof Ie.TO||ve instanceof Ie.On?(this.validateControl=ve,this.validateString=null,this.watchControl()):ve instanceof Ie.u?(this.validateControl=ve.control,this.validateString=null,this.watchControl()):(this.validateString=ve,this.validateControl=null,this.setStatus())}watchControl(){this.validateChanges.unsubscribe(),this.validateControl&&this.validateControl.statusChanges&&(this.validateChanges=this.validateControl.statusChanges.pipe((0,ge.O)(null),(0,se.R)(this.destroyed$)).subscribe(ve=>{this.disableAutoTips||this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck()}))}setStatus(){this.status=this.getControlStatus(this.validateString),this.innerTip=this.getInnerTip(this.status),this.nzFormStatusService.formStatusChanges.next({status:this.status,hasFeedback:this.nzHasFeedback}),this.nzFormItemComponent&&(this.nzFormItemComponent.setWithHelpViaTips(!!this.innerTip),this.nzFormItemComponent.setStatus(this.status))}getControlStatus(ve){let me;return me="warning"===ve||this.validateControlStatus("INVALID","warning")?"warning":"error"===ve||this.validateControlStatus("INVALID")?"error":"validating"===ve||"pending"===ve||this.validateControlStatus("PENDING")?"validating":"success"===ve||this.validateControlStatus("VALID")?"success":"",me}validateControlStatus(ve,me){if(this.validateControl){const{dirty:$e,touched:tt,status:ye}=this.validateControl;return(!!$e||!!tt)&&(me?this.validateControl.hasError(me):ye===ve)}return!1}getInnerTip(ve){switch(ve){case"error":return!this.disableAutoTips&&this.autoErrorTip||this.nzErrorTip||null;case"validating":return this.nzValidatingTip||null;case"success":return this.nzSuccessTip||null;case"warning":return this.nzWarningTip||null;default:return null}}updateAutoErrorTip(){if(this.validateControl){const ve=this.validateControl.errors||{};let me="";for(const $e in ve)if(ve.hasOwnProperty($e)&&(me=ve[$e]?.[this.localeId]??this.nzAutoTips?.[this.localeId]?.[$e]??this.nzAutoTips.default?.[$e]??this.nzFormDirective?.nzAutoTips?.[this.localeId]?.[$e]??this.nzFormDirective?.nzAutoTips.default?.[$e]),me)break;this.autoErrorTip=me}}subscribeAutoTips(ve){ve?.pipe((0,se.R)(this.destroyed$)).subscribe(()=>{this.disableAutoTips||(this.updateAutoErrorTip(),this.setStatus(),this.cdr.markForCheck())})}ngOnChanges(ve){const{nzDisableAutoTips:me,nzAutoTips:$e,nzSuccessTip:tt,nzWarningTip:ye,nzErrorTip:fe,nzValidatingTip:ne}=ve;me||$e?(this.updateAutoErrorTip(),this.setStatus()):(tt||ye||fe||ne)&&this.setStatus()}ngOnInit(){this.setStatus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}ngAfterContentInit(){!this.validateControl&&!this.validateString&&(this.nzValidateStatus=this.defaultValidateControl instanceof Ie.oH?this.defaultValidateControl.control:this.defaultValidateControl)}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(b.SBq),b.Y36(Ut,9),b.Y36(b.sBO),b.Y36(b.Qsj),b.Y36(xe.wi),b.Y36(Yt,8),b.Y36(Oe.kH))},Be.\u0275cmp=b.Xpm({type:Be,selectors:[["nz-form-control"]],contentQueries:function(ve,me,$e){if(1&ve&&b.Suo($e,Ie.a5,5),2&ve){let tt;b.iGM(tt=b.CRH())&&(me.defaultValidateControl=tt.first)}},inputs:{nzSuccessTip:"nzSuccessTip",nzWarningTip:"nzWarningTip",nzErrorTip:"nzErrorTip",nzValidatingTip:"nzValidatingTip",nzExtra:"nzExtra",nzAutoTips:"nzAutoTips",nzDisableAutoTips:"nzDisableAutoTips",nzHasFeedback:"nzHasFeedback",nzValidateStatus:"nzValidateStatus"},exportAs:["nzFormControl"],features:[b._Bn([Oe.kH]),b.TTD],ngContentSelectors:ct,decls:5,vars:2,consts:[[1,"ant-form-item-control-input"],[1,"ant-form-item-control-input-content"],["class","ant-form-item-explain ant-form-item-explain-connected",4,"ngIf"],["class","ant-form-item-extra",4,"ngIf"],[1,"ant-form-item-explain","ant-form-item-explain-connected"],["role","alert",3,"ngClass"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-form-item-extra"],[4,"nzStringTemplateOutlet"]],template:function(ve,me){1&ve&&(b.F$t(),b.TgZ(0,"div",0)(1,"div",1),b.Hsn(2),b.qZA()(),b.YNc(3,Le,3,8,"div",2),b.YNc(4,yt,2,1,"div",3)),2&ve&&(b.xp6(3),b.Q6J("ngIf",me.innerTip),b.xp6(1),b.Q6J("ngIf",me.nzExtra))},dependencies:[v.mk,v.O5,x.f],encapsulation:2,data:{animation:[U.c8]},changeDetection:0}),Be})();function Zt(Be){return{...Gt,..."string"==typeof Be?{type:Be}:Be}}let un=(()=>{class Be{constructor(ve,me,$e,tt){this.cdr=$e,this.nzFormDirective=tt,this.nzRequired=!1,this.noColon="default",this._tooltipIcon="default",this.destroy$=new $.x,me.addClass(ve.nativeElement,"ant-form-item-label"),this.nzFormDirective&&(this.nzFormDirective.getInputObservable("nzNoColon").pipe((0,ie.h)(()=>"default"===this.noColon),(0,se.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.nzFormDirective.getInputObservable("nzTooltipIcon").pipe((0,ie.h)(()=>"default"===this._tooltipIcon),(0,se.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()))}set nzNoColon(ve){this.noColon=(0,X.sw)(ve)}get nzNoColon(){return"default"!==this.noColon?this.noColon:this.nzFormDirective?.nzNoColon}set nzTooltipIcon(ve){this._tooltipIcon=Zt(ve)}get tooltipIcon(){return"default"!==this._tooltipIcon?this._tooltipIcon:Zt(this.nzFormDirective?.nzTooltipIcon||Gt)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return Be.\u0275fac=function(ve){return new(ve||Be)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO),b.Y36(Yt,12))},Be.\u0275cmp=b.Xpm({type:Be,selectors:[["nz-form-label"]],inputs:{nzFor:"nzFor",nzRequired:"nzRequired",nzNoColon:"nzNoColon",nzTooltipTitle:"nzTooltipTitle",nzTooltipIcon:"nzTooltipIcon"},exportAs:["nzFormLabel"],ngContentSelectors:ct,decls:3,vars:6,consts:[["class","ant-form-item-tooltip","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],["nz-tooltip","",1,"ant-form-item-tooltip",3,"nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"]],template:function(ve,me){1&ve&&(b.F$t(),b.TgZ(0,"label"),b.Hsn(1),b.YNc(2,Pt,2,2,"span",0),b.qZA()),2&ve&&(b.ekj("ant-form-item-no-colon",me.nzNoColon)("ant-form-item-required",me.nzRequired),b.uIk("for",me.nzFor),b.xp6(2),b.Q6J("ngIf",me.nzTooltipTitle))},dependencies:[v.O5,F.Ls,Qe,x.f],encapsulation:2,changeDetection:0}),(0,R.gn)([(0,X.yF)()],Be.prototype,"nzRequired",void 0),Be})(),cn=(()=>{class Be{}return Be.\u0275fac=function(ve){return new(ve||Be)},Be.\u0275mod=b.oAB({type:Be}),Be.\u0275inj=b.cJS({imports:[u.vT,v.ez,D.Jb,F.PV,gt,a.xu,E.ud,x.T,D.Jb]}),Be})()},3679:(Jn,tn,C)=>{"use strict";C.d(tn,{Jb:()=>$,SK:()=>G,t3:()=>X});var u=C(4650),a=C(4707),E=C(7579),v=C(2722),b=C(3303),x=C(9664),D=C(3353),F=C(445),R=C(3187),U=C(6895);let G=(()=>{class K{constructor(se,ie,Ae,Te,Ne,Se,ze){this.elementRef=se,this.renderer=ie,this.mediaMatcher=Ae,this.ngZone=Te,this.platform=Ne,this.breakpointService=Se,this.directionality=ze,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new a.t(1),this.dir="ltr",this.destroy$=new E.x}getGutter(){const se=[null,null],ie=this.nzGutter||0;return(Array.isArray(ie)?ie:[ie,null]).forEach((Te,Ne)=>{"object"==typeof Te&&null!==Te?(se[Ne]=null,Object.keys(b.WV).map(Se=>{const ze=Se;this.mediaMatcher.matchMedia(b.WV[ze]).matches&&Te[ze]&&(se[Ne]=Te[ze])})):se[Ne]=Number(Te)||null}),se}setGutterStyle(){const[se,ie]=this.getGutter();this.actualGutter$.next([se,ie]);const Ae=(Te,Ne)=>{null!==Ne&&this.renderer.setStyle(this.elementRef.nativeElement,Te,`-${Ne/2}px`)};Ae("margin-left",se),Ae("margin-right",se),Ae("margin-top",ie),Ae("margin-bottom",ie)}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,v.R)(this.destroy$)).subscribe(se=>{this.dir=se}),this.setGutterStyle()}ngOnChanges(se){se.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(b.WV).pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return K.\u0275fac=function(se){return new(se||K)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(x.vx),u.Y36(u.R0b),u.Y36(D.t4),u.Y36(b.r3),u.Y36(F.Is,8))},K.\u0275dir=u.lG2({type:K,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(se,ie){2&se&&u.ekj("ant-row-top","top"===ie.nzAlign)("ant-row-middle","middle"===ie.nzAlign)("ant-row-bottom","bottom"===ie.nzAlign)("ant-row-start","start"===ie.nzJustify)("ant-row-end","end"===ie.nzJustify)("ant-row-center","center"===ie.nzJustify)("ant-row-space-around","space-around"===ie.nzJustify)("ant-row-space-between","space-between"===ie.nzJustify)("ant-row-space-evenly","space-evenly"===ie.nzJustify)("ant-row-rtl","rtl"===ie.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[u.TTD]}),K})(),X=(()=>{class K{constructor(se,ie,Ae,Te){this.elementRef=se,this.nzRowDirective=ie,this.renderer=Ae,this.directionality=Te,this.classMap={},this.destroy$=new E.x,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const se={"ant-col":!0,[`ant-col-${this.nzSpan}`]:(0,R.DX)(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:(0,R.DX)(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:(0,R.DX)(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:(0,R.DX)(this.nzPull),[`ant-col-push-${this.nzPush}`]:(0,R.DX)(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const ie in this.classMap)this.classMap.hasOwnProperty(ie)&&this.renderer.removeClass(this.elementRef.nativeElement,ie);this.classMap={...se};for(const ie in this.classMap)this.classMap.hasOwnProperty(ie)&&this.classMap[ie]&&this.renderer.addClass(this.elementRef.nativeElement,ie)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(se){return"number"==typeof se?`${se} ${se} auto`:"string"==typeof se&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(se)?`0 0 ${se}`:se}generateClass(){const ie={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(Ae=>{const Te=Ae.replace("nz","").toLowerCase();if((0,R.DX)(this[Ae]))if("number"==typeof this[Ae]||"string"==typeof this[Ae])ie[`ant-col-${Te}-${this[Ae]}`]=!0;else{const Ne=this[Ae];["span","pull","push","offset","order"].forEach(ze=>{ie[`ant-col-${Te}${"span"===ze?"-":`-${ze}-`}${Ne[ze]}`]=Ne&&(0,R.DX)(Ne[ze])})}}),ie}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,v.R)(this.destroy$)).subscribe(se=>{this.dir=se,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(se){this.setHostClassMap();const{nzFlex:ie}=se;ie&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe((0,v.R)(this.destroy$)).subscribe(([se,ie])=>{const Ae=(Te,Ne)=>{null!==Ne&&this.renderer.setStyle(this.elementRef.nativeElement,Te,Ne/2+"px")};Ae("padding-left",se),Ae("padding-right",se),Ae("padding-top",ie),Ae("padding-bottom",ie)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return K.\u0275fac=function(se){return new(se||K)(u.Y36(u.SBq),u.Y36(G,9),u.Y36(u.Qsj),u.Y36(F.Is,8))},K.\u0275dir=u.lG2({type:K,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(se,ie){2&se&&u.Udp("flex",ie.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[u.TTD]}),K})(),$=(()=>{class K{}return K.\u0275fac=function(se){return new(se||K)},K.\u0275mod=u.oAB({type:K}),K.\u0275inj=u.cJS({imports:[F.vT,U.ez,x.xu,D.ud]}),K})()},5635:(Jn,tn,C)=>{"use strict";C.d(tn,{Zp:()=>ht,o7:()=>gt});var u=C(655),a=C(4650),E=C(7579),v=C(1884),b=C(2722),x=C(9300),D=C(9570),F=C(3187),R=C(433),U=C(445),G=C(6895),X=C(1102),$=C(6287),K=C(3353);let ht=(()=>{class Ie{constructor(Y,V,ge,Oe,xe,ct,vt){this.ngControl=Y,this.renderer=V,this.elementRef=ge,this.hostView=Oe,this.directionality=xe,this.nzFormStatusService=ct,this.nzFormNoStatusService=vt,this.nzBorderless=!1,this.nzSize="default",this.nzStatus="",this._disabled=!1,this.disabled$=new E.x,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new E.x,V.addClass(ge.nativeElement,"ant-input")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Y){this._disabled=null!=Y&&"false"!=`${Y}`}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,v.x)((Y,V)=>Y.status===V.status&&Y.hasFeedback===V.hasFeedback),(0,b.R)(this.destroy$)).subscribe(({status:Y,hasFeedback:V})=>{this.setStatusStyles(Y,V)}),this.ngControl&&this.ngControl.statusChanges?.pipe((0,x.h)(()=>null!==this.ngControl.disabled),(0,b.R)(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,b.R)(this.destroy$)).subscribe(Y=>{this.dir=Y})}ngOnChanges(Y){const{disabled:V,nzStatus:ge}=Y;V&&this.disabled$.next(this.disabled),ge&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(Y,V){this.status=Y,this.hasFeedback=V,this.renderFeedbackIcon(),this.statusCls=(0,F.Zu)(this.prefixCls,Y,V),Object.keys(this.statusCls).forEach(ge=>{this.statusCls[ge]?this.renderer.addClass(this.elementRef.nativeElement,ge):this.renderer.removeClass(this.elementRef.nativeElement,ge)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(D.w_),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}}return Ie.\u0275fac=function(Y){return new(Y||Ie)(a.Y36(R.a5,10),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(U.Is,8),a.Y36(D.kH,8),a.Y36(D.yW,8))},Ie.\u0275dir=a.lG2({type:Ie,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostVars:11,hostBindings:function(Y,V){2&Y&&(a.uIk("disabled",V.disabled||null),a.ekj("ant-input-disabled",V.disabled)("ant-input-borderless",V.nzBorderless)("ant-input-lg","large"===V.nzSize)("ant-input-sm","small"===V.nzSize)("ant-input-rtl","rtl"===V.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],features:[a.TTD]}),(0,u.gn)([(0,F.yF)()],Ie.prototype,"nzBorderless",void 0),Ie})(),gt=(()=>{class Ie{}return Ie.\u0275fac=function(Y){return new(Y||Ie)},Ie.\u0275mod=a.oAB({type:Ie}),Ie.\u0275inj=a.cJS({imports:[U.vT,G.ez,X.PV,K.ud,$.T,D.mJ]}),Ie})()},4606:(Jn,tn,C)=>{"use strict";C.d(tn,{Ip:()=>Oa,Vq:()=>vo,LV:()=>ni});var u=C(4650),a=C(7579),E=C(4968),v=C(1135),b=C(9646),x=C(9841),D=C(6451),F=C(90),R=C(6895),U=C(4080),G=C(2722),X=C(8675),$=C(2536),K=C(1811),de=C(6287),se=C(445);function ie(q,Ve){if(1&q&&(u.ynx(0),u._UZ(1,"img",5),u.BQk()),2&q){const N=u.oxw(2);u.xp6(1),u.Q6J("src",N.nzNotFoundImage,u.LSH)("alt",N.isContentString?N.nzNotFoundContent:"empty")}}function Ae(q,Ve){if(1&q&&(u.ynx(0),u.YNc(1,ie,2,2,"ng-container",4),u.BQk()),2&q){const N=u.oxw();u.xp6(1),u.Q6J("nzStringTemplateOutlet",N.nzNotFoundImage)}}function Te(q,Ve){1&q&&u._UZ(0,"nz-empty-default")}function Ne(q,Ve){1&q&&u._UZ(0,"nz-empty-simple")}function Se(q,Ve){if(1&q&&(u.ynx(0),u._uU(1),u.BQk()),2&q){const N=u.oxw(2);u.xp6(1),u.hij(" ",N.isContentString?N.nzNotFoundContent:N.locale.description," ")}}function ze(q,Ve){if(1&q&&(u.TgZ(0,"p",6),u.YNc(1,Se,2,1,"ng-container",4),u.qZA()),2&q){const N=u.oxw();u.xp6(1),u.Q6J("nzStringTemplateOutlet",N.nzNotFoundContent)}}function Ee(q,Ve){if(1&q&&(u.ynx(0),u._uU(1),u.BQk()),2&q){const N=u.oxw(2);u.xp6(1),u.hij(" ",N.nzNotFoundFooter," ")}}function pe(q,Ve){if(1&q&&(u.TgZ(0,"div",7),u.YNc(1,Ee,2,1,"ng-container",4),u.qZA()),2&q){const N=u.oxw();u.xp6(1),u.Q6J("nzStringTemplateOutlet",N.nzNotFoundFooter)}}function W(q,Ve){1&q&&u._UZ(0,"nz-empty",6),2&q&&u.Q6J("nzNotFoundImage","simple")}function k(q,Ve){1&q&&u._UZ(0,"nz-empty",7),2&q&&u.Q6J("nzNotFoundImage","simple")}function le(q,Ve){1&q&&u._UZ(0,"nz-empty")}function be(q,Ve){if(1&q&&(u.ynx(0,2),u.YNc(1,W,1,1,"nz-empty",3),u.YNc(2,k,1,1,"nz-empty",4),u.YNc(3,le,1,0,"nz-empty",5),u.BQk()),2&q){const N=u.oxw();u.Q6J("ngSwitch",N.size),u.xp6(1),u.Q6J("ngSwitchCase","normal"),u.xp6(1),u.Q6J("ngSwitchCase","small")}}function Pe(q,Ve){}function Je(q,Ve){if(1&q&&u.YNc(0,Pe,0,0,"ng-template",8),2&q){const N=u.oxw(2);u.Q6J("cdkPortalOutlet",N.contentPortal)}}function we(q,Ve){if(1&q&&(u.ynx(0),u._uU(1),u.BQk()),2&q){const N=u.oxw(2);u.xp6(1),u.hij(" ",N.content," ")}}function Ye(q,Ve){if(1&q&&(u.ynx(0),u.YNc(1,Je,1,1,null,1),u.YNc(2,we,2,1,"ng-container",1),u.BQk()),2&q){const N=u.oxw();u.xp6(1),u.Q6J("ngIf","string"!==N.contentType),u.xp6(1),u.Q6J("ngIf","string"===N.contentType)}}const it=new u.OlP("nz-empty-component-name");let ot=(()=>{class q{}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-empty-default"]],exportAs:["nzEmptyDefault"],decls:12,vars:0,consts:[["width","184","height","152","viewBox","0 0 184 152","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-default"],["fill","none","fill-rule","evenodd"],["transform","translate(24 31.67)"],["cx","67.797","cy","106.89","rx","67.797","ry","12.668",1,"ant-empty-img-default-ellipse"],["d","M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",1,"ant-empty-img-default-path-1"],["d","M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z","transform","translate(13.56)",1,"ant-empty-img-default-path-2"],["d","M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",1,"ant-empty-img-default-path-3"],["d","M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",1,"ant-empty-img-default-path-4"],["d","M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",1,"ant-empty-img-default-path-5"],["transform","translate(149.65 15.383)",1,"ant-empty-img-default-g"],["cx","20.654","cy","3.167","rx","2.849","ry","2.815"],["d","M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"]],template:function(N,te){1&N&&(u.O4$(),u.TgZ(0,"svg",0)(1,"g",1)(2,"g",2),u._UZ(3,"ellipse",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),u.qZA(),u._UZ(8,"path",8),u.TgZ(9,"g",9),u._UZ(10,"ellipse",10)(11,"path",11),u.qZA()()())},encapsulation:2,changeDetection:0}),q})(),at=(()=>{class q{}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-empty-simple"]],exportAs:["nzEmptySimple"],decls:6,vars:0,consts:[["width","64","height","41","viewBox","0 0 64 41","xmlns","http://www.w3.org/2000/svg",1,"ant-empty-img-simple"],["transform","translate(0 1)","fill","none","fill-rule","evenodd"],["cx","32","cy","33","rx","32","ry","7",1,"ant-empty-img-simple-ellipse"],["fill-rule","nonzero",1,"ant-empty-img-simple-g"],["d","M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"],["d","M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",1,"ant-empty-img-simple-path"]],template:function(N,te){1&N&&(u.O4$(),u.TgZ(0,"svg",0)(1,"g",1),u._UZ(2,"ellipse",2),u.TgZ(3,"g",3),u._UZ(4,"path",4)(5,"path",5),u.qZA()()())},encapsulation:2,changeDetection:0}),q})();const ht=["default","simple"];let St=(()=>{class q{constructor(N,te){this.i18n=N,this.cdr=te,this.nzNotFoundImage="default",this.isContentString=!1,this.isImageBuildIn=!0,this.destroy$=new a.x}ngOnChanges(N){const{nzNotFoundContent:te,nzNotFoundImage:Fe}=N;if(te&&(this.isContentString="string"==typeof te.currentValue),Fe){const Ze=Fe.currentValue||"default";this.isImageBuildIn=ht.findIndex(Dt=>Dt===Ze)>-1}}ngOnInit(){this.i18n.localeChange.pipe((0,G.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Empty"),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return q.\u0275fac=function(N){return new(N||q)(u.Y36(K.wi),u.Y36(u.sBO))},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-empty"]],hostAttrs:[1,"ant-empty"],inputs:{nzNotFoundImage:"nzNotFoundImage",nzNotFoundContent:"nzNotFoundContent",nzNotFoundFooter:"nzNotFoundFooter"},exportAs:["nzEmpty"],features:[u.TTD],decls:6,vars:5,consts:[[1,"ant-empty-image"],[4,"ngIf"],["class","ant-empty-description",4,"ngIf"],["class","ant-empty-footer",4,"ngIf"],[4,"nzStringTemplateOutlet"],[3,"src","alt"],[1,"ant-empty-description"],[1,"ant-empty-footer"]],template:function(N,te){1&N&&(u.TgZ(0,"div",0),u.YNc(1,Ae,2,1,"ng-container",1),u.YNc(2,Te,1,0,"nz-empty-default",1),u.YNc(3,Ne,1,0,"nz-empty-simple",1),u.qZA(),u.YNc(4,ze,2,1,"p",2),u.YNc(5,pe,2,1,"div",3)),2&N&&(u.xp6(1),u.Q6J("ngIf",!te.isImageBuildIn),u.xp6(1),u.Q6J("ngIf",te.isImageBuildIn&&"simple"!==te.nzNotFoundImage),u.xp6(1),u.Q6J("ngIf",te.isImageBuildIn&&"simple"===te.nzNotFoundImage),u.xp6(1),u.Q6J("ngIf",null!==te.nzNotFoundContent),u.xp6(1),u.Q6J("ngIf",te.nzNotFoundFooter))},dependencies:[R.O5,de.f,ot,at],encapsulation:2,changeDetection:0}),q})(),zt=(()=>{class q{constructor(N,te,Fe,Ze){this.configService=N,this.viewContainerRef=te,this.cdr=Fe,this.injector=Ze,this.contentType="string",this.size="",this.destroy$=new a.x}ngOnChanges(N){N.nzComponentName&&(this.size=function It(q){switch(q){case"table":case"list":return"normal";case"select":case"tree-select":case"cascader":case"transfer":return"small";default:return""}}(N.nzComponentName.currentValue)),N.specificContent&&!N.specificContent.isFirstChange()&&(this.content=N.specificContent.currentValue,this.renderEmpty())}ngOnInit(){this.subscribeDefaultEmptyContentChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}renderEmpty(){const N=this.content;if("string"==typeof N)this.contentType="string";else if(N instanceof u.Rgc){const te={$implicit:this.nzComponentName};this.contentType="template",this.contentPortal=new U.UE(N,this.viewContainerRef,te)}else if(N instanceof u.DyG){const te=u.zs3.create({parent:this.injector,providers:[{provide:it,useValue:this.nzComponentName}]});this.contentType="component",this.contentPortal=new U.C5(N,this.viewContainerRef,te)}else this.contentType="string",this.contentPortal=void 0;this.cdr.detectChanges()}subscribeDefaultEmptyContentChange(){this.configService.getConfigChangeEventForComponent("empty").pipe((0,X.O)(!0),(0,G.R)(this.destroy$)).subscribe(()=>{this.content=this.specificContent||this.getUserDefaultEmptyContent(),this.renderEmpty()})}getUserDefaultEmptyContent(){return(this.configService.getConfigForComponent("empty")||{}).nzDefaultEmptyContent}}return q.\u0275fac=function(N){return new(N||q)(u.Y36($.jY),u.Y36(u.s_b),u.Y36(u.sBO),u.Y36(u.zs3))},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-embed-empty"]],inputs:{nzComponentName:"nzComponentName",specificContent:"specificContent"},exportAs:["nzEmbedEmpty"],features:[u.TTD],decls:2,vars:2,consts:[[3,"ngSwitch",4,"ngIf"],[4,"ngIf"],[3,"ngSwitch"],["class","ant-empty-normal",3,"nzNotFoundImage",4,"ngSwitchCase"],["class","ant-empty-small",3,"nzNotFoundImage",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"ant-empty-normal",3,"nzNotFoundImage"],[1,"ant-empty-small",3,"nzNotFoundImage"],[3,"cdkPortalOutlet"]],template:function(N,te){1&N&&(u.YNc(0,be,4,3,"ng-container",0),u.YNc(1,Ye,3,2,"ng-container",1)),2&N&&(u.Q6J("ngIf",!te.content&&null!==te.specificContent),u.xp6(1),u.Q6J("ngIf",te.content))},dependencies:[R.O5,R.RF,R.n9,R.ED,U.Pl,St],encapsulation:2,changeDetection:0}),q})(),Qe=(()=>{class q{}return q.\u0275fac=function(N){return new(N||q)},q.\u0275mod=u.oAB({type:q}),q.\u0275inj=u.cJS({imports:[se.vT,R.ez,U.eL,de.T,K.YI]}),q})();var Et=C(1884),gt=C(4482),Ie=C(5403),re=C(8421),Y=C(4671),V=C(5032),ge=C(3269),xe=C(4004),ct=C(3900),vt=C(3303),Ct=C(1102),Nt=C(7044),Le=C(655),Rt=C(3187),yt=C(9521),xt=C(8184),Pt=C(433),Ut=C(2539);const $t=["moz","ms","webkit"];function sn(q){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(q);const Ve=$t.filter(N=>`${N}CancelAnimationFrame`in window||`${N}CancelRequestAnimationFrame`in window)[0];return Ve?(window[`${Ve}CancelAnimationFrame`]||window[`${Ve}CancelRequestAnimationFrame`]).call(this,q):clearTimeout(q)}const Zt=function Yt(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const q=$t.filter(Ve=>`${Ve}RequestAnimationFrame`in window)[0];return q?window[`${q}RequestAnimationFrame`]:function Gt(){let q=0;return function(Ve){const N=(new Date).getTime(),te=Math.max(0,16-(N-q)),Fe=setTimeout(()=>{Ve(N+te)},te);return q=N+te,Fe}}()}();var un=C(3948),gn=C(4903),fn=C(3353),cn=C(9570),Be=C(1691);const lt=["*"];function ve(q,Ve){}function me(q,Ve){if(1&q&&u.YNc(0,ve,0,0,"ng-template",4),2&q){const N=u.oxw();u.Q6J("ngTemplateOutlet",N.template)}}function $e(q,Ve){if(1&q&&u._uU(0),2&q){const N=u.oxw();u.Oqu(N.label)}}function tt(q,Ve){1&q&&u._UZ(0,"span",7)}function ye(q,Ve){if(1&q&&(u.TgZ(0,"div",5),u.YNc(1,tt,1,0,"span",6),u.qZA()),2&q){const N=u.oxw();u.xp6(1),u.Q6J("ngIf",!N.icon)("ngIfElse",N.icon)}}function fe(q,Ve){if(1&q&&(u.ynx(0),u._uU(1),u.BQk()),2&q){const N=u.oxw();u.xp6(1),u.Oqu(N.nzLabel)}}function ne(q,Ve){if(1&q&&(u.TgZ(0,"div",4),u._UZ(1,"nz-embed-empty",5),u.qZA()),2&q){const N=u.oxw();u.xp6(1),u.Q6J("specificContent",N.notFoundContent)}}function _(q,Ve){if(1&q&&u._UZ(0,"nz-option-item-group",9),2&q){const N=u.oxw().$implicit;u.Q6J("nzLabel",N.groupLabel)}}function j(q,Ve){if(1&q){const N=u.EpF();u.TgZ(0,"nz-option-item",10),u.NdJ("itemHover",function(Fe){u.CHM(N);const Ze=u.oxw(2);return u.KtG(Ze.onItemHover(Fe))})("itemClick",function(Fe){u.CHM(N);const Ze=u.oxw(2);return u.KtG(Ze.onItemClick(Fe))}),u.qZA()}if(2&q){const N=u.oxw().$implicit,te=u.oxw();u.Q6J("icon",te.menuItemSelectedIcon)("customContent",N.nzCustomContent)("template",N.template)("grouped",!!N.groupLabel)("disabled",N.nzDisabled)("showState","tags"===te.mode||"multiple"===te.mode)("label",N.nzLabel)("compareWith",te.compareWith)("activatedValue",te.activatedValue)("listOfSelectedValue",te.listOfSelectedValue)("value",N.nzValue)}}function T(q,Ve){1&q&&(u.ynx(0,6),u.YNc(1,_,1,1,"nz-option-item-group",7),u.YNc(2,j,1,11,"nz-option-item",8),u.BQk()),2&q&&(u.Q6J("ngSwitch",Ve.$implicit.type),u.xp6(1),u.Q6J("ngSwitchCase","group"),u.xp6(1),u.Q6J("ngSwitchCase","item"))}function M(q,Ve){}function B(q,Ve){1&q&&u.Hsn(0)}const ae=["inputElement"],We=["mirrorElement"];function Xe(q,Ve){1&q&&u._UZ(0,"span",3,4)}function ft(q,Ve){if(1&q&&(u.TgZ(0,"div",4),u._uU(1),u.qZA()),2&q){const N=u.oxw(2);u.xp6(1),u.Oqu(N.label)}}function dt(q,Ve){if(1&q&&u._uU(0),2&q){const N=u.oxw(2);u.Oqu(N.label)}}function Mt(q,Ve){if(1&q&&(u.ynx(0),u.YNc(1,ft,2,1,"div",2),u.YNc(2,dt,1,1,"ng-template",null,3,u.W1O),u.BQk()),2&q){const N=u.MAs(3),te=u.oxw();u.xp6(1),u.Q6J("ngIf",te.deletable)("ngIfElse",N)}}function Xt(q,Ve){1&q&&u._UZ(0,"span",7)}function Ft(q,Ve){if(1&q){const N=u.EpF();u.TgZ(0,"span",5),u.NdJ("click",function(Fe){u.CHM(N);const Ze=u.oxw();return u.KtG(Ze.onDelete(Fe))}),u.YNc(1,Xt,1,0,"span",6),u.qZA()}if(2&q){const N=u.oxw();u.xp6(1),u.Q6J("ngIf",!N.removeIcon)("ngIfElse",N.removeIcon)}}const En=function(q){return{$implicit:q}};function Bn(q,Ve){if(1&q&&(u.ynx(0),u._uU(1),u.BQk()),2&q){const N=u.oxw();u.xp6(1),u.hij(" ",N.placeholder," ")}}function Yr(q,Ve){if(1&q&&u._UZ(0,"nz-select-item",6),2&q){const N=u.oxw(2);u.Q6J("deletable",!1)("disabled",!1)("removeIcon",N.removeIcon)("label",N.listOfTopItem[0].nzLabel)("contentTemplateOutlet",N.customTemplate)("contentTemplateOutletContext",N.listOfTopItem[0])}}function Ar(q,Ve){if(1&q){const N=u.EpF();u.ynx(0),u.TgZ(1,"nz-select-search",4),u.NdJ("isComposingChange",function(Fe){u.CHM(N);const Ze=u.oxw();return u.KtG(Ze.isComposingChange(Fe))})("valueChange",function(Fe){u.CHM(N);const Ze=u.oxw();return u.KtG(Ze.onInputValueChange(Fe))}),u.qZA(),u.YNc(2,Yr,1,6,"nz-select-item",5),u.BQk()}if(2&q){const N=u.oxw();u.xp6(1),u.Q6J("nzId",N.nzId)("disabled",N.disabled)("value",N.inputValue)("showInput",N.showSearch)("mirrorSync",!1)("autofocus",N.autofocus)("focusTrigger",N.open),u.xp6(1),u.Q6J("ngIf",N.isShowSingleLabel)}}function Do(q,Ve){if(1&q){const N=u.EpF();u.TgZ(0,"nz-select-item",9),u.NdJ("delete",function(){const Ze=u.CHM(N).$implicit,Dt=u.oxw(2);return u.KtG(Dt.onDeleteItem(Ze.contentTemplateOutletContext))}),u.qZA()}if(2&q){const N=Ve.$implicit,te=u.oxw(2);u.Q6J("removeIcon",te.removeIcon)("label",N.nzLabel)("disabled",N.nzDisabled||te.disabled)("contentTemplateOutlet",N.contentTemplateOutlet)("deletable",!0)("contentTemplateOutletContext",N.contentTemplateOutletContext)}}function Hn(q,Ve){if(1&q){const N=u.EpF();u.ynx(0),u.YNc(1,Do,1,6,"nz-select-item",7),u.TgZ(2,"nz-select-search",8),u.NdJ("isComposingChange",function(Fe){u.CHM(N);const Ze=u.oxw();return u.KtG(Ze.isComposingChange(Fe))})("valueChange",function(Fe){u.CHM(N);const Ze=u.oxw();return u.KtG(Ze.onInputValueChange(Fe))}),u.qZA(),u.BQk()}if(2&q){const N=u.oxw();u.xp6(1),u.Q6J("ngForOf",N.listOfSlicedItem)("ngForTrackBy",N.trackValue),u.xp6(1),u.Q6J("nzId",N.nzId)("disabled",N.disabled)("value",N.inputValue)("autofocus",N.autofocus)("showInput",!0)("mirrorSync",!0)("focusTrigger",N.open)}}function Io(q,Ve){if(1&q&&u._UZ(0,"nz-select-placeholder",10),2&q){const N=u.oxw();u.Q6J("placeholder",N.placeHolder)}}function Ro(q,Ve){1&q&&u._UZ(0,"span",1)}function Ci(q,Ve){1&q&&u._UZ(0,"span",3)}function Ge(q,Ve){1&q&&u._UZ(0,"span",8)}function $r(q,Ve){1&q&&u._UZ(0,"span",9)}function sr(q,Ve){if(1&q&&(u.ynx(0),u.YNc(1,Ge,1,0,"span",6),u.YNc(2,$r,1,0,"span",7),u.BQk()),2&q){const N=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!N.search),u.xp6(1),u.Q6J("ngIf",N.search)}}function po(q,Ve){if(1&q&&u._UZ(0,"span",11),2&q){const N=u.oxw().$implicit;u.Q6J("nzType",N)}}function Un(q,Ve){if(1&q&&(u.ynx(0),u.YNc(1,po,1,1,"span",10),u.BQk()),2&q){const N=Ve.$implicit;u.xp6(1),u.Q6J("ngIf",N)}}function _o(q,Ve){if(1&q&&u.YNc(0,Un,2,1,"ng-container",2),2&q){const N=u.oxw(2);u.Q6J("nzStringTemplateOutlet",N.suffixIcon)}}function Nr(q,Ve){if(1&q&&(u.YNc(0,sr,3,2,"ng-container",4),u.YNc(1,_o,1,1,"ng-template",null,5,u.W1O)),2&q){const N=u.MAs(2),te=u.oxw();u.Q6J("ngIf",te.showArrow&&!te.suffixIcon)("ngIfElse",N)}}function Wr(q,Ve){if(1&q&&(u.ynx(0),u._uU(1),u.BQk()),2&q){const N=u.oxw();u.xp6(1),u.Oqu(N.feedbackIcon)}}function Pi(q,Ve){if(1&q&&u._UZ(0,"nz-form-item-feedback-icon",8),2&q){const N=u.oxw(3);u.Q6J("status",N.status)}}function yr(q,Ve){if(1&q&&u.YNc(0,Pi,1,1,"nz-form-item-feedback-icon",7),2&q){const N=u.oxw(2);u.Q6J("ngIf",N.hasFeedback&&!!N.status)}}function ei(q,Ve){if(1&q&&(u.TgZ(0,"nz-select-arrow",5),u.YNc(1,yr,1,1,"ng-template",null,6,u.W1O),u.qZA()),2&q){const N=u.MAs(2),te=u.oxw();u.Q6J("showArrow",te.nzShowArrow)("loading",te.nzLoading)("search",te.nzOpen&&te.nzShowSearch)("suffixIcon",te.nzSuffixIcon)("feedbackIcon",N)}}function ho(q,Ve){if(1&q){const N=u.EpF();u.TgZ(0,"nz-select-clear",9),u.NdJ("clear",function(){u.CHM(N);const Fe=u.oxw();return u.KtG(Fe.onClearSelection())}),u.qZA()}if(2&q){const N=u.oxw();u.Q6J("clearIcon",N.nzClearIcon)}}function jo(q,Ve){if(1&q){const N=u.EpF();u.TgZ(0,"nz-option-container",10),u.NdJ("keydown",function(Fe){u.CHM(N);const Ze=u.oxw();return u.KtG(Ze.onKeyDown(Fe))})("itemClick",function(Fe){u.CHM(N);const Ze=u.oxw();return u.KtG(Ze.onItemClick(Fe))})("scrollToBottom",function(){u.CHM(N);const Fe=u.oxw();return u.KtG(Fe.nzScrollToBottom.emit())}),u.qZA()}if(2&q){const N=u.oxw();u.ekj("ant-select-dropdown-placement-bottomLeft","bottom"===N.dropDownPosition)("ant-select-dropdown-placement-topLeft","top"===N.dropDownPosition),u.Q6J("ngStyle",N.nzDropdownStyle)("itemSize",N.nzOptionHeightPx)("maxItemLength",N.nzOptionOverflowSize)("matchWidth",N.nzDropdownMatchSelectWidth)("@slideMotion","enter")("@.disabled",null==N.noAnimation?null:N.noAnimation.nzNoAnimation)("nzNoAnimation",null==N.noAnimation?null:N.noAnimation.nzNoAnimation)("listOfContainerItem",N.listOfContainerItem)("menuItemSelectedIcon",N.nzMenuItemSelectedIcon)("notFoundContent",N.nzNotFoundContent)("activatedValue",N.activatedValue)("listOfSelectedValue",N.listOfValue)("dropdownRender",N.nzDropdownRender)("compareWith",N.compareWith)("mode",N.nzMode)}}let Lo=(()=>{class q{constructor(){this.nzLabel=null,this.changes=new a.x}ngOnChanges(){this.changes.next()}}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-option-group"]],inputs:{nzLabel:"nzLabel"},exportAs:["nzOptionGroup"],features:[u.TTD],ngContentSelectors:lt,decls:1,vars:0,template:function(N,te){1&N&&(u.F$t(),u.Hsn(0))},encapsulation:2,changeDetection:0}),q})(),Ot=(()=>{class q{constructor(N,te,Fe){this.elementRef=N,this.ngZone=te,this.destroy$=Fe,this.selected=!1,this.activated=!1,this.grouped=!1,this.customContent=!1,this.template=null,this.disabled=!1,this.showState=!1,this.label=null,this.value=null,this.activatedValue=null,this.listOfSelectedValue=[],this.icon=null,this.itemClick=new u.vpe,this.itemHover=new u.vpe}ngOnChanges(N){const{value:te,activatedValue:Fe,listOfSelectedValue:Ze}=N;(te||Ze)&&(this.selected=this.listOfSelectedValue.some(Dt=>this.compareWith(Dt,this.value))),(te||Fe)&&(this.activated=this.compareWith(this.activatedValue,this.value))}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,E.R)(this.elementRef.nativeElement,"click").pipe((0,G.R)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemClick.emit(this.value))}),(0,E.R)(this.elementRef.nativeElement,"mouseenter").pipe((0,G.R)(this.destroy$)).subscribe(()=>{this.disabled||this.ngZone.run(()=>this.itemHover.emit(this.value))})})}}return q.\u0275fac=function(N){return new(N||q)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(vt.kn))},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-option-item"]],hostAttrs:[1,"ant-select-item","ant-select-item-option"],hostVars:9,hostBindings:function(N,te){2&N&&(u.uIk("title",te.label),u.ekj("ant-select-item-option-grouped",te.grouped)("ant-select-item-option-selected",te.selected&&!te.disabled)("ant-select-item-option-disabled",te.disabled)("ant-select-item-option-active",te.activated&&!te.disabled))},inputs:{grouped:"grouped",customContent:"customContent",template:"template",disabled:"disabled",showState:"showState",label:"label",value:"value",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",icon:"icon",compareWith:"compareWith"},outputs:{itemClick:"itemClick",itemHover:"itemHover"},features:[u._Bn([vt.kn]),u.TTD],decls:5,vars:3,consts:[[1,"ant-select-item-option-content"],[3,"ngIf","ngIfElse"],["noCustomContent",""],["class","ant-select-item-option-state","style","user-select: none","unselectable","on",4,"ngIf"],[3,"ngTemplateOutlet"],["unselectable","on",1,"ant-select-item-option-state",2,"user-select","none"],["nz-icon","","nzType","check","class","ant-select-selected-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","check",1,"ant-select-selected-icon"]],template:function(N,te){if(1&N&&(u.TgZ(0,"div",0),u.YNc(1,me,1,1,"ng-template",1),u.YNc(2,$e,1,1,"ng-template",null,2,u.W1O),u.qZA(),u.YNc(4,ye,2,2,"div",3)),2&N){const Fe=u.MAs(3);u.xp6(1),u.Q6J("ngIf",te.customContent)("ngIfElse",Fe),u.xp6(3),u.Q6J("ngIf",te.showState&&te.selected)}},dependencies:[R.O5,R.tP,Ct.Ls,Nt.w],encapsulation:2,changeDetection:0}),q})(),wi=(()=>{class q{constructor(){this.nzLabel=null}}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-option-item-group"]],hostAttrs:[1,"ant-select-item","ant-select-item-group"],inputs:{nzLabel:"nzLabel"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(N,te){1&N&&u.YNc(0,fe,2,1,"ng-container",0),2&N&&u.Q6J("nzStringTemplateOutlet",te.nzLabel)},dependencies:[de.f],encapsulation:2,changeDetection:0}),q})(),ba=(()=>{class q{constructor(){this.notFoundContent=void 0,this.menuItemSelectedIcon=null,this.dropdownRender=null,this.activatedValue=null,this.listOfSelectedValue=[],this.mode="default",this.matchWidth=!0,this.itemSize=32,this.maxItemLength=8,this.listOfContainerItem=[],this.itemClick=new u.vpe,this.scrollToBottom=new u.vpe,this.scrolledIndex=0}onItemClick(N){this.itemClick.emit(N)}onItemHover(N){this.activatedValue=N}trackValue(N,te){return te.key}onScrolledIndexChange(N){this.scrolledIndex=N,N===this.listOfContainerItem.length-this.maxItemLength&&this.scrollToBottom.emit()}scrollToActivatedValue(){const N=this.listOfContainerItem.findIndex(te=>this.compareWith(te.key,this.activatedValue));(N<this.scrolledIndex||N>=this.scrolledIndex+this.maxItemLength)&&this.cdkVirtualScrollViewport.scrollToIndex(N||0)}ngOnChanges(N){const{listOfContainerItem:te,activatedValue:Fe}=N;(te||Fe)&&this.scrollToActivatedValue()}ngAfterViewInit(){setTimeout(()=>this.scrollToActivatedValue())}}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-option-container"]],viewQuery:function(N,te){if(1&N&&u.Gf(F.N7,7),2&N){let Fe;u.iGM(Fe=u.CRH())&&(te.cdkVirtualScrollViewport=Fe.first)}},hostAttrs:[1,"ant-select-dropdown"],inputs:{notFoundContent:"notFoundContent",menuItemSelectedIcon:"menuItemSelectedIcon",dropdownRender:"dropdownRender",activatedValue:"activatedValue",listOfSelectedValue:"listOfSelectedValue",compareWith:"compareWith",mode:"mode",matchWidth:"matchWidth",itemSize:"itemSize",maxItemLength:"maxItemLength",listOfContainerItem:"listOfContainerItem"},outputs:{itemClick:"itemClick",scrollToBottom:"scrollToBottom"},exportAs:["nzOptionContainer"],features:[u.TTD],decls:5,vars:14,consts:[["class","ant-select-item-empty",4,"ngIf"],[3,"itemSize","maxBufferPx","minBufferPx","scrolledIndexChange"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"ngTemplateOutlet"],[1,"ant-select-item-empty"],["nzComponentName","select",3,"specificContent"],[3,"ngSwitch"],[3,"nzLabel",4,"ngSwitchCase"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick",4,"ngSwitchCase"],[3,"nzLabel"],[3,"icon","customContent","template","grouped","disabled","showState","label","compareWith","activatedValue","listOfSelectedValue","value","itemHover","itemClick"]],template:function(N,te){1&N&&(u.TgZ(0,"div"),u.YNc(1,ne,2,1,"div",0),u.TgZ(2,"cdk-virtual-scroll-viewport",1),u.NdJ("scrolledIndexChange",function(Ze){return te.onScrolledIndexChange(Ze)}),u.YNc(3,T,3,3,"ng-template",2),u.qZA(),u.YNc(4,M,0,0,"ng-template",3),u.qZA()),2&N&&(u.xp6(1),u.Q6J("ngIf",0===te.listOfContainerItem.length),u.xp6(1),u.Udp("height",te.listOfContainerItem.length*te.itemSize,"px")("max-height",te.itemSize*te.maxItemLength,"px"),u.ekj("full-width",!te.matchWidth),u.Q6J("itemSize",te.itemSize)("maxBufferPx",te.itemSize*te.maxItemLength)("minBufferPx",te.itemSize*te.maxItemLength),u.xp6(1),u.Q6J("cdkVirtualForOf",te.listOfContainerItem)("cdkVirtualForTrackBy",te.trackValue)("cdkVirtualForTemplateCacheSize",0),u.xp6(1),u.Q6J("ngTemplateOutlet",te.dropdownRender))},dependencies:[R.O5,R.tP,R.RF,R.n9,F.xd,F.x0,F.N7,zt,Ot,wi],encapsulation:2,changeDetection:0}),q})(),Oa=(()=>{class q{constructor(N,te){this.nzOptionGroupComponent=N,this.destroy$=te,this.changes=new a.x,this.groupLabel=null,this.nzLabel=null,this.nzValue=null,this.nzDisabled=!1,this.nzHide=!1,this.nzCustomContent=!1}ngOnInit(){this.nzOptionGroupComponent&&this.nzOptionGroupComponent.changes.pipe((0,X.O)(!0),(0,G.R)(this.destroy$)).subscribe(()=>{this.groupLabel=this.nzOptionGroupComponent.nzLabel})}ngOnChanges(){this.changes.next()}}return q.\u0275fac=function(N){return new(N||q)(u.Y36(Lo,8),u.Y36(vt.kn))},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-option"]],viewQuery:function(N,te){if(1&N&&u.Gf(u.Rgc,7),2&N){let Fe;u.iGM(Fe=u.CRH())&&(te.template=Fe.first)}},inputs:{nzLabel:"nzLabel",nzValue:"nzValue",nzDisabled:"nzDisabled",nzHide:"nzHide",nzCustomContent:"nzCustomContent"},exportAs:["nzOption"],features:[u._Bn([vt.kn]),u.TTD],ngContentSelectors:lt,decls:1,vars:0,template:function(N,te){1&N&&(u.F$t(),u.YNc(0,B,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzDisabled",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzHide",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzCustomContent",void 0),q})(),Mi=(()=>{class q{constructor(N,te,Fe){this.elementRef=N,this.renderer=te,this.focusMonitor=Fe,this.nzId=null,this.disabled=!1,this.mirrorSync=!1,this.showInput=!0,this.focusTrigger=!1,this.value="",this.autofocus=!1,this.valueChange=new u.vpe,this.isComposingChange=new u.vpe}setCompositionState(N){this.isComposingChange.next(N)}onValueChange(N){this.value=N,this.valueChange.next(N),this.mirrorSync&&this.syncMirrorWidth()}clearInputValue(){this.inputElement.nativeElement.value="",this.onValueChange("")}syncMirrorWidth(){const N=this.mirrorElement.nativeElement,te=this.elementRef.nativeElement,Fe=this.inputElement.nativeElement;this.renderer.removeStyle(te,"width"),N.innerHTML=this.renderer.createText(`${Fe.value}&nbsp;`),this.renderer.setStyle(te,"width",`${N.scrollWidth}px`)}focus(){this.focusMonitor.focusVia(this.inputElement,"keyboard")}blur(){this.inputElement.nativeElement.blur()}ngOnChanges(N){const te=this.inputElement.nativeElement,{focusTrigger:Fe,showInput:Ze}=N;Ze&&(this.showInput?this.renderer.removeAttribute(te,"readonly"):this.renderer.setAttribute(te,"readonly","readonly")),Fe&&!0===Fe.currentValue&&!1===Fe.previousValue&&te.focus()}ngAfterViewInit(){this.mirrorSync&&this.syncMirrorWidth(),this.autofocus&&this.focus()}}return q.\u0275fac=function(N){return new(N||q)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(un.tE))},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-select-search"]],viewQuery:function(N,te){if(1&N&&(u.Gf(ae,7),u.Gf(We,5)),2&N){let Fe;u.iGM(Fe=u.CRH())&&(te.inputElement=Fe.first),u.iGM(Fe=u.CRH())&&(te.mirrorElement=Fe.first)}},hostAttrs:[1,"ant-select-selection-search"],inputs:{nzId:"nzId",disabled:"disabled",mirrorSync:"mirrorSync",showInput:"showInput",focusTrigger:"focusTrigger",value:"value",autofocus:"autofocus"},outputs:{valueChange:"valueChange",isComposingChange:"isComposingChange"},features:[u._Bn([{provide:Pt.ve,useValue:!1}]),u.TTD],decls:3,vars:7,consts:[["autocomplete","off",1,"ant-select-selection-search-input",3,"ngModel","disabled","ngModelChange","compositionstart","compositionend"],["inputElement",""],["class","ant-select-selection-search-mirror",4,"ngIf"],[1,"ant-select-selection-search-mirror"],["mirrorElement",""]],template:function(N,te){1&N&&(u.TgZ(0,"input",0,1),u.NdJ("ngModelChange",function(Ze){return te.onValueChange(Ze)})("compositionstart",function(){return te.setCompositionState(!0)})("compositionend",function(){return te.setCompositionState(!1)}),u.qZA(),u.YNc(2,Xe,2,0,"span",2)),2&N&&(u.Udp("opacity",te.showInput?null:0),u.Q6J("ngModel",te.value)("disabled",te.disabled),u.uIk("id",te.nzId)("autofocus",te.autofocus?"autofocus":null),u.xp6(2),u.Q6J("ngIf",te.mirrorSync))},dependencies:[R.O5,Pt.Fj,Pt.JJ,Pt.On],encapsulation:2,changeDetection:0}),q})(),ti=(()=>{class q{constructor(){this.disabled=!1,this.label=null,this.deletable=!1,this.removeIcon=null,this.contentTemplateOutletContext=null,this.contentTemplateOutlet=null,this.delete=new u.vpe}onDelete(N){N.preventDefault(),N.stopPropagation(),this.disabled||this.delete.next(N)}}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-select-item"]],hostAttrs:[1,"ant-select-selection-item"],hostVars:3,hostBindings:function(N,te){2&N&&(u.uIk("title",te.label),u.ekj("ant-select-selection-item-disabled",te.disabled))},inputs:{disabled:"disabled",label:"label",deletable:"deletable",removeIcon:"removeIcon",contentTemplateOutletContext:"contentTemplateOutletContext",contentTemplateOutlet:"contentTemplateOutlet"},outputs:{delete:"delete"},decls:2,vars:5,consts:[[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-select-selection-item-remove",3,"click",4,"ngIf"],["class","ant-select-selection-item-content",4,"ngIf","ngIfElse"],["labelTemplate",""],[1,"ant-select-selection-item-content"],[1,"ant-select-selection-item-remove",3,"click"],["nz-icon","","nzType","close",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"]],template:function(N,te){1&N&&(u.YNc(0,Mt,4,2,"ng-container",0),u.YNc(1,Ft,2,2,"span",1)),2&N&&(u.Q6J("nzStringTemplateOutlet",te.contentTemplateOutlet)("nzStringTemplateOutletContext",u.VKq(3,En,te.contentTemplateOutletContext)),u.xp6(1),u.Q6J("ngIf",te.deletable&&!te.disabled))},dependencies:[R.O5,Ct.Ls,de.f,Nt.w],encapsulation:2,changeDetection:0}),q})(),zr=(()=>{class q{constructor(){this.placeholder=null}}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-select-placeholder"]],hostAttrs:[1,"ant-select-selection-placeholder"],inputs:{placeholder:"placeholder"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"]],template:function(N,te){1&N&&u.YNc(0,Bn,2,1,"ng-container",0),2&N&&u.Q6J("nzStringTemplateOutlet",te.placeholder)},dependencies:[de.f],encapsulation:2,changeDetection:0}),q})(),Vn=(()=>{class q{constructor(N,te,Fe){this.elementRef=N,this.ngZone=te,this.noAnimation=Fe,this.nzId=null,this.showSearch=!1,this.placeHolder=null,this.open=!1,this.maxTagCount=1/0,this.autofocus=!1,this.disabled=!1,this.mode="default",this.customTemplate=null,this.maxTagPlaceholder=null,this.removeIcon=null,this.listOfTopItem=[],this.tokenSeparators=[],this.tokenize=new u.vpe,this.inputValueChange=new u.vpe,this.deleteItem=new u.vpe,this.listOfSlicedItem=[],this.isShowPlaceholder=!0,this.isShowSingleLabel=!1,this.isComposing=!1,this.inputValue=null,this.destroy$=new a.x}updateTemplateVariable(){const N=0===this.listOfTopItem.length;this.isShowPlaceholder=N&&!this.isComposing&&!this.inputValue,this.isShowSingleLabel=!N&&!this.isComposing&&!this.inputValue}isComposingChange(N){this.isComposing=N,this.updateTemplateVariable()}onInputValueChange(N){N!==this.inputValue&&(this.inputValue=N,this.updateTemplateVariable(),this.inputValueChange.emit(N),this.tokenSeparate(N,this.tokenSeparators))}tokenSeparate(N,te){if(N&&N.length&&te.length&&"default"!==this.mode&&((Dt,hn)=>{for(let qt=0;qt<hn.length;++qt)if(Dt.lastIndexOf(hn[qt])>0)return!0;return!1})(N,te)){const Dt=((Dt,hn)=>{const qt=new RegExp(`[${hn.join()}]`),nn=Dt.split(qt).filter(gr=>gr);return[...new Set(nn)]})(N,te);this.tokenize.next(Dt)}}clearInputValue(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.clearInputValue()}focus(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.focus()}blur(){this.nzSelectSearchComponent&&this.nzSelectSearchComponent.blur()}trackValue(N,te){return te.nzValue}onDeleteItem(N){!this.disabled&&!N.nzDisabled&&this.deleteItem.next(N)}ngOnChanges(N){const{listOfTopItem:te,maxTagCount:Fe,customTemplate:Ze,maxTagPlaceholder:Dt}=N;if(te&&this.updateTemplateVariable(),te||Fe||Ze||Dt){const hn=this.listOfTopItem.slice(0,this.maxTagCount).map(qt=>({nzLabel:qt.nzLabel,nzValue:qt.nzValue,nzDisabled:qt.nzDisabled,contentTemplateOutlet:this.customTemplate,contentTemplateOutletContext:qt}));if(this.listOfTopItem.length>this.maxTagCount){const qt=`+ ${this.listOfTopItem.length-this.maxTagCount} ...`,nn=this.listOfTopItem.map(vn=>vn.nzValue),gr={nzLabel:qt,nzValue:"$$__nz_exceeded_item",nzDisabled:!0,contentTemplateOutlet:this.maxTagPlaceholder,contentTemplateOutletContext:nn.slice(this.maxTagCount)};hn.push(gr)}this.listOfSlicedItem=hn}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{(0,E.R)(this.elementRef.nativeElement,"click").pipe((0,G.R)(this.destroy$)).subscribe(N=>{N.target!==this.nzSelectSearchComponent.inputElement.nativeElement&&this.nzSelectSearchComponent.focus()}),(0,E.R)(this.elementRef.nativeElement,"keydown").pipe((0,G.R)(this.destroy$)).subscribe(N=>{if(N.target instanceof HTMLInputElement){const te=N.target.value;N.keyCode===yt.ZH&&"default"!==this.mode&&!te&&this.listOfTopItem.length>0&&(N.preventDefault(),this.ngZone.run(()=>this.onDeleteItem(this.listOfTopItem[this.listOfTopItem.length-1])))}})})}ngOnDestroy(){this.destroy$.next()}}return q.\u0275fac=function(N){return new(N||q)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(gn.P,9))},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-select-top-control"]],viewQuery:function(N,te){if(1&N&&u.Gf(Mi,5),2&N){let Fe;u.iGM(Fe=u.CRH())&&(te.nzSelectSearchComponent=Fe.first)}},hostAttrs:[1,"ant-select-selector"],inputs:{nzId:"nzId",showSearch:"showSearch",placeHolder:"placeHolder",open:"open",maxTagCount:"maxTagCount",autofocus:"autofocus",disabled:"disabled",mode:"mode",customTemplate:"customTemplate",maxTagPlaceholder:"maxTagPlaceholder",removeIcon:"removeIcon",listOfTopItem:"listOfTopItem",tokenSeparators:"tokenSeparators"},outputs:{tokenize:"tokenize",inputValueChange:"inputValueChange",deleteItem:"deleteItem"},exportAs:["nzSelectTopControl"],features:[u.TTD],decls:4,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"placeholder",4,"ngIf"],[3,"nzId","disabled","value","showInput","mirrorSync","autofocus","focusTrigger","isComposingChange","valueChange"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext",4,"ngIf"],[3,"deletable","disabled","removeIcon","label","contentTemplateOutlet","contentTemplateOutletContext"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete",4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzId","disabled","value","autofocus","showInput","mirrorSync","focusTrigger","isComposingChange","valueChange"],[3,"removeIcon","label","disabled","contentTemplateOutlet","deletable","contentTemplateOutletContext","delete"],[3,"placeholder"]],template:function(N,te){1&N&&(u.ynx(0,0),u.YNc(1,Ar,3,8,"ng-container",1),u.YNc(2,Hn,3,9,"ng-container",2),u.BQk(),u.YNc(3,Io,1,1,"nz-select-placeholder",3)),2&N&&(u.Q6J("ngSwitch",te.mode),u.xp6(1),u.Q6J("ngSwitchCase","default"),u.xp6(2),u.Q6J("ngIf",te.isShowPlaceholder))},dependencies:[R.sg,R.O5,R.RF,R.n9,R.ED,Nt.w,Mi,ti,zr],encapsulation:2,changeDetection:0}),q})(),Ai=(()=>{class q{constructor(){this.clearIcon=null,this.clear=new u.vpe}onClick(N){N.preventDefault(),N.stopPropagation(),this.clear.emit(N)}}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-select-clear"]],hostAttrs:[1,"ant-select-clear"],hostBindings:function(N,te){1&N&&u.NdJ("click",function(Ze){return te.onClick(Ze)})},inputs:{clearIcon:"clearIcon"},outputs:{clear:"clear"},decls:1,vars:2,consts:[["nz-icon","","nzType","close-circle","nzTheme","fill","class","ant-select-close-icon",4,"ngIf","ngIfElse"],["nz-icon","","nzType","close-circle","nzTheme","fill",1,"ant-select-close-icon"]],template:function(N,te){1&N&&u.YNc(0,Ro,1,0,"span",0),2&N&&u.Q6J("ngIf",!te.clearIcon)("ngIfElse",te.clearIcon)},dependencies:[R.O5,Ct.Ls,Nt.w],encapsulation:2,changeDetection:0}),q})(),Qn=(()=>{class q{constructor(){this.loading=!1,this.search=!1,this.showArrow=!1,this.suffixIcon=null,this.feedbackIcon=null}}return q.\u0275fac=function(N){return new(N||q)},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-select-arrow"]],hostAttrs:[1,"ant-select-arrow"],hostVars:2,hostBindings:function(N,te){2&N&&u.ekj("ant-select-arrow-loading",te.loading)},inputs:{loading:"loading",search:"search",showArrow:"showArrow",suffixIcon:"suffixIcon",feedbackIcon:"feedbackIcon"},decls:4,vars:3,consts:[["nz-icon","","nzType","loading",4,"ngIf","ngIfElse"],["defaultArrow",""],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","loading"],[4,"ngIf","ngIfElse"],["suffixTemplate",""],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","search",4,"ngIf"],["nz-icon","","nzType","down"],["nz-icon","","nzType","search"],["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(N,te){if(1&N&&(u.YNc(0,Ci,1,0,"span",0),u.YNc(1,Nr,3,2,"ng-template",null,1,u.W1O),u.YNc(3,Wr,2,1,"ng-container",2)),2&N){const Fe=u.MAs(2);u.Q6J("ngIf",te.loading)("ngIfElse",Fe),u.xp6(3),u.Q6J("nzStringTemplateOutlet",te.feedbackIcon)}},dependencies:[R.O5,Ct.Ls,de.f,Nt.w],encapsulation:2,changeDetection:0}),q})();const wn=(q,Ve)=>!(!Ve||!Ve.nzLabel)&&Ve.nzLabel.toString().toLowerCase().indexOf(q.toLowerCase())>-1;let vo=(()=>{class q{constructor(N,te,Fe,Ze,Dt,hn,qt,nn,gr,vn,qn,Xr){this.ngZone=N,this.destroy$=te,this.nzConfigService=Fe,this.cdr=Ze,this.host=Dt,this.renderer=hn,this.platform=qt,this.focusMonitor=nn,this.directionality=gr,this.noAnimation=vn,this.nzFormStatusService=qn,this.nzFormNoStatusService=Xr,this._nzModuleName="select",this.nzId=null,this.nzSize="default",this.nzStatus="",this.nzOptionHeightPx=32,this.nzOptionOverflowSize=8,this.nzDropdownClassName=null,this.nzDropdownMatchSelectWidth=!0,this.nzDropdownStyle=null,this.nzNotFoundContent=void 0,this.nzPlaceHolder=null,this.nzMaxTagCount=1/0,this.nzDropdownRender=null,this.nzCustomTemplate=null,this.nzSuffixIcon=null,this.nzClearIcon=null,this.nzRemoveIcon=null,this.nzMenuItemSelectedIcon=null,this.nzTokenSeparators=[],this.nzMaxTagPlaceholder=null,this.nzMaxMultipleCount=1/0,this.nzMode="default",this.nzFilterOption=wn,this.compareWith=(Bo,dr)=>Bo===dr,this.nzAllowClear=!1,this.nzBorderless=!1,this.nzShowSearch=!1,this.nzLoading=!1,this.nzAutoFocus=!1,this.nzAutoClearSearchValue=!0,this.nzServerSearch=!1,this.nzDisabled=!1,this.nzOpen=!1,this.nzBackdrop=!1,this.nzOptions=[],this.nzOnSearch=new u.vpe,this.nzScrollToBottom=new u.vpe,this.nzOpenChange=new u.vpe,this.nzBlur=new u.vpe,this.nzFocus=new u.vpe,this.listOfValue$=new v.X([]),this.listOfTemplateItem$=new v.X([]),this.listOfTagAndTemplateItem=[],this.searchValue="",this.isReactiveDriven=!1,this.requestId=-1,this.onChange=()=>{},this.onTouched=()=>{},this.dropDownPosition="bottom",this.triggerWidth=null,this.listOfContainerItem=[],this.listOfTopItem=[],this.activatedValue=null,this.listOfValue=[],this.focused=!1,this.dir="ltr",this.prefixCls="ant-select",this.statusCls={},this.status="",this.hasFeedback=!1}set nzShowArrow(N){this._nzShowArrow=N}get nzShowArrow(){return void 0===this._nzShowArrow?"default"===this.nzMode:this._nzShowArrow}generateTagItem(N){return{nzValue:N,nzLabel:N,type:"item"}}onItemClick(N){if(this.activatedValue=N,"default"===this.nzMode)(0===this.listOfValue.length||!this.compareWith(this.listOfValue[0],N))&&this.updateListOfValue([N]),this.setOpenState(!1);else{const te=this.listOfValue.findIndex(Fe=>this.compareWith(Fe,N));if(-1!==te){const Fe=this.listOfValue.filter((Ze,Dt)=>Dt!==te);this.updateListOfValue(Fe)}else if(this.listOfValue.length<this.nzMaxMultipleCount){const Fe=[...this.listOfValue,N];this.updateListOfValue(Fe)}this.focus(),this.nzAutoClearSearchValue&&this.clearInput()}}onItemDelete(N){const te=this.listOfValue.filter(Fe=>!this.compareWith(Fe,N.nzValue));this.updateListOfValue(te),this.clearInput()}updateListOfContainerItem(){let N=this.listOfTagAndTemplateItem.filter(Ze=>!Ze.nzHide).filter(Ze=>!(!this.nzServerSearch&&this.searchValue)||this.nzFilterOption(this.searchValue,Ze));if("tags"===this.nzMode&&this.searchValue){const Ze=this.listOfTagAndTemplateItem.find(Dt=>Dt.nzLabel===this.searchValue);if(Ze)this.activatedValue=Ze.nzValue;else{const Dt=this.generateTagItem(this.searchValue);N=[Dt,...N],this.activatedValue=Dt.nzValue}}const te=N.find(Ze=>Ze.nzLabel===this.searchValue)||N.find(Ze=>this.compareWith(Ze.nzValue,this.listOfValue[0]))||N[0];this.activatedValue=te&&te.nzValue||null;let Fe=[];this.isReactiveDriven?Fe=[...new Set(this.nzOptions.filter(Ze=>Ze.groupLabel).map(Ze=>Ze.groupLabel))]:this.listOfNzOptionGroupComponent&&(Fe=this.listOfNzOptionGroupComponent.map(Ze=>Ze.nzLabel)),Fe.forEach(Ze=>{const Dt=N.findIndex(hn=>Ze===hn.groupLabel);Dt>-1&&N.splice(Dt,0,{groupLabel:Ze,type:"group",key:Ze})}),this.listOfContainerItem=[...N],this.updateCdkConnectedOverlayPositions()}clearInput(){this.nzSelectTopControlComponent.clearInputValue()}updateListOfValue(N){const Fe=((Ze,Dt)=>"default"===this.nzMode?Ze.length>0?Ze[0]:null:Ze)(N);this.value!==Fe&&(this.listOfValue=N,this.listOfValue$.next(N),this.value=Fe,this.onChange(this.value))}onTokenSeparate(N){const te=this.listOfTagAndTemplateItem.filter(Fe=>-1!==N.findIndex(Ze=>Ze===Fe.nzLabel)).map(Fe=>Fe.nzValue).filter(Fe=>-1===this.listOfValue.findIndex(Ze=>this.compareWith(Ze,Fe)));if("multiple"===this.nzMode)this.updateListOfValue([...this.listOfValue,...te]);else if("tags"===this.nzMode){const Fe=N.filter(Ze=>-1===this.listOfTagAndTemplateItem.findIndex(Dt=>Dt.nzLabel===Ze));this.updateListOfValue([...this.listOfValue,...te,...Fe])}this.clearInput()}onKeyDown(N){if(this.nzDisabled)return;const te=this.listOfContainerItem.filter(Ze=>"item"===Ze.type).filter(Ze=>!Ze.nzDisabled),Fe=te.findIndex(Ze=>this.compareWith(Ze.nzValue,this.activatedValue));switch(N.keyCode){case yt.LH:N.preventDefault(),this.nzOpen&&te.length>0&&(this.activatedValue=te[Fe>0?Fe-1:te.length-1].nzValue);break;case yt.JH:N.preventDefault(),this.nzOpen&&te.length>0?this.activatedValue=te[Fe<te.length-1?Fe+1:0].nzValue:this.setOpenState(!0);break;case yt.K5:N.preventDefault(),this.nzOpen?(0,Rt.DX)(this.activatedValue)&&this.onItemClick(this.activatedValue):this.setOpenState(!0);break;case yt.L_:this.nzOpen||(this.setOpenState(!0),N.preventDefault());break;case yt.Mf:this.setOpenState(!1);break;case yt.hY:break;default:this.nzOpen||this.setOpenState(!0)}}setOpenState(N){this.nzOpen!==N&&(this.nzOpen=N,this.nzOpenChange.emit(N),this.onOpenChange(),this.cdr.markForCheck())}onOpenChange(){this.updateCdkConnectedOverlayStatus(),this.clearInput()}onInputValueChange(N){this.searchValue=N,this.updateListOfContainerItem(),this.nzOnSearch.emit(N),this.updateCdkConnectedOverlayPositions()}onClearSelection(){this.updateListOfValue([])}onClickOutside(N){this.host.nativeElement.contains(N.target)||this.setOpenState(!1)}focus(){this.nzSelectTopControlComponent.focus()}blur(){this.nzSelectTopControlComponent.blur()}onPositionChange(N){this.dropDownPosition=N.connectionPair.originY}updateCdkConnectedOverlayStatus(){if(this.platform.isBrowser&&this.originElement.nativeElement){const N=this.triggerWidth;sn(this.requestId),this.requestId=Zt(()=>{this.triggerWidth=this.originElement.nativeElement.getBoundingClientRect().width,N!==this.triggerWidth&&this.cdr.detectChanges()})}}updateCdkConnectedOverlayPositions(){Zt(()=>{this.cdkConnectedOverlay?.overlayRef?.updatePosition()})}writeValue(N){if(this.value!==N){this.value=N;const Fe=((Ze,Dt)=>null==Ze?[]:"default"===this.nzMode?[Ze]:Ze)(N);this.listOfValue=Fe,this.listOfValue$.next(Fe),this.cdr.markForCheck()}}registerOnChange(N){this.onChange=N}registerOnTouched(N){this.onTouched=N}setDisabledState(N){this.nzDisabled=N,N&&this.setOpenState(!1),this.cdr.markForCheck()}ngOnChanges(N){const{nzOpen:te,nzDisabled:Fe,nzOptions:Ze,nzStatus:Dt}=N;if(te&&this.onOpenChange(),Fe&&this.nzDisabled&&this.setOpenState(!1),Ze){this.isReactiveDriven=!0;const qt=(this.nzOptions||[]).map(nn=>({template:nn.label instanceof u.Rgc?nn.label:null,nzLabel:"string"==typeof nn.label||"number"==typeof nn.label?nn.label:null,nzValue:nn.value,nzDisabled:nn.disabled||!1,nzHide:nn.hide||!1,nzCustomContent:nn.label instanceof u.Rgc,groupLabel:nn.groupLabel||null,type:"item",key:nn.value}));this.listOfTemplateItem$.next(qt)}Dt&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,Et.x)((N,te)=>N.status===te.status&&N.hasFeedback===te.hasFeedback),function Oe(...q){const Ve=(0,ge.jO)(q);return(0,gt.e)((N,te)=>{const Fe=q.length,Ze=new Array(Fe);let Dt=q.map(()=>!1),hn=!1;for(let qt=0;qt<Fe;qt++)(0,re.Xf)(q[qt]).subscribe((0,Ie.x)(te,nn=>{Ze[qt]=nn,!hn&&!Dt[qt]&&(Dt[qt]=!0,(hn=Dt.every(Y.y))&&(Dt=null))},V.Z));N.subscribe((0,Ie.x)(te,qt=>{if(hn){const nn=[qt,...Ze];te.next(Ve?Ve(...nn):nn)}}))})}(this.nzFormNoStatusService?this.nzFormNoStatusService.noFormStatus:(0,b.of)(!1)),(0,xe.U)(([{status:N,hasFeedback:te},Fe])=>({status:Fe?"":N,hasFeedback:te})),(0,G.R)(this.destroy$)).subscribe(({status:N,hasFeedback:te})=>{this.setStatusStyles(N,te)}),this.focusMonitor.monitor(this.host,!0).pipe((0,G.R)(this.destroy$)).subscribe(N=>{N?(this.focused=!0,this.cdr.markForCheck(),this.nzFocus.emit()):(this.focused=!1,this.cdr.markForCheck(),this.nzBlur.emit(),Promise.resolve().then(()=>{this.onTouched()}))}),(0,x.a)([this.listOfValue$,this.listOfTemplateItem$]).pipe((0,G.R)(this.destroy$)).subscribe(([N,te])=>{const Fe=N.filter(()=>"tags"===this.nzMode).filter(Ze=>-1===te.findIndex(Dt=>this.compareWith(Dt.nzValue,Ze))).map(Ze=>this.listOfTopItem.find(Dt=>this.compareWith(Dt.nzValue,Ze))||this.generateTagItem(Ze));this.listOfTagAndTemplateItem=[...te,...Fe],this.listOfTopItem=this.listOfValue.map(Ze=>[...this.listOfTagAndTemplateItem,...this.listOfTopItem].find(Dt=>this.compareWith(Ze,Dt.nzValue))).filter(Ze=>!!Ze),this.updateListOfContainerItem()}),this.directionality.change?.pipe((0,G.R)(this.destroy$)).subscribe(N=>{this.dir=N,this.cdr.detectChanges()}),this.nzConfigService.getConfigChangeEventForComponent("select").pipe((0,G.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>(0,E.R)(this.host.nativeElement,"click").pipe((0,G.R)(this.destroy$)).subscribe(()=>{this.nzOpen&&this.nzShowSearch||this.nzDisabled||this.ngZone.run(()=>this.setOpenState(!this.nzOpen))})),this.cdkConnectedOverlay.overlayKeydown.pipe((0,G.R)(this.destroy$)).subscribe(N=>{N.keyCode===yt.hY&&this.setOpenState(!1)})}ngAfterContentInit(){this.isReactiveDriven||(0,D.T)(this.listOfNzOptionGroupComponent.changes,this.listOfNzOptionComponent.changes).pipe((0,X.O)(!0),(0,ct.w)(()=>(0,D.T)(this.listOfNzOptionComponent.changes,this.listOfNzOptionGroupComponent.changes,...this.listOfNzOptionComponent.map(N=>N.changes),...this.listOfNzOptionGroupComponent.map(N=>N.changes)).pipe((0,X.O)(!0))),(0,G.R)(this.destroy$)).subscribe(()=>{const N=this.listOfNzOptionComponent.toArray().map(te=>{const{template:Fe,nzLabel:Ze,nzValue:Dt,nzDisabled:hn,nzHide:qt,nzCustomContent:nn,groupLabel:gr}=te;return{template:Fe,nzLabel:Ze,nzValue:Dt,nzDisabled:hn,nzHide:qt,nzCustomContent:nn,groupLabel:gr,type:"item",key:Dt}});this.listOfTemplateItem$.next(N),this.cdr.markForCheck()})}ngOnDestroy(){sn(this.requestId),this.focusMonitor.stopMonitoring(this.host)}setStatusStyles(N,te){this.status=N,this.hasFeedback=te,this.cdr.markForCheck(),this.statusCls=(0,Rt.Zu)(this.prefixCls,N,te),Object.keys(this.statusCls).forEach(Fe=>{this.statusCls[Fe]?this.renderer.addClass(this.host.nativeElement,Fe):this.renderer.removeClass(this.host.nativeElement,Fe)})}}return q.\u0275fac=function(N){return new(N||q)(u.Y36(u.R0b),u.Y36(vt.kn),u.Y36($.jY),u.Y36(u.sBO),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(fn.t4),u.Y36(un.tE),u.Y36(se.Is,8),u.Y36(gn.P,9),u.Y36(cn.kH,8),u.Y36(cn.yW,8))},q.\u0275cmp=u.Xpm({type:q,selectors:[["nz-select"]],contentQueries:function(N,te,Fe){if(1&N&&(u.Suo(Fe,Oa,5),u.Suo(Fe,Lo,5)),2&N){let Ze;u.iGM(Ze=u.CRH())&&(te.listOfNzOptionComponent=Ze),u.iGM(Ze=u.CRH())&&(te.listOfNzOptionGroupComponent=Ze)}},viewQuery:function(N,te){if(1&N&&(u.Gf(xt.xu,7,u.SBq),u.Gf(xt.pI,7),u.Gf(Vn,7),u.Gf(Lo,7,u.SBq),u.Gf(Vn,7,u.SBq)),2&N){let Fe;u.iGM(Fe=u.CRH())&&(te.originElement=Fe.first),u.iGM(Fe=u.CRH())&&(te.cdkConnectedOverlay=Fe.first),u.iGM(Fe=u.CRH())&&(te.nzSelectTopControlComponent=Fe.first),u.iGM(Fe=u.CRH())&&(te.nzOptionGroupComponentElement=Fe.first),u.iGM(Fe=u.CRH())&&(te.nzSelectTopControlComponentElement=Fe.first)}},hostAttrs:[1,"ant-select"],hostVars:26,hostBindings:function(N,te){2&N&&u.ekj("ant-select-in-form-item",!!te.nzFormStatusService)("ant-select-lg","large"===te.nzSize)("ant-select-sm","small"===te.nzSize)("ant-select-show-arrow",te.nzShowArrow)("ant-select-disabled",te.nzDisabled)("ant-select-show-search",(te.nzShowSearch||"default"!==te.nzMode)&&!te.nzDisabled)("ant-select-allow-clear",te.nzAllowClear)("ant-select-borderless",te.nzBorderless)("ant-select-open",te.nzOpen)("ant-select-focused",te.nzOpen||te.focused)("ant-select-single","default"===te.nzMode)("ant-select-multiple","default"!==te.nzMode)("ant-select-rtl","rtl"===te.dir)},inputs:{nzId:"nzId",nzSize:"nzSize",nzStatus:"nzStatus",nzOptionHeightPx:"nzOptionHeightPx",nzOptionOverflowSize:"nzOptionOverflowSize",nzDropdownClassName:"nzDropdownClassName",nzDropdownMatchSelectWidth:"nzDropdownMatchSelectWidth",nzDropdownStyle:"nzDropdownStyle",nzNotFoundContent:"nzNotFoundContent",nzPlaceHolder:"nzPlaceHolder",nzMaxTagCount:"nzMaxTagCount",nzDropdownRender:"nzDropdownRender",nzCustomTemplate:"nzCustomTemplate",nzSuffixIcon:"nzSuffixIcon",nzClearIcon:"nzClearIcon",nzRemoveIcon:"nzRemoveIcon",nzMenuItemSelectedIcon:"nzMenuItemSelectedIcon",nzTokenSeparators:"nzTokenSeparators",nzMaxTagPlaceholder:"nzMaxTagPlaceholder",nzMaxMultipleCount:"nzMaxMultipleCount",nzMode:"nzMode",nzFilterOption:"nzFilterOption",compareWith:"compareWith",nzAllowClear:"nzAllowClear",nzBorderless:"nzBorderless",nzShowSearch:"nzShowSearch",nzLoading:"nzLoading",nzAutoFocus:"nzAutoFocus",nzAutoClearSearchValue:"nzAutoClearSearchValue",nzServerSearch:"nzServerSearch",nzDisabled:"nzDisabled",nzOpen:"nzOpen",nzBackdrop:"nzBackdrop",nzOptions:"nzOptions",nzShowArrow:"nzShowArrow"},outputs:{nzOnSearch:"nzOnSearch",nzScrollToBottom:"nzScrollToBottom",nzOpenChange:"nzOpenChange",nzBlur:"nzBlur",nzFocus:"nzFocus"},exportAs:["nzSelect"],features:[u._Bn([vt.kn,{provide:Pt.JU,useExisting:(0,u.Gpc)(()=>q),multi:!0}]),u.TTD],decls:5,vars:24,consts:[["cdkOverlayOrigin","",3,"nzId","open","disabled","mode","nzNoAnimation","maxTagPlaceholder","removeIcon","placeHolder","maxTagCount","customTemplate","tokenSeparators","showSearch","autofocus","listOfTopItem","inputValueChange","tokenize","deleteItem","keydown"],["origin","cdkOverlayOrigin"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon",4,"ngIf"],[3,"clearIcon","clear",4,"ngIf"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayMinWidth","cdkConnectedOverlayWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayTransformOriginOn","cdkConnectedOverlayPanelClass","cdkConnectedOverlayOpen","overlayOutsideClick","detach","positionChange"],[3,"showArrow","loading","search","suffixIcon","feedbackIcon"],["feedbackIconTpl",""],[3,"status",4,"ngIf"],[3,"status"],[3,"clearIcon","clear"],[3,"ngStyle","itemSize","maxItemLength","matchWidth","nzNoAnimation","listOfContainerItem","menuItemSelectedIcon","notFoundContent","activatedValue","listOfSelectedValue","dropdownRender","compareWith","mode","keydown","itemClick","scrollToBottom"]],template:function(N,te){if(1&N&&(u.TgZ(0,"nz-select-top-control",0,1),u.NdJ("inputValueChange",function(Ze){return te.onInputValueChange(Ze)})("tokenize",function(Ze){return te.onTokenSeparate(Ze)})("deleteItem",function(Ze){return te.onItemDelete(Ze)})("keydown",function(Ze){return te.onKeyDown(Ze)}),u.qZA(),u.YNc(2,ei,3,5,"nz-select-arrow",2),u.YNc(3,ho,1,1,"nz-select-clear",3),u.YNc(4,jo,1,19,"ng-template",4),u.NdJ("overlayOutsideClick",function(Ze){return te.onClickOutside(Ze)})("detach",function(){return te.setOpenState(!1)})("positionChange",function(Ze){return te.onPositionChange(Ze)})),2&N){const Fe=u.MAs(1);u.Q6J("nzId",te.nzId)("open",te.nzOpen)("disabled",te.nzDisabled)("mode",te.nzMode)("@.disabled",null==te.noAnimation?null:te.noAnimation.nzNoAnimation)("nzNoAnimation",null==te.noAnimation?null:te.noAnimation.nzNoAnimation)("maxTagPlaceholder",te.nzMaxTagPlaceholder)("removeIcon",te.nzRemoveIcon)("placeHolder",te.nzPlaceHolder)("maxTagCount",te.nzMaxTagCount)("customTemplate",te.nzCustomTemplate)("tokenSeparators",te.nzTokenSeparators)("showSearch",te.nzShowSearch)("autofocus",te.nzAutoFocus)("listOfTopItem",te.listOfTopItem),u.xp6(2),u.Q6J("ngIf",te.nzShowArrow||te.hasFeedback&&!!te.status),u.xp6(1),u.Q6J("ngIf",te.nzAllowClear&&!te.nzDisabled&&te.listOfValue.length),u.xp6(1),u.Q6J("cdkConnectedOverlayHasBackdrop",te.nzBackdrop)("cdkConnectedOverlayMinWidth",te.nzDropdownMatchSelectWidth?null:te.triggerWidth)("cdkConnectedOverlayWidth",te.nzDropdownMatchSelectWidth?te.triggerWidth:null)("cdkConnectedOverlayOrigin",Fe)("cdkConnectedOverlayTransformOriginOn",".ant-select-dropdown")("cdkConnectedOverlayPanelClass",te.nzDropdownClassName)("cdkConnectedOverlayOpen",te.nzOpen)}},dependencies:[R.O5,R.PC,xt.pI,xt.xu,Be.hQ,gn.P,Nt.w,cn.w_,ba,Vn,Ai,Qn],encapsulation:2,data:{animation:[Ut.mF]},changeDetection:0}),(0,Le.gn)([(0,$.oS)()],q.prototype,"nzSuffixIcon",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzAllowClear",void 0),(0,Le.gn)([(0,$.oS)(),(0,Rt.yF)()],q.prototype,"nzBorderless",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzShowSearch",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzLoading",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzAutoFocus",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzAutoClearSearchValue",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzServerSearch",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzDisabled",void 0),(0,Le.gn)([(0,Rt.yF)()],q.prototype,"nzOpen",void 0),(0,Le.gn)([(0,$.oS)(),(0,Rt.yF)()],q.prototype,"nzBackdrop",void 0),q})(),ni=(()=>{class q{}return q.\u0275fac=function(N){return new(N||q)},q.\u0275mod=u.oAB({type:q}),q.\u0275inj=u.cJS({imports:[se.vT,R.ez,K.YI,Pt.u5,fn.ud,xt.U8,Ct.PV,de.T,Qe,Be.e4,gn.g,Nt.a,cn.mJ,F.Cl,un.rt]}),q})()}}]);