(self.webpackChunkangular_base=self.webpackChunkangular_base||[]).push([[336],{2188:(qc,vn)=>{window,qc.exports=function(j){var N={};function a(b){if(N[b])return N[b].exports;var y=N[b]={i:b,l:!1,exports:{}};return j[b].call(y.exports,y,y.exports,a),y.l=!0,y.exports}return a.m=j,a.c=N,a.d=function(b,y,P){a.o(b,y)||Object.defineProperty(b,y,{enumerable:!0,get:P})},a.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},a.t=function(b,y){if(1&y&&(b=a(b)),8&y||4&y&&"object"==typeof b&&b&&b.__esModule)return b;var P=Object.create(null);if(a.r(P),Object.defineProperty(P,"default",{enumerable:!0,value:b}),2&y&&"string"!=typeof b)for(var A in b)a.d(P,A,function(C){return b[C]}.bind(null,A));return P},a.n=function(b){var y=b&&b.__esModule?function(){return b.default}:function(){return b};return a.d(y,"a",y),y},a.o=function(b,y){return Object.prototype.hasOwnProperty.call(b,y)},a.p="",a(a.s=215)}([function(j,N,a){"use strict";(function(b,y){a.d(N,"a",function(){return Se}),a.d(N,"b",function(){return so}),a.d(N,"c",function(){return tn}),a.d(N,"d",function(){return Ee}),a.d(N,"e",function(){return Pt}),a.d(N,"f",function(){return Ct}),a.d(N,"g",function(){return Wa}),a.d(N,"h",function(){return z}),a.d(N,"i",function(){return U}),a.d(N,"j",function(){return di}),a.d(N,"k",function(){return on}),a.d(N,"l",function(){return Tr}),a.d(N,"m",function(){return ot}),a.d(N,"n",function(){return fa}),a.d(N,"o",function(){return He}),a.d(N,"p",function(){return sn}),a.d(N,"q",function(){return Pi}),a.d(N,"r",function(){return bn}),a.d(N,"s",function(){return M}),a.d(N,"t",function(){return an}),a.d(N,"u",function(){return xo}),a.d(N,"v",function(){return Wo}),a.d(N,"w",function(){return ro}),a.d(N,"x",function(){return no}),a.d(N,"y",function(){return Qt}),a.d(N,"z",function(){return dr}),a.d(N,"A",function(){return S}),a.d(N,"B",function(){return In}),a.d(N,"C",function(){return kt}),a.d(N,"D",function(){return Vo}),a.d(N,"E",function(){return mn}),a.d(N,"F",function(){return Oi}),a.d(N,"G",function(){return bi}),a.d(N,"H",function(){return nn}),a.d(N,"I",function(){return ha}),a.d(N,"J",function(){return $r}),a.d(N,"K",function(){return Ze}),a.d(N,"L",function(){return oo}),a.d(N,"M",function(){return io});var A=[];Object.freeze(A);var C={};function B(){return++et.mobxGuid}function L(l){throw $(!1,l),"X"}function $(l,p){if(!l)throw new Error("[mobx] "+(p||"An invariant failed, however the error is obfuscated because this is a production build."))}function Y(l){var p=!1;return function(){if(!p)return p=!0,l.apply(this,arguments)}}Object.freeze(C);var J=function(){};function ae(l){return null!==l&&"object"==typeof l}function re(l){if(null===l||"object"!=typeof l)return!1;var p=Object.getPrototypeOf(l);return p===Object.prototype||null===p}function ge(l,p,O){Object.defineProperty(l,p,{enumerable:!1,writable:!0,configurable:!0,value:O})}function le(l,p){var O="isMobX"+l;return p.prototype[O]=!0,function(D){return ae(D)&&!0===D[O]}}function oe(l){return l instanceof Map}function H(l){return l instanceof Set}function te(l){var p=new Set;for(var O in l)p.add(O);return Object.getOwnPropertySymbols(l).forEach(function(D){Object.getOwnPropertyDescriptor(l,D).enumerable&&p.add(D)}),Array.from(p)}function fe(l){return l&&l.toString?l.toString():new String(l).toString()}function ve(l){return null===l?null:"object"==typeof l?""+l:l}var ke=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:Object.getOwnPropertyNames,Se=Symbol("mobx administration"),ze=function(){function l(p){void 0===p&&(p="Atom@"+B()),this.name=p,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Qe.NOT_TRACKING}return l.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(p){return p()})},l.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(p){return p()})},l.prototype.reportObserved=function(){return Jt(this)},l.prototype.reportChanged=function(){Vr(),function Go(l){l.lowestObserverState!==Qe.STALE&&(l.lowestObserverState=Qe.STALE,l.observers.forEach(function(p){p.dependenciesState===Qe.UP_TO_DATE&&(p.isTracing!==dt.NONE&&Ho(p,l),p.onBecomeStale()),p.dependenciesState=Qe.STALE}))}(this),br()},l.prototype.toString=function(){return this.name},l}(),Ye=le("Atom",ze);function He(l,p,O){void 0===p&&(p=J),void 0===O&&(O=J);var D=new ze(l);return p!==J&&function xi(l,p,O){return Si("onBecomeObserved",l,p,O)}(D,p),O!==J&&mn(D,O),D}var Ot={identity:function Xe(l,p){return l===p},structural:function tt(l,p){return me(l,p)},default:function wt(l,p){return Object.is(l,p)},shallow:function ft(l,p){return me(l,p,1)}},Fe=function(l,p){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,D){O.__proto__=D}||function(O,D){for(var G in D)D.hasOwnProperty(G)&&(O[G]=D[G])})(l,p)};var it=function(){return it=Object.assign||function(p){for(var O,D=1,G=arguments.length;D<G;D++)for(var q in O=arguments[D])Object.prototype.hasOwnProperty.call(O,q)&&(p[q]=O[q]);return p},it.apply(this,arguments)};function Ke(l){var p="function"==typeof Symbol&&l[Symbol.iterator],O=0;return p?p.call(l):{next:function(){return l&&O>=l.length&&(l=void 0),{value:l&&l[O++],done:!l}}}}function _(l,p){var O="function"==typeof Symbol&&l[Symbol.iterator];if(!O)return l;var G,se,D=O.call(l),q=[];try{for(;(void 0===p||p-- >0)&&!(G=D.next()).done;)q.push(G.value)}catch(je){se={error:je}}finally{try{G&&!G.done&&(O=D.return)&&O.call(D)}finally{if(se)throw se.error}}return q}function ee(){for(var l=[],p=0;p<arguments.length;p++)l=l.concat(_(arguments[p]));return l}var ie=Symbol("mobx did run lazy initializers"),Te=Symbol("mobx pending decorators"),$e={},we={};function gt(l,p){var O=p?$e:we;return O[l]||(O[l]={configurable:!0,enumerable:p,get:function(){return ht(this),this[l]},set:function(D){ht(this),this[l]=D}})}function ht(l){var p,O;if(!0!==l[ie]){var D=l[Te];if(D){ge(l,ie,!0);var G=ee(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var q=Ke(G),se=q.next();!se.done;se=q.next()){var Ue=D[se.value];Ue.propertyCreator(l,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(mt){p={error:mt}}finally{try{se&&!se.done&&(O=q.return)&&O.call(q)}finally{if(p)throw p.error}}}}}function pt(l,p){return function(){var D,G=function(se,je,Ue,mt){return!0===mt?(p(se,je,Ue,se,D),null):(Object.prototype.hasOwnProperty.call(se,Te)||ge(se,Te,it({},se[Te])),se[Te][je]={prop:je,propertyCreator:p,descriptor:Ue,decoratorTarget:se,decoratorArguments:D},gt(je,l))};return xt(arguments)?(D=A,G.apply(null,arguments)):(D=Array.prototype.slice.call(arguments),G)}}function xt(l){return(2===l.length||3===l.length)&&("string"==typeof l[1]||"symbol"==typeof l[1])||4===l.length&&!0===l[3]}function De(l,p,O){return no(l)?l:Array.isArray(l)?kt.array(l,{name:O}):re(l)?kt.object(l,void 0,{name:O}):oe(l)?kt.map(l,{name:O}):H(l)?kt.set(l,{name:O}):l}function ut(l){return l}function vt(l){$(l);var O=pt(!0,function(D,G,q,se,je){var Ue=q?q.initializer?q.initializer.call(D):q.value:void 0;Ii(D).addObservableProp(G,Ue,l)});return O.enhancer=l,O}var zt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Dt(l){return null==l?zt:"string"==typeof l?{name:l,deep:!0,proxy:!0}:l}Object.freeze(zt);var Gt=vt(De),_t=vt(function Bt(l,p,O){return null==l||S(l)||Qt(l)||dr(l)||Er(l)?l:Array.isArray(l)?kt.array(l,{name:O,deep:!1}):re(l)?kt.object(l,void 0,{name:O,deep:!1}):oe(l)?kt.map(l,{name:O,deep:!1}):H(l)?kt.set(l,{name:O,deep:!1}):L(!1)}),Ut=vt(ut),nr=vt(function ct(l,p,O){return me(l,p)?p:l});function vr(l){return l.defaultDecorator?l.defaultDecorator.enhancer:!1===l.deep?ut:De}var ar={box:function(l,p){arguments.length>2&&Xt("box");var O=Dt(p);return new Ur(l,vr(O),O.name,!0,O.equals)},array:function(l,p){arguments.length>2&&Xt("array");var O=Dt(p);return ga(l,vr(O),O.name)},map:function(l,p){arguments.length>2&&Xt("map");var O=Dt(p);return new so(l,vr(O),O.name)},set:function(l,p){arguments.length>2&&Xt("set");var O=Dt(p);return new dn(l,vr(O),O.name)},object:function(l,p,O){"string"==typeof arguments[1]&&Xt("object");var D=Dt(O);if(!1===D.proxy)return Pi({},l,p,D);var G=Rn(D),se=wo(Pi({},void 0,void 0,D));return Po(se,l,p,G),se},ref:Ut,shallow:_t,deep:Gt,struct:nr},kt=function cr(l,p,O){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return Gt.apply(null,arguments);if(no(l))return l;var D=re(l)?kt.object(l,p,O):Array.isArray(l)?kt.array(l,p):oe(l)?kt.map(l,p):H(l)?kt.set(l,p):l;if(D!==l)return D;L(!1)};function Xt(l){L("Expected one or two arguments to observable."+l+". Did you accidentally try to use observable."+l+" as decorator?")}Object.keys(ar).forEach(function(l){return kt[l]=ar[l]});var tr=pt(!1,function(l,p,O,D,G){var q=O.get,se=O.set,je=G[0]||{};Ii(l).addComputedProp(l,p,it({get:q,set:se,context:l},je))}),Ve=tr({equals:Ot.structural}),ot=function(p,O,D){if("string"==typeof O||null!==p&&"object"==typeof p&&1===arguments.length)return tr.apply(null,arguments);var G="object"==typeof O?O:{};return G.get=p,G.set="function"==typeof O?O:G.set,G.name=G.name||p.name||"",new Qn(G)};ot.struct=Ve;var Qe=(()=>{return(l=Qe||(Qe={}))[l.NOT_TRACKING=-1]="NOT_TRACKING",l[l.UP_TO_DATE=0]="UP_TO_DATE",l[l.POSSIBLY_STALE=1]="POSSIBLY_STALE",l[l.STALE=2]="STALE",Qe;var l})(),dt=(()=>{return(l=dt||(dt={}))[l.NONE=0]="NONE",l[l.LOG=1]="LOG",l[l.BREAK=2]="BREAK",dt;var l})(),Tt=function l(p){this.cause=p};function Rt(l){return l instanceof Tt}function W(l){switch(l.dependenciesState){case Qe.UP_TO_DATE:return!1;case Qe.NOT_TRACKING:case Qe.STALE:return!0;case Qe.POSSIBLY_STALE:for(var p=Ct(!0),O=Je(),D=l.observing,G=D.length,q=0;q<G;q++){var se=D[q];if(bo(se)){if(et.disableErrorBoundaries)se.get();else try{se.get()}catch{return at(O),Pt(p),!0}if(l.dependenciesState===Qe.STALE)return at(O),Pt(p),!0}}return ur(l),at(O),Pt(p),!1}}function U(){return null!==et.trackingDerivation}function x(l){var p=l.observers.size>0;et.computationDepth>0&&p&&L(!1),!et.allowStateChanges&&(p||"strict"===et.enforceActions)&&L(!1)}function I(l,p,O){var D=Ct(!0);ur(l),l.newObserving=new Array(l.observing.length+100),l.unboundDepsCount=0,l.runId=++et.runId;var q,G=et.trackingDerivation;if(et.trackingDerivation=l,!0===et.disableErrorBoundaries)q=p.call(O);else try{q=p.call(O)}catch(se){q=new Tt(se)}return et.trackingDerivation=G,function Ce(l){for(var p=l.observing,O=l.observing=l.newObserving,D=Qe.UP_TO_DATE,G=0,q=l.unboundDepsCount,se=0;se<q;se++)0===(je=O[se]).diffValue&&(je.diffValue=1,G!==se&&(O[G]=je),G++),je.dependenciesState>D&&(D=je.dependenciesState);for(O.length=G,l.newObserving=null,q=p.length;q--;)0===(je=p[q]).diffValue&&en(je,l),je.diffValue=0;for(;G--;){var je;1===(je=O[G]).diffValue&&(je.diffValue=0,_n(je,l))}D!==Qe.UP_TO_DATE&&(l.dependenciesState=D,l.onBecomeStale())}(l),Pt(D),q}function Ne(l){var p=l.observing;l.observing=[];for(var O=p.length;O--;)en(p[O],l);l.dependenciesState=Qe.NOT_TRACKING}function Ze(l){var p=Je();try{return l()}finally{at(p)}}function Je(){var l=et.trackingDerivation;return et.trackingDerivation=null,l}function at(l){et.trackingDerivation=l}function Ct(l){var p=et.allowStateReads;return et.allowStateReads=l,p}function Pt(l){et.allowStateReads=l}function ur(l){if(l.dependenciesState!==Qe.UP_TO_DATE){l.dependenciesState=Qe.UP_TO_DATE;for(var p=l.observing,O=p.length;O--;)p[O].lowestObserverState=Qe.UP_TO_DATE}}var Rr=0,go=1;function Xr(l,p,O){var D=function(){return ci(l,p,O||this,arguments)};return D.isMobxAction=!0,D}function ci(l,p,O,D){var G=di(l);try{return p.apply(O,D)}catch(q){throw G.error=q,q}finally{Wa(G)}}function di(l,p,O){var Ue=Je();Vr();var $t={prevDerivation:Ue,prevAllowStateChanges:mo(!0),prevAllowStateReads:Ct(!0),notifySpy:false,startTime:0,actionId:go++,parentActionId:Rr};return Rr=$t.actionId,$t}function Wa(l){Rr!==l.actionId&&L("invalid action stack. did you forget to finish an action?"),Rr=l.parentActionId,void 0!==l.error&&(et.suppressReactionErrors=!0),qr(l.prevAllowStateChanges),Pt(l.prevAllowStateReads),br(),at(l.prevDerivation),et.suppressReactionErrors=!1}function Ee(l,p){var D,O=mo(l);try{D=p()}finally{qr(O)}return D}function mo(l){var p=et.allowStateChanges;return et.allowStateChanges=l,p}function qr(l){et.allowStateChanges=l}Object.getOwnPropertyDescriptor(function(){},"name");var Ur=function(l){function p(O,D,G,q,se){void 0===G&&(G="ObservableValue@"+B()),void 0===q&&(q=!0),void 0===se&&(se=Ot.default);var je=l.call(this,G)||this;return je.enhancer=D,je.name=G,je.equals=se,je.hasUnreportedChange=!1,je.value=D(O,void 0,G),je}return function st(l,p){function O(){this.constructor=l}Fe(l,p),l.prototype=null===p?Object.create(p):(O.prototype=p.prototype,new O)}(p,l),p.prototype.dehanceValue=function(O){return void 0!==this.dehancer?this.dehancer(O):O},p.prototype.set=function(O){(O=this.prepareNewValue(O))!==et.UNCHANGED&&this.setNewValue(O)},p.prototype.prepareNewValue=function(O){if(x(this),Yr(this)){var D=Lr(this,{object:this,type:"update",newValue:O});if(!D)return et.UNCHANGED;O=D.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?et.UNCHANGED:O},p.prototype.setNewValue=function(O){var D=this.value;this.value=O,this.reportChanged(),Ar(this)&&Br(this,{type:"update",object:this,newValue:O,oldValue:D})},p.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},p.prototype.intercept=function(O){return Bn(this,O)},p.prototype.observe=function(O,D){return D&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),ao(this,O)},p.prototype.toJSON=function(){return this.get()},p.prototype.toString=function(){return this.name+"["+this.value+"]"},p.prototype.valueOf=function(){return ve(this.get())},p.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},p}(ze),pi=le("ObservableValue",Ur),Qn=function(){function l(p){this.dependenciesState=Qe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Qe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+B(),this.value=new Tt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=dt.NONE,$(p.get,"missing option for computed: get"),this.derivation=p.get,this.name=p.name||"ComputedValue@"+B(),p.set&&(this.setter=Xr(this.name+"-setter",p.set)),this.equals=p.equals||(p.compareStructural||p.struct?Ot.structural:Ot.default),this.scope=p.context,this.requiresReaction=!!p.requiresReaction,this.keepAlive=!!p.keepAlive}return l.prototype.onBecomeStale=function(){!function qn(l){l.lowestObserverState===Qe.UP_TO_DATE&&(l.lowestObserverState=Qe.POSSIBLY_STALE,l.observers.forEach(function(p){p.dependenciesState===Qe.UP_TO_DATE&&(p.dependenciesState=Qe.POSSIBLY_STALE,p.isTracing!==dt.NONE&&Ho(p,l),p.onBecomeStale())}))}(this)},l.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(p){return p()})},l.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(p){return p()})},l.prototype.get=function(){this.isComputing&&L("Cycle detected in computation "+this.name+": "+this.derivation),0!==et.inBatch||0!==this.observers.size||this.keepAlive?(Jt(this),W(this)&&this.trackAndCompute()&&function sa(l){l.lowestObserverState!==Qe.STALE&&(l.lowestObserverState=Qe.STALE,l.observers.forEach(function(p){p.dependenciesState===Qe.POSSIBLY_STALE?p.dependenciesState=Qe.STALE:p.dependenciesState===Qe.UP_TO_DATE&&(l.lowestObserverState=Qe.UP_TO_DATE)}))}(this)):W(this)&&(this.warnAboutUntrackedRead(),Vr(),this.value=this.computeValue(!1),br());var p=this.value;if(Rt(p))throw p.cause;return p},l.prototype.peek=function(){var p=this.computeValue(!1);if(Rt(p))throw p.cause;return p},l.prototype.set=function(p){if(this.setter){$(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,p)}finally{this.isRunningSetter=!1}}else $(!1,!1)},l.prototype.trackAndCompute=function(){var p=this.value,O=this.dependenciesState===Qe.NOT_TRACKING,D=this.computeValue(!0),G=O||Rt(p)||Rt(D)||!this.equals(p,D);return G&&(this.value=D),G},l.prototype.computeValue=function(p){var O;if(this.isComputing=!0,et.computationDepth++,p)O=I(this,this.derivation,this.scope);else if(!0===et.disableErrorBoundaries)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(D){O=new Tt(D)}return et.computationDepth--,this.isComputing=!1,O},l.prototype.suspend=function(){this.keepAlive||(Ne(this),this.value=void 0)},l.prototype.observe=function(p,O){var D=this,G=!0,q=void 0;return Tr(function(){var se=D.get();if(!G||O){var je=Je();p({type:"update",object:D,newValue:se,oldValue:q}),at(je)}G=!1,q=se})},l.prototype.warnAboutUntrackedRead=function(){},l.prototype.toJSON=function(){return this.get()},l.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},l.prototype.valueOf=function(){return ve(this.get())},l.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},l}(),bo=le("ComputedValue",Qn),jn=function l(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},aa={};function Fo(){return typeof window<"u"?window:typeof y<"u"?y:typeof self<"u"?self:aa}var l,hi=!0,Va=!1,et=((l=Fo()).__mobxInstanceCount>0&&!l.__mobxGlobals&&(hi=!1),l.__mobxGlobals&&l.__mobxGlobals.version!==(new jn).version&&(hi=!1),hi?l.__mobxGlobals?(l.__mobxInstanceCount+=1,l.__mobxGlobals.UNCHANGED||(l.__mobxGlobals.UNCHANGED={}),l.__mobxGlobals):(l.__mobxInstanceCount=1,l.__mobxGlobals=new jn):(setTimeout(function(){Va||L("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new jn));function _n(l,p){l.observers.add(p),l.lowestObserverState>p.dependenciesState&&(l.lowestObserverState=p.dependenciesState)}function en(l,p){l.observers.delete(p),0===l.observers.size&&Ja(l)}function Ja(l){!1===l.isPendingUnobservation&&(l.isPendingUnobservation=!0,et.pendingUnobservations.push(l))}function Vr(){et.inBatch++}function br(){if(0==--et.inBatch){ko();for(var l=et.pendingUnobservations,p=0;p<l.length;p++){var O=l[p];O.isPendingUnobservation=!1,0===O.observers.size&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof Qn&&O.suspend())}et.pendingUnobservations=[]}}function Jt(l){var p=et.trackingDerivation;return null!==p?(p.runId!==l.lastAccessedBy&&(l.lastAccessedBy=p.runId,p.newObserving[p.unboundDepsCount++]=l,l.isBeingObserved||(l.isBeingObserved=!0,l.onBecomeObserved())),!0):(0===l.observers.size&&et.inBatch>0&&Ja(l),!1)}function Ho(l,p){if(console.log("[mobx.trace] '"+l.name+"' is invalidated due to a change in: '"+p.name+"'"),l.isTracing===dt.BREAK){var O=[];yn(an(l),O,1),new Function("debugger;\n/*\nTracing '"+l.name+"'\n\nYou are entering this break point because derivation '"+l.name+"' is being traced and '"+p.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(l instanceof Qn?l.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+O.join("\n")+"\n*/\n    ")()}}function yn(l,p,O){p.length>=1e3?p.push("(and many more)"):(p.push(""+new Array(O).join("\t")+l.name),l.dependencies&&l.dependencies.forEach(function(D){return yn(D,p,O+1)}))}var tn=function(){function l(p,O,D,G){void 0===p&&(p="Reaction@"+B()),void 0===G&&(G=!1),this.name=p,this.onInvalidate=O,this.errorHandler=D,this.requiresObservable=G,this.observing=[],this.newObserving=[],this.dependenciesState=Qe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+B(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=dt.NONE}return l.prototype.onBecomeStale=function(){this.schedule()},l.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,et.pendingReactions.push(this),ko())},l.prototype.isScheduled=function(){return this._isScheduled},l.prototype.runReaction=function(){if(!this.isDisposed){if(Vr(),this._isScheduled=!1,W(this)){this._isTrackPending=!0;try{this.onInvalidate()}catch(p){this.reportExceptionInDerivation(p)}}br()}},l.prototype.track=function(p){if(!this.isDisposed){Vr(),this._isRunning=!0;var G=I(this,p,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ne(this),Rt(G)&&this.reportExceptionInDerivation(G.cause),br()}},l.prototype.reportExceptionInDerivation=function(p){var O=this;if(this.errorHandler)this.errorHandler(p,this);else{if(et.disableErrorBoundaries)throw p;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";et.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,p),et.globalReactionErrorHandlers.forEach(function(G){return G(p,O)})}},l.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Vr(),Ne(this),br()))},l.prototype.getDisposer=function(){var p=this.dispose.bind(this);return p[Se]=this,p},l.prototype.toString=function(){return"Reaction["+this.name+"]"},l.prototype.trace=function(p){void 0===p&&(p=!1),function Jo(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var O=!1;"boolean"==typeof l[l.length-1]&&(O=l.pop());var D=fn(l);if(!D)return L(!1);D.isTracing===dt.NONE&&console.log("[mobx.trace] '"+D.name+"' tracing enabled"),D.isTracing=O?dt.BREAK:dt.LOG}(this,p)},l}(),Ir=function(l){return l()};function ko(){et.inBatch>0||et.isRunningReactions||Ir(Cn)}function Cn(){et.isRunningReactions=!0;for(var l=et.pendingReactions,p=0;l.length>0;){100==++p&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+l[0]),l.splice(0));for(var O=l.splice(0),D=0,G=O.length;D<G;D++)O[D].runReaction()}et.isRunningReactions=!1}var rn=le("Reaction",tn);function nn(l){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function gi(){L(!1)}function Xo(l){return function(p,O,D){if(D){if(D.value)return{value:Xr(l,D.value),enumerable:!1,configurable:!0,writable:!0};var G=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xr(l,G.call(this))}}}return la(l).apply(this,arguments)}}function la(l){return function(p,O,D){Object.defineProperty(p,O,{configurable:!0,enumerable:!1,get:function(){},set:function(G){ge(this,O,on(l,G))}})}}var on=function(p,O,D,G){return 1===arguments.length&&"function"==typeof p?Xr(p.name||"<unnamed action>",p):2===arguments.length&&"function"==typeof O?Xr(p,O):1===arguments.length&&"string"==typeof p?Xo(p):!0!==G?Xo(O).apply(null,arguments):void ge(p,O,Xr(p.name||O,D.value,this))};function bi(l,p){return ci("string"==typeof l?l:l.name||"<unnamed action>","function"==typeof l?l:p,this,void 0)}function xo(l){return"function"==typeof l&&!0===l.isMobxAction}function So(l,p,O){ge(l,p,Xr(p,O.bind(l)))}function Tr(l,p){void 0===p&&(p=C);var G,O=p&&p.name||l.name||"Autorun@"+B();if(p.scheduler||p.delay){var q=Or(p),se=!1;G=new tn(O,function(){se||(se=!0,q(function(){se=!1,G.isDisposed||G.track(je)}))},p.onError,p.requiresObservable)}else G=new tn(O,function(){this.track(je)},p.onError,p.requiresObservable);function je(){l(G)}return G.schedule(),G.getDisposer()}on.bound=function mi(l,p,O,D){return!0===D?(So(l,p,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return So(this,p,O.value||O.initializer.call(this)),this[p]},set:gi}:{enumerable:!1,configurable:!0,set:function(G){So(this,p,G)},get:function(){}}};var Uo=function(l){return l()};function Or(l){return l.scheduler?l.scheduler:l.delay?function(p){return setTimeout(p,l.delay)}:Uo}function Oi(l,p,O){void 0===O&&(O=C);var mt,D=O.name||"Reaction@"+B(),G=on(D,O.onError?function Ei(l,p){return function(){try{return p.apply(this,arguments)}catch(O){l.call(this,O)}}}(O.onError,p):p),q=!O.scheduler&&!O.delay,se=Or(O),je=!0,Ue=!1,bt=O.compareStructural?Ot.structural:O.equals||Ot.default,$t=new tn(D,function(){je||q?Yt():Ue||(Ue=!0,se(Yt))},O.onError,O.requiresObservable);function Yt(){if(Ue=!1,!$t.isDisposed){var Vt=!1;$t.track(function(){var sr=l($t);Vt=je||!bt(mt,sr),mt=sr}),je&&O.fireImmediately&&G(mt,$t),!je&&!0===Vt&&G(mt,$t),je&&(je=!1)}}return $t.schedule(),$t.getDisposer()}function mn(l,p,O){return Si("onBecomeUnobserved",l,p,O)}function Si(l,p,O,D){var G="function"==typeof D?M(p,O):M(p),q="function"==typeof D?D:O,se=l+"Listeners";return G[se]?G[se].add(q):G[se]=new Set([q]),"function"!=typeof G[l]?L(!1):function(){var Ue=G[se];Ue&&(Ue.delete(q),0===Ue.size&&delete G[se])}}function fa(l){var p=l.enforceActions,O=l.computedRequiresReaction,D=l.computedConfigurable,G=l.disableErrorBoundaries,q=l.reactionScheduler,se=l.reactionRequiresObservable,je=l.observableRequiresReaction;if(!0===l.isolateGlobalState&&function Za(){(et.pendingReactions.length||et.inBatch||et.isRunningReactions)&&L("isolateGlobalState should be called before MobX is running any reactions"),Va=!0,hi&&(0==--Fo().__mobxInstanceCount&&(Fo().__mobxGlobals=void 0),et=new jn)}(),void 0!==p){var Ue=void 0;switch(p){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:L("Invalid value for 'enforceActions': '"+p+"', expected 'never', 'always' or 'observed'")}et.enforceActions=Ue,et.allowStateChanges=!(!0===Ue||"strict"===Ue)}void 0!==O&&(et.computedRequiresReaction=!!O),void 0!==se&&(et.reactionRequiresObservable=!!se),void 0!==je&&(et.observableRequiresReaction=!!je,et.allowStateReads=!et.observableRequiresReaction),void 0!==D&&(et.computedConfigurable=!!D),void 0!==G&&(!0===G&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),et.disableErrorBoundaries=!!G),q&&function Qa(l){var p=Ir;Ir=function(O){return l(function(){return p(O)})}}(q)}function Pi(l,p,O,D){var G=Rn(D=Dt(D));return ht(l),Ii(l,D.name,G.enhancer),p&&Po(l,p,O,G),l}function Rn(l){return l.defaultDecorator||(!1===l.deep?Ut:Gt)}function Po(l,p,O,D){var se,je;Vr();try{var $t=ke(p);try{for(var Yt=Ke($t),Vt=Yt.next();!Vt.done;Vt=Yt.next()){var Ue=Vt.value,sr=Object.getOwnPropertyDescriptor(p,Ue),Nr=(O&&Ue in O?O[Ue]:sr.get?tr:D)(l,Ue,sr,!0);Nr&&Object.defineProperty(l,Ue,Nr)}}catch(Oa){se={error:Oa}}finally{try{Vt&&!Vt.done&&(je=Yt.return)&&je.call(Yt)}finally{if(se)throw se.error}}}finally{br()}}function an(l,p){return eo(M(l,p))}function eo(l){var p={name:l.name};return l.observing&&l.observing.length>0&&(p.dependencies=function ne(l){var p=[];return l.forEach(function(O){-1===p.indexOf(O)&&p.push(O)}),p}(l.observing).map(eo)),p}var un=0;function Mo(){this.message="FLOW_CANCELLED"}function bn(l){1!==arguments.length&&L("Flow expects 1 argument and cannot be used as decorator");var p=l.name||"<unnamed flow>";return function(){var se,O=this,D=arguments,G=++un,q=on(p+" - runid: "+G+" - init",l).apply(O,D),je=void 0,Ue=new Promise(function(mt,bt){var $t=0;function Yt(yr){var Nr;je=void 0;try{Nr=on(p+" - runid: "+G+" - yield "+$t++,q.next).call(q,yr)}catch(To){return bt(To)}sr(Nr)}function Vt(yr){var Nr;je=void 0;try{Nr=on(p+" - runid: "+G+" - yield "+$t++,q.throw).call(q,yr)}catch(To){return bt(To)}sr(Nr)}function sr(yr){if(!yr||"function"!=typeof yr.then)return yr.done?mt(yr.value):(je=Promise.resolve(yr.value)).then(Yt,Vt);yr.then(sr,bt)}se=bt,Yt(void 0)});return Ue.cancel=on(p+" - runid: "+G+" - cancel",function(){try{je&&wi(je);var mt=q.return(void 0),bt=Promise.resolve(mt.value);bt.then(J,J),wi(bt),se(new Mo)}catch($t){se($t)}}),Ue}}function wi(l){"function"==typeof l.cancel&&l.cancel()}function to(l,p){if(null==l)return!1;if(void 0!==p){if(!1===S(l)||!l[Se].values.has(p))return!1;var O=M(l,p);return bo(O)}return bo(l)}function Wo(l){return arguments.length>1?L(!1):to(l)}function ro(l,p){return"string"!=typeof p?L(!1):to(l,p)}function Ko(l,p){return null!=l&&(void 0!==p?!!S(l)&&l[Se].values.has(p):S(l)||!!l[Se]||Ye(l)||rn(l)||bo(l))}function no(l){return 1!==arguments.length&&L(!1),Ko(l)}function In(l){return S(l)?l[Se].getKeys():dr(l)||Er(l)?Array.from(l.keys()):Qt(l)?l.map(function(p,O){return O}):L(!1)}function oo(l){return S(l)?In(l).map(function(p){return l[p]}):dr(l)?In(l).map(function(p){return l.get(p)}):Er(l)?Array.from(l.values()):Qt(l)?l.slice():L(!1)}function sn(l){return S(l)?In(l).map(function(p){return[p,l[p]]}):dr(l)?In(l).map(function(p){return[p,l.get(p)]}):Er(l)?Array.from(l.entries()):Qt(l)?l.map(function(p,O){return[O,p]}):L(!1)}function Ti(l,p,O){if(2!==arguments.length||Er(l))if(S(l)){var q=l[Se];q.values.get(p)?q.write(p,O):q.addObservableProp(p,O,q.defaultEnhancer)}else if(dr(l))l.set(p,O);else if(Er(l))l.add(p);else{if(!Qt(l))return L(!1);"number"!=typeof p&&(p=parseInt(p,10)),$(p>=0,"Not a valid index: '"+p+"'"),Vr(),p>=l.length&&(l.length=p+1),l[p]=O,br()}else{Vr();var D=p;try{for(var G in D)Ti(l,G,D[G])}finally{br()}}}function Vo(l,p,O,D){return"function"==typeof O?function Ni(l,p,O,D){return z(l,p).observe(O,D)}(l,p,O,D):function pa(l,p,O){return z(l).observe(p,O)}(l,p,O)}Mo.prototype=Object.create(Error.prototype);var Zo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ln(l,p,O,D){return D.detectCycles&&l.set(p,O),O}function ln(l,p,O){if(!p.recurseEverything&&!no(l)||"object"!=typeof l)return l;if(null===l)return null;if(l instanceof Date)return l;if(pi(l))return ln(l.get(),p,O);if(no(l)&&In(l),!0===p.detectCycles&&null!==l&&O.has(l))return O.get(l);if(Qt(l)||Array.isArray(l)){var G=Ln(O,l,[],p),q=l.map(function(Vt){return ln(Vt,p,O)});G.length=q.length;for(var se=0,je=q.length;se<je;se++)G[se]=q[se];return G}if(Er(l)||Object.getPrototypeOf(l)===Set.prototype){if(!1===p.exportMapsAsObjects){var Ue=Ln(O,l,new Set,p);return l.forEach(function(Vt){Ue.add(ln(Vt,p,O))}),Ue}var mt=Ln(O,l,[],p);return l.forEach(function(Vt){mt.push(ln(Vt,p,O))}),mt}if(dr(l)||Object.getPrototypeOf(l)===Map.prototype){if(!1===p.exportMapsAsObjects){var bt=Ln(O,l,new Map,p);return l.forEach(function(Vt,sr){bt.set(sr,ln(Vt,p,O))}),bt}var $t=Ln(O,l,{},p);return l.forEach(function(Vt,sr){$t[sr]=ln(Vt,p,O)}),$t}var Yt=Ln(O,l,{},p);return te(l).forEach(function(Vt){Yt[Vt]=ln(l[Vt],p,O)}),Yt}function ha(l,p){var O;return"boolean"==typeof p&&(p={detectCycles:p}),p||(p=Zo),p.detectCycles=void 0===p.detectCycles?!0===p.recurseEverything:!0===p.detectCycles,p.detectCycles&&(O=new Map),ln(l,p,O)}function fn(l){switch(l.length){case 0:return et.trackingDerivation;case 1:return M(l[0]);case 2:return M(l[0],l[1])}}function $r(l,p){void 0===p&&(p=void 0),Vr();try{return l.apply(p)}finally{br()}}function io(l,p,O){return 1===arguments.length||p&&"object"==typeof p?On(l,p):Di(l,p,O||{})}function Di(l,p,O){var D;"number"==typeof O.timeout&&(D=setTimeout(function(){if(!q[Se].isDisposed){q();var se=new Error("WHEN_TIMEOUT");if(!O.onError)throw se;O.onError(se)}},O.timeout)),O.name=O.name||"When@"+B();var G=Xr(O.name+"-effect",p),q=Tr(function(se){l()&&(se.dispose(),D&&clearTimeout(D),G())},O);return q}function On(l,p){var O,D=new Promise(function(G,q){var se=Di(l,G,it(it({},p),{onError:q}));O=function(){se(),q("WHEN_CANCELLED")}});return D.cancel=O,D}function Qo(l){return l[Se]}function _o(l){return"string"==typeof l||"number"==typeof l||"symbol"==typeof l}var ji={has:function(l,p){if(p===Se||"constructor"===p||p===ie)return!0;var O=Qo(l);return _o(p)?O.has(p):p in l},get:function(l,p){if(p===Se||"constructor"===p||p===ie)return l[p];var O=Qo(l),D=O.values.get(p);if(D instanceof ze){var G=D.get();return void 0===G&&O.has(p),G}return _o(p)&&O.has(p),l[p]},set:function(l,p,O){return!!_o(p)&&(Ti(l,p,O),!0)},deleteProperty:function(l,p){return!!_o(p)&&(Qo(l).remove(p),!0)},ownKeys:function(l){return Qo(l).keysAtom.reportObserved(),Reflect.ownKeys(l)},preventExtensions:function(l){return L("Dynamic observable objects cannot be frozen"),!1}};function wo(l){var p=new Proxy(l,ji);return l[Se].proxy=p,p}function Yr(l){return void 0!==l.interceptors&&l.interceptors.length>0}function Bn(l,p){var O=l.interceptors||(l.interceptors=[]);return O.push(p),Y(function(){var D=O.indexOf(p);-1!==D&&O.splice(D,1)})}function Lr(l,p){var O=Je();try{for(var D=ee(l.interceptors||[]),G=0,q=D.length;G<q&&($(!(p=D[G](p))||p.type,"Intercept handlers should return nothing or a change object"),p);G++);return p}finally{at(O)}}function Ar(l){return void 0!==l.changeListeners&&l.changeListeners.length>0}function ao(l,p){var O=l.changeListeners||(l.changeListeners=[]);return O.push(p),Y(function(){var D=O.indexOf(p);-1!==D&&O.splice(D,1)})}function Br(l,p){var O=Je(),D=l.changeListeners;if(D){for(var G=0,q=(D=D.slice()).length;G<q;G++)D[G](p);at(O)}}var ya={get:function(l,p){return p===Se?l[Se]:"length"===p?l[Se].getArrayLength():"number"==typeof p?cn.get.call(l,p):"string"!=typeof p||isNaN(p)?cn.hasOwnProperty(p)?cn[p]:l[p]:cn.get.call(l,parseInt(p))},set:function(l,p,O){return"length"===p&&l[Se].setArrayLength(O),"number"==typeof p&&cn.set.call(l,p,O),"symbol"==typeof p||isNaN(p)?l[p]=O:cn.set.call(l,parseInt(p),O),!0},preventExtensions:function(l){return L("Observable arrays cannot be frozen"),!1}};function ga(l,p,O,D){void 0===O&&(O="ObservableArray@"+B()),void 0===D&&(D=!1);var G=new qo(O,p,D);!function be(l,p,O){Object.defineProperty(l,p,{enumerable:!1,writable:!1,configurable:!0,value:O})}(G.values,Se,G);var q=new Proxy(G.values,ya);if(G.proxy=q,l&&l.length){var se=mo(!0);G.spliceWithArray(0,0,l),qr(se)}return q}var qo=function(){function l(p,O,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new ze(p||"ObservableArray@"+B()),this.enhancer=function(G,q){return O(G,q,p+"[..]")}}return l.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},l.prototype.dehanceValues=function(p){return void 0!==this.dehancer&&p.length>0?p.map(this.dehancer):p},l.prototype.intercept=function(p){return Bn(this,p)},l.prototype.observe=function(p,O){return void 0===O&&(O=!1),O&&p({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),ao(this,p)},l.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},l.prototype.setArrayLength=function(p){if("number"!=typeof p||p<0)throw new Error("[mobx.array] Out of range: "+p);var O=this.values.length;if(p!==O)if(p>O){for(var D=new Array(p-O),G=0;G<p-O;G++)D[G]=void 0;this.spliceWithArray(O,0,D)}else this.spliceWithArray(p,O-p)},l.prototype.updateArrayLength=function(p,O){if(p!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},l.prototype.spliceWithArray=function(p,O,D){var G=this;x(this.atom);var q=this.values.length;if(void 0===p?p=0:p>q?p=q:p<0&&(p=Math.max(0,q+p)),O=1===arguments.length?q-p:null==O?0:Math.max(0,Math.min(O,q-p)),void 0===D&&(D=A),Yr(this)){var se=Lr(this,{object:this.proxy,type:"splice",index:p,removedCount:O,added:D});if(!se)return A;O=se.removedCount,D=se.added}D=0===D.length?D:D.map(function(mt){return G.enhancer(mt,void 0)});var Ue=this.spliceItemsIntoValues(p,O,D);return(0!==O||0!==D.length)&&this.notifyArraySplice(p,D,Ue),this.dehanceValues(Ue)},l.prototype.spliceItemsIntoValues=function(p,O,D){var G;if(D.length<1e4)return(G=this.values).splice.apply(G,ee([p,O],D));var q=this.values.slice(p,p+O);return this.values=this.values.slice(0,p).concat(D,this.values.slice(p+O)),q},l.prototype.notifyArrayChildUpdate=function(p,O,D){var G=!this.owned&&!1,q=Ar(this),se=q||G?{object:this.proxy,type:"update",index:p,newValue:O,oldValue:D}:null;this.atom.reportChanged(),q&&Br(this,se)},l.prototype.notifyArraySplice=function(p,O,D){var G=!this.owned&&!1,q=Ar(this),se=q||G?{object:this.proxy,type:"splice",index:p,removed:D,added:O,removedCount:D.length,addedCount:O.length}:null;this.atom.reportChanged(),q&&Br(this,se)},l}(),cn={intercept:function(l){return this[Se].intercept(l)},observe:function(l,p){return void 0===p&&(p=!1),this[Se].observe(l,p)},clear:function(){return this.splice(0)},replace:function(l){var p=this[Se];return p.spliceWithArray(0,p.values.length,l)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(l,p){for(var O=[],D=2;D<arguments.length;D++)O[D-2]=arguments[D];var G=this[Se];switch(arguments.length){case 0:return[];case 1:return G.spliceWithArray(l);case 2:return G.spliceWithArray(l,p)}return G.spliceWithArray(l,p,O)},spliceWithArray:function(l,p,O){return this[Se].spliceWithArray(l,p,O)},push:function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var O=this[Se];return O.spliceWithArray(O.values.length,0,l),O.values.length},pop:function(){return this.splice(Math.max(this[Se].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var O=this[Se];return O.spliceWithArray(0,0,l),O.values.length},reverse:function(){var l=this.slice();return l.reverse.apply(l,arguments)},sort:function(l){var p=this.slice();return p.sort.apply(p,arguments)},remove:function(l){var p=this[Se],O=p.dehanceValues(p.values).indexOf(l);return O>-1&&(this.splice(O,1),!0)},get:function(l){var p=this[Se];if(p){if(l<p.values.length)return p.atom.reportObserved(),p.dehanceValue(p.values[l]);console.warn("[mobx.array] Attempt to read an array index ("+l+") that is out of bounds ("+p.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(l,p){var O=this[Se],D=O.values;if(l<D.length){x(O.atom);var G=D[l];if(Yr(O)){var q=Lr(O,{type:"update",object:O.proxy,index:l,newValue:p});if(!q)return;p=q.newValue}(p=O.enhancer(p,G))!==G&&(D[l]=p,O.notifyArrayChildUpdate(l,p,G))}else{if(l!==D.length)throw new Error("[mobx.array] Index out of bounds, "+l+" is larger than "+D.length);O.spliceWithArray(l,0,[p])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(l){"function"==typeof Array.prototype[l]&&(cn[l]=function(){var p=this[Se];p.atom.reportObserved();var O=p.dehanceValues(p.values);return O[l].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(l){"function"==typeof Array.prototype[l]&&(cn[l]=function(p,O){var D=this,G=this[Se];return G.atom.reportObserved(),G.dehanceValues(G.values)[l](function(se,je){return p.call(O,se,je,D)},O)})}),["reduce","reduceRight"].forEach(function(l){cn[l]=function(){var p=this,O=this[Se];O.atom.reportObserved();var D=arguments[0];return arguments[0]=function(G,q,se){return q=O.dehanceValue(q),D(G,q,se,p)},O.values[l].apply(O.values,arguments)}});var ma=le("ObservableArrayAdministration",qo);function Qt(l){return ae(l)&&ma(l[Se])}var Ci,lo,uo={},so=function(){function l(p,O,D){if(void 0===O&&(O=De),void 0===D&&(D="ObservableMap@"+B()),this.enhancer=O,this.name=D,this[Ci]=uo,this._keysAtom=He(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(p)}return l.prototype._has=function(p){return this._data.has(p)},l.prototype.has=function(p){var O=this;if(!et.trackingDerivation)return this._has(p);var D=this._hasMap.get(p);if(!D){var G=D=new Ur(this._has(p),ut,this.name+"."+fe(p)+"?",!1);this._hasMap.set(p,G),mn(G,function(){return O._hasMap.delete(p)})}return D.get()},l.prototype.set=function(p,O){var D=this._has(p);if(Yr(this)){var G=Lr(this,{type:D?"update":"add",object:this,newValue:O,name:p});if(!G)return this;O=G.newValue}return D?this._updateValue(p,O):this._addValue(p,O),this},l.prototype.delete=function(p){var O=this;if(x(this._keysAtom),Yr(this)&&!(D=Lr(this,{type:"delete",object:this,name:p})))return!1;if(this._has(p)){var q=Ar(this),D=q?{type:"delete",object:this,oldValue:this._data.get(p).value,name:p}:null;return $r(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(p,!1),O._data.get(p).setNewValue(void 0),O._data.delete(p)}),q&&Br(this,D),!0}return!1},l.prototype._updateHasMapEntry=function(p,O){var D=this._hasMap.get(p);D&&D.setNewValue(O)},l.prototype._updateValue=function(p,O){var D=this._data.get(p);if((O=D.prepareNewValue(O))!==et.UNCHANGED){var q=Ar(this),se=q?{type:"update",object:this,oldValue:D.value,name:p,newValue:O}:null;D.setNewValue(O),q&&Br(this,se)}},l.prototype._addValue=function(p,O){var D=this;x(this._keysAtom),$r(function(){var je=new Ur(O,D.enhancer,D.name+"."+fe(p),!1);D._data.set(p,je),O=je.value,D._updateHasMapEntry(p,!0),D._keysAtom.reportChanged()});var q=Ar(this);q&&Br(this,q?{type:"add",object:this,name:p,newValue:O}:null)},l.prototype.get=function(p){return this.has(p)?this.dehanceValue(this._data.get(p).get()):this.dehanceValue(void 0)},l.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},l.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},l.prototype.values=function(){var p=this,O=this.keys();return nt({next:function(){var D=O.next(),G=D.done;return{done:G,value:G?void 0:p.get(D.value)}}})},l.prototype.entries=function(){var p=this,O=this.keys();return nt({next:function(){var D=O.next(),G=D.done,q=D.value;return{done:G,value:G?void 0:[q,p.get(q)]}}})},l.prototype[(Ci=Se,Symbol.iterator)]=function(){return this.entries()},l.prototype.forEach=function(p,O){var D,G;try{for(var q=Ke(this),se=q.next();!se.done;se=q.next()){var je=_(se.value,2);p.call(O,je[1],je[0],this)}}catch(bt){D={error:bt}}finally{try{se&&!se.done&&(G=q.return)&&G.call(q)}finally{if(D)throw D.error}}},l.prototype.merge=function(p){var O=this;return dr(p)&&(p=p.toJS()),$r(function(){var D=mo(!0);try{re(p)?te(p).forEach(function(G){return O.set(G,p[G])}):Array.isArray(p)?p.forEach(function(G){var q=_(G,2);return O.set(q[0],q[1])}):oe(p)?(p.constructor!==Map&&L("Cannot initialize from classes that inherit from Map: "+p.constructor.name),p.forEach(function(G,q){return O.set(q,G)})):null!=p&&L("Cannot initialize map from "+p)}finally{qr(D)}}),this},l.prototype.clear=function(){var p=this;$r(function(){Ze(function(){var O,D;try{for(var G=Ke(p.keys()),q=G.next();!q.done;q=G.next())p.delete(q.value)}catch(je){O={error:je}}finally{try{q&&!q.done&&(D=G.return)&&D.call(G)}finally{if(O)throw O.error}}})})},l.prototype.replace=function(p){var O=this;return $r(function(){var D,G,q,se,je=function Me(l){if(oe(l)||dr(l))return l;if(Array.isArray(l))return new Map(l);if(re(l)){var p=new Map;for(var O in l)p.set(O,l[O]);return p}return L("Cannot convert to map from '"+l+"'")}(p),Ue=new Map,mt=!1;try{for(var bt=Ke(O._data.keys()),$t=bt.next();!$t.done;$t=bt.next())if(!je.has(Yt=$t.value))if(O.delete(Yt))mt=!0;else{var sr=O._data.get(Yt);Ue.set(Yt,sr)}}catch(xa){D={error:xa}}finally{try{$t&&!$t.done&&(G=bt.return)&&G.call(bt)}finally{if(D)throw D.error}}try{for(var yr=Ke(je.entries()),Nr=yr.next();!Nr.done;Nr=yr.next()){var Yt,To=_(Nr.value,2),Oa=(sr=To[1],O._data.has(Yt=To[0]));if(O.set(Yt,sr),O._data.has(Yt)){var kl=O._data.get(Yt);Ue.set(Yt,kl),Oa||(mt=!0)}}}catch(xa){q={error:xa}}finally{try{Nr&&!Nr.done&&(se=yr.return)&&se.call(yr)}finally{if(q)throw q.error}}if(!mt)if(O._data.size!==Ue.size)O._keysAtom.reportChanged();else for(var ru=O._data.keys(),nu=Ue.keys(),Ea=ru.next(),ou=nu.next();!Ea.done;){if(Ea.value!==ou.value){O._keysAtom.reportChanged();break}Ea=ru.next(),ou=nu.next()}O._data=Ue}),this},Object.defineProperty(l.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),l.prototype.toPOJO=function(){var p,O,D={};try{for(var G=Ke(this),q=G.next();!q.done;q=G.next()){var se=_(q.value,2),je=se[0],Ue=se[1];D["symbol"==typeof je?je:fe(je)]=Ue}}catch(mt){p={error:mt}}finally{try{q&&!q.done&&(O=G.return)&&O.call(G)}finally{if(p)throw p.error}}return D},l.prototype.toJS=function(){return new Map(this)},l.prototype.toJSON=function(){return this.toPOJO()},l.prototype.toString=function(){var p=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return fe(O)+": "+p.get(O)}).join(", ")+" }]"},l.prototype.observe=function(p,O){return ao(this,p)},l.prototype.intercept=function(p){return Bn(this,p)},l}(),dr=le("ObservableMap",so),ba={},dn=function(){function l(p,O,D){if(void 0===O&&(O=De),void 0===D&&(D="ObservableSet@"+B()),this.name=D,this[lo]=ba,this._data=new Set,this._atom=He(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(G,q){return O(G,q,D)},p&&this.replace(p)}return l.prototype.dehanceValue=function(p){return void 0!==this.dehancer?this.dehancer(p):p},l.prototype.clear=function(){var p=this;$r(function(){Ze(function(){var O,D;try{for(var G=Ke(p._data.values()),q=G.next();!q.done;q=G.next())p.delete(q.value)}catch(je){O={error:je}}finally{try{q&&!q.done&&(D=G.return)&&D.call(G)}finally{if(O)throw O.error}}})})},l.prototype.forEach=function(p,O){var D,G;try{for(var q=Ke(this),se=q.next();!se.done;se=q.next()){var je=se.value;p.call(O,je,je,this)}}catch(Ue){D={error:Ue}}finally{try{se&&!se.done&&(G=q.return)&&G.call(q)}finally{if(D)throw D.error}}},Object.defineProperty(l.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),l.prototype.add=function(p){var O=this;if(x(this._atom),Yr(this)&&!(D=Lr(this,{type:"add",object:this,newValue:p})))return this;if(!this.has(p)){$r(function(){O._data.add(O.enhancer(p,void 0)),O._atom.reportChanged()});var q=Ar(this),D=q?{type:"add",object:this,newValue:p}:null;q&&Br(this,D)}return this},l.prototype.delete=function(p){var O=this;if(Yr(this)&&!(D=Lr(this,{type:"delete",object:this,oldValue:p})))return!1;if(this.has(p)){var q=Ar(this),D=q?{type:"delete",object:this,oldValue:p}:null;return $r(function(){O._atom.reportChanged(),O._data.delete(p)}),q&&Br(this,D),!0}return!1},l.prototype.has=function(p){return this._atom.reportObserved(),this._data.has(this.dehanceValue(p))},l.prototype.entries=function(){var p=0,O=Array.from(this.keys()),D=Array.from(this.values());return nt({next:function(){var G=p;return p+=1,G<D.length?{value:[O[G],D[G]],done:!1}:{done:!0}}})},l.prototype.keys=function(){return this.values()},l.prototype.values=function(){this._atom.reportObserved();var p=this,O=0,D=Array.from(this._data.values());return nt({next:function(){return O<D.length?{value:p.dehanceValue(D[O++]),done:!1}:{done:!0}}})},l.prototype.replace=function(p){var O=this;return Er(p)&&(p=p.toJS()),$r(function(){var D=mo(!0);try{Array.isArray(p)||H(p)?(O.clear(),p.forEach(function(G){return O.add(G)})):null!=p&&L("Cannot initialize set from "+p)}finally{qr(D)}}),this},l.prototype.observe=function(p,O){return ao(this,p)},l.prototype.intercept=function(p){return Bn(this,p)},l.prototype.toJS=function(){return new Set(this)},l.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},l.prototype[(lo=Se,Symbol.iterator)]=function(){return this.values()},l}(),Er=le("ObservableSet",dn),Ri=function(){function l(p,O,D,G){void 0===O&&(O=new Map),this.target=p,this.values=O,this.name=D,this.defaultEnhancer=G,this.keysAtom=new ze(D+".keys")}return l.prototype.read=function(p){return this.values.get(p).get()},l.prototype.write=function(p,O){var D=this.target,G=this.values.get(p);if(G instanceof Qn)G.set(O);else{if(Yr(this)){if(!(q=Lr(this,{type:"update",object:this.proxy||D,name:p,newValue:O})))return;O=q.newValue}if((O=G.prepareNewValue(O))!==et.UNCHANGED){var se=Ar(this),q=se?{type:"update",object:this.proxy||D,oldValue:G.value,name:p,newValue:O}:null;G.setNewValue(O),se&&Br(this,q)}}},l.prototype.has=function(p){var O=this.pendingKeys||(this.pendingKeys=new Map),D=O.get(p);if(D)return D.get();var G=!!this.values.get(p);return D=new Ur(G,ut,this.name+"."+fe(p)+"?",!1),O.set(p,D),D.get()},l.prototype.addObservableProp=function(p,O,D){void 0===D&&(D=this.defaultEnhancer);var G=this.target;if(Yr(this)){var q=Lr(this,{object:this.proxy||G,name:p,type:"add",newValue:O});if(!q)return;O=q.newValue}var se=new Ur(O,D,this.name+"."+fe(p),!1);this.values.set(p,se),O=se.value,Object.defineProperty(G,p,function u(l){return h[l]||(h[l]={configurable:!0,enumerable:!0,get:function(){return this[Se].read(l)},set:function(p){this[Se].write(l,p)}})}(p)),this.notifyPropertyAddition(p,O)},l.prototype.addComputedProp=function(p,O,D){var G=this.target;D.name=D.name||this.name+"."+fe(O),this.values.set(O,new Qn(D)),(p===G||function de(l,p){var O=Object.getOwnPropertyDescriptor(l,p);return!O||!1!==O.configurable&&!1!==O.writable}(p,O))&&Object.defineProperty(p,O,function v(l){return f[l]||(f[l]={configurable:et.computedConfigurable,enumerable:!1,get:function(){return d(this).read(l)},set:function(p){d(this).write(l,p)}})}(O))},l.prototype.remove=function(p){if(this.values.has(p)){var O=this.target;if(Yr(this)&&!(D=Lr(this,{object:this.proxy||O,name:p,type:"remove"})))return;try{Vr();var G=Ar(this),se=this.values.get(p),je=se&&se.get();if(se&&se.set(void 0),this.keysAtom.reportChanged(),this.values.delete(p),this.pendingKeys){var Ue=this.pendingKeys.get(p);Ue&&Ue.set(!1)}delete this.target[p];var D=G?{type:"remove",object:this.proxy||O,oldValue:je,name:p}:null;G&&Br(this,D)}finally{br()}}},l.prototype.illegalAccess=function(p,O){console.warn("Property '"+O+"' of '"+p+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},l.prototype.observe=function(p,O){return ao(this,p)},l.prototype.intercept=function(p){return Bn(this,p)},l.prototype.notifyPropertyAddition=function(p,O){var D=Ar(this);if(D&&Br(this,D?{type:"add",object:this.proxy||this.target,name:p,newValue:O}:null),this.pendingKeys){var se=this.pendingKeys.get(p);se&&se.set(!0)}this.keysAtom.reportChanged()},l.prototype.getKeys=function(){var p,O;this.keysAtom.reportObserved();var D=[];try{for(var G=Ke(this.values),q=G.next();!q.done;q=G.next()){var se=_(q.value,2);se[1]instanceof Ur&&D.push(se[0])}}catch(mt){p={error:mt}}finally{try{q&&!q.done&&(O=G.return)&&O.call(G)}finally{if(p)throw p.error}}return D},l}();function Ii(l,p,O){if(void 0===p&&(p=""),void 0===O&&(O=De),Object.prototype.hasOwnProperty.call(l,Se))return l[Se];re(l)||(p=(l.constructor.name||"ObservableObject")+"@"+B()),p||(p="ObservableObject@"+B());var D=new Ri(l,new Map,fe(p),O);return ge(l,Se,D),D}var h=Object.create(null),f=Object.create(null);function d(l){return l[Se]||(ht(l),l[Se])}var m=le("ObservableObjectAdministration",Ri);function S(l){return!!ae(l)&&(ht(l),m(l[Se]))}function M(l,p){if("object"==typeof l&&null!==l){if(Qt(l))return void 0!==p&&L(!1),l[Se].atom;if(Er(l))return l[Se];if(dr(l)){var O=l;return void 0===p?O._keysAtom:((D=O._data.get(p)||O._hasMap.get(p))||L(!1),D)}var D;if(ht(l),S(l))return p?((D=l[Se].values.get(p))||L(!1),D):L(!1);if(Ye(l)||bo(l)||rn(l))return l}else if("function"==typeof l&&rn(l[Se]))return l[Se];return L(!1)}function z(l,p){return l||L("Expecting some object"),void 0!==p?z(M(l,p)):Ye(l)||bo(l)||rn(l)||dr(l)||Er(l)?l:(ht(l),l[Se]?l[Se]:void L(!1))}var F=Object.prototype.toString;function me(l,p,O){return void 0===O&&(O=-1),he(l,p,O)}function he(l,p,O,D,G){if(l===p)return 0!==l||1/l==1/p;if(null==l||null==p)return!1;if(l!=l)return p!=p;var q=typeof l;if("function"!==q&&"object"!==q&&"object"!=typeof p)return!1;var se=F.call(l);if(se!==F.call(p))return!1;switch(se){case"[object RegExp]":case"[object String]":return""+l==""+p;case"[object Number]":return+l!=+l?+p!=+p:0==+l?1/+l==1/p:+l==+p;case"[object Date]":case"[object Boolean]":return+l==+p;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(l)===Symbol.valueOf.call(p);case"[object Map]":case"[object Set]":O>=0&&O++}l=Oe(l),p=Oe(p);var je="[object Array]"===se;if(!je){if("object"!=typeof l||"object"!=typeof p)return!1;var Ue=l.constructor,mt=p.constructor;if(Ue!==mt&&!("function"==typeof Ue&&Ue instanceof Ue&&"function"==typeof mt&&mt instanceof mt)&&"constructor"in l&&"constructor"in p)return!1}if(0===O)return!1;O<0&&(O=-1),G=G||[];for(var bt=(D=D||[]).length;bt--;)if(D[bt]===l)return G[bt]===p;if(D.push(l),G.push(p),je){if((bt=l.length)!==p.length)return!1;for(;bt--;)if(!he(l[bt],p[bt],O-1,D,G))return!1}else{var $t=Object.keys(l),Yt=void 0;if(bt=$t.length,Object.keys(p).length!==bt)return!1;for(;bt--;)if(!Ie(p,Yt=$t[bt])||!he(l[Yt],p[Yt],O-1,D,G))return!1}return D.pop(),G.pop(),!0}function Oe(l){return Qt(l)?l.slice():oe(l)||dr(l)||H(l)||Er(l)?Array.from(l.entries()):l}function Ie(l,p){return Object.prototype.hasOwnProperty.call(l,p)}function nt(l){return l[Symbol.iterator]=rt,l}function rt(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:nn,extras:{getDebugName:function Z(l,p){return(void 0!==p?M(l,p):S(l)||dr(l)||Er(l)?z(l):M(l)).name}},$mobx:Se})}).call(this,a(155),a(82))},function(j,N,a){"use strict";a.d(N,"a",function(){return be}),a.d(N,"b",function(){return ge}),a.d(N,"c",function(){return it}),a.d(N,"d",function(){return Ke}),a.d(N,"e",function(){return ae}),a.d(N,"f",function(){return Me}),a.d(N,"g",function(){return ae}),a.d(N,"h",function(){return st}),a.d(N,"i",function(){return y}),a.d(N,"j",function(){return Fe}),a.d(N,"k",function(){return te});var b,y,P,C,B,L,$,X={},Q=[],Y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function J(_,ee){for(var ie in ee)_[ie]=ee[ie];return _}function ne(_){var ee=_.parentNode;ee&&ee.removeChild(_)}function ae(_,ee,ie){var Te,$e,we,gt={};for(we in ee)"key"==we?Te=ee[we]:"ref"==we?$e=ee[we]:gt[we]=ee[we];if(arguments.length>2&&(gt.children=arguments.length>3?b.call(arguments,2):ie),"function"==typeof _&&null!=_.defaultProps)for(we in _.defaultProps)void 0===gt[we]&&(gt[we]=_.defaultProps[we]);return re(_,gt,Te,$e,null)}function re(_,ee,ie,Te,$e){var we={type:_,props:ee,key:ie,ref:Te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:$e??++P};return null==$e&&null!=y.vnode&&y.vnode(we),we}function Me(){return{current:null}}function ge(_){return _.children}function be(_,ee){this.props=_,this.context=ee}function de(_,ee){if(null==ee)return _.__?de(_.__,_.__.__k.indexOf(_)+1):null;for(var ie;ee<_.__k.length;ee++)if(null!=(ie=_.__k[ee])&&null!=ie.__e)return ie.__e;return"function"==typeof _.type?de(_):null}function Ae(_){var ee,ie;if(null!=(_=_.__)&&null!=_.__c){for(_.__e=_.__c.base=null,ee=0;ee<_.__k.length;ee++)if(null!=(ie=_.__k[ee])&&null!=ie.__e){_.__e=_.__c.base=ie.__e;break}return Ae(_)}}function le(_){(!_.__d&&(_.__d=!0)&&C.push(_)&&!Pe.__r++||L!==y.debounceRendering)&&((L=y.debounceRendering)||B)(Pe)}function Pe(){for(var _;Pe.__r=C.length;)_=C.sort(function(ee,ie){return ee.__v.__b-ie.__v.__b}),C=[],_.some(function(ee){var ie,Te,$e,we,gt,ht;ee.__d&&(gt=(we=(ie=ee).__v).__e,(ht=ie.__P)&&(Te=[],($e=J({},we)).__v=we.__v+1,He(ht,we,$e,ie.__n,void 0!==ht.ownerSVGElement,null!=we.__h?[gt]:null,Te,gt??de(we),we.__h),Xe(Te,we),we.__e!=gt&&Ae(we)))})}function oe(_,ee,ie,Te,$e,we,gt,ht,pt,xt){var De,Bt,ut,ct,vt,zt,Ft,Dt=Te&&Te.__k||Q,Gt=Dt.length;for(ie.__k=[],De=0;De<ee.length;De++)if(null!=(ct=ie.__k[De]=null==(ct=ee[De])||"boolean"==typeof ct?null:"string"==typeof ct||"number"==typeof ct||"bigint"==typeof ct?re(null,ct,null,null,ct):Array.isArray(ct)?re(ge,{children:ct},null,null,null):ct.__b>0?re(ct.type,ct.props,ct.key,null,ct.__v):ct)){if(ct.__=ie,ct.__b=ie.__b+1,null===(ut=Dt[De])||ut&&ct.key==ut.key&&ct.type===ut.type)Dt[De]=void 0;else for(Bt=0;Bt<Gt;Bt++){if((ut=Dt[Bt])&&ct.key==ut.key&&ct.type===ut.type){Dt[Bt]=void 0;break}ut=null}He(_,ct,ut=ut||X,$e,we,gt,ht,pt,xt),vt=ct.__e,(Bt=ct.ref)&&ut.ref!=Bt&&(Ft||(Ft=[]),ut.ref&&Ft.push(ut.ref,null,ct),Ft.push(Bt,ct.__c||vt,ct)),null!=vt?(null==zt&&(zt=vt),"function"==typeof ct.type&&ct.__k===ut.__k?ct.__d=pt=H(ct,pt,_):pt=fe(_,ct,ut,Dt,vt,pt),"function"==typeof ie.type&&(ie.__d=pt)):pt&&ut.__e==pt&&pt.parentNode!=_&&(pt=de(ut))}for(ie.__e=zt,De=Gt;De--;)null!=Dt[De]&&("function"==typeof ie.type&&null!=Dt[De].__e&&Dt[De].__e==ie.__d&&(ie.__d=de(Te,De+1)),wt(Dt[De],Dt[De]));if(Ft)for(De=0;De<Ft.length;De++)ft(Ft[De],Ft[++De],Ft[++De])}function H(_,ee,ie){for(var Te,$e=_.__k,we=0;$e&&we<$e.length;we++)(Te=$e[we])&&(Te.__=_,ee="function"==typeof Te.type?H(Te,ee,ie):fe(ie,Te,Te,$e,Te.__e,ee));return ee}function te(_,ee){return ee=ee||[],null==_||"boolean"==typeof _||(Array.isArray(_)?_.some(function(ie){te(ie,ee)}):ee.push(_)),ee}function fe(_,ee,ie,Te,$e,we){var gt,ht,pt;if(void 0!==ee.__d)gt=ee.__d,ee.__d=void 0;else if(null==ie||$e!=we||null==$e.parentNode)e:if(null==we||we.parentNode!==_)_.appendChild($e),gt=null;else{for(ht=we,pt=0;(ht=ht.nextSibling)&&pt<Te.length;pt+=2)if(ht==$e)break e;_.insertBefore($e,we),gt=we}return void 0!==gt?gt:$e.nextSibling}function ke(_,ee,ie){"-"===ee[0]?_.setProperty(ee,ie):_[ee]=null==ie?"":"number"!=typeof ie||Y.test(ee)?ie:ie+"px"}function Se(_,ee,ie,Te,$e){var we;e:if("style"===ee)if("string"==typeof ie)_.style.cssText=ie;else{if("string"==typeof Te&&(_.style.cssText=Te=""),Te)for(ee in Te)ie&&ee in ie||ke(_.style,ee,"");if(ie)for(ee in ie)Te&&ie[ee]===Te[ee]||ke(_.style,ee,ie[ee])}else if("o"===ee[0]&&"n"===ee[1])we=ee!==(ee=ee.replace(/Capture$/,"")),ee=ee.toLowerCase()in _?ee.toLowerCase().slice(2):ee.slice(2),_.l||(_.l={}),_.l[ee+we]=ie,ie?Te||_.addEventListener(ee,we?Ye:ze,we):_.removeEventListener(ee,we?Ye:ze,we);else if("dangerouslySetInnerHTML"!==ee){if($e)ee=ee.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==ee&&"list"!==ee&&"form"!==ee&&"tabIndex"!==ee&&"download"!==ee&&ee in _)try{_[ee]=ie??"";break e}catch{}"function"==typeof ie||(null!=ie&&(!1!==ie||"a"===ee[0]&&"r"===ee[1])?_.setAttribute(ee,ie):_.removeAttribute(ee))}}function ze(_){this.l[_.type+!1](y.event?y.event(_):_)}function Ye(_){this.l[_.type+!0](y.event?y.event(_):_)}function He(_,ee,ie,Te,$e,we,gt,ht,pt){var xt,De,Bt,ut,ct,vt,zt,Ft,Dt,Gt,_t,Ut=ee.type;if(void 0!==ee.constructor)return null;null!=ie.__h&&(pt=ie.__h,ht=ee.__e=ie.__e,ee.__h=null,we=[ht]),(xt=y.__b)&&xt(ee);try{e:if("function"==typeof Ut){if(Ft=ee.props,Dt=(xt=Ut.contextType)&&Te[xt.__c],Gt=xt?Dt?Dt.props.value:xt.__:Te,ie.__c?zt=(De=ee.__c=ie.__c).__=De.__E:("prototype"in Ut&&Ut.prototype.render?ee.__c=De=new Ut(Ft,Gt):(ee.__c=De=new be(Ft,Gt),De.constructor=Ut,De.render=Ot),Dt&&Dt.sub(De),De.props=Ft,De.state||(De.state={}),De.context=Gt,De.__n=Te,Bt=De.__d=!0,De.__h=[]),null==De.__s&&(De.__s=De.state),null!=Ut.getDerivedStateFromProps&&(De.__s==De.state&&(De.__s=J({},De.__s)),J(De.__s,Ut.getDerivedStateFromProps(Ft,De.__s))),ut=De.props,ct=De.state,Bt)null==Ut.getDerivedStateFromProps&&null!=De.componentWillMount&&De.componentWillMount(),null!=De.componentDidMount&&De.__h.push(De.componentDidMount);else{if(null==Ut.getDerivedStateFromProps&&Ft!==ut&&null!=De.componentWillReceiveProps&&De.componentWillReceiveProps(Ft,Gt),!De.__e&&null!=De.shouldComponentUpdate&&!1===De.shouldComponentUpdate(Ft,De.__s,Gt)||ee.__v===ie.__v){De.props=Ft,De.state=De.__s,ee.__v!==ie.__v&&(De.__d=!1),De.__v=ee,ee.__e=ie.__e,ee.__k=ie.__k,ee.__k.forEach(function(nr){nr&&(nr.__=ee)}),De.__h.length&&gt.push(De);break e}null!=De.componentWillUpdate&&De.componentWillUpdate(Ft,De.__s,Gt),null!=De.componentDidUpdate&&De.__h.push(function(){De.componentDidUpdate(ut,ct,vt)})}De.context=Gt,De.props=Ft,De.state=De.__s,(xt=y.__r)&&xt(ee),De.__d=!1,De.__v=ee,De.__P=_,xt=De.render(De.props,De.state,De.context),De.state=De.__s,null!=De.getChildContext&&(Te=J(J({},Te),De.getChildContext())),Bt||null==De.getSnapshotBeforeUpdate||(vt=De.getSnapshotBeforeUpdate(ut,ct)),_t=null!=xt&&xt.type===ge&&null==xt.key?xt.props.children:xt,oe(_,Array.isArray(_t)?_t:[_t],ee,ie,Te,$e,we,gt,ht,pt),De.base=ee.__e,ee.__h=null,De.__h.length&&gt.push(De),zt&&(De.__E=De.__=null),De.__e=!1}else null==we&&ee.__v===ie.__v?(ee.__k=ie.__k,ee.__e=ie.__e):ee.__e=function tt(_,ee,ie,Te,$e,we,gt,ht){var pt,xt,De,Bt=ie.props,ut=ee.props,ct=ee.type,vt=0;if("svg"===ct&&($e=!0),null!=we)for(;vt<we.length;vt++)if((pt=we[vt])&&"setAttribute"in pt==!!ct&&(ct?pt.localName===ct:3===pt.nodeType)){_=pt,we[vt]=null;break}if(null==_){if(null===ct)return document.createTextNode(ut);_=$e?document.createElementNS("http://www.w3.org/2000/svg",ct):document.createElement(ct,ut.is&&ut),we=null,ht=!1}if(null===ct)Bt===ut||ht&&_.data===ut||(_.data=ut);else{if(we=we&&b.call(_.childNodes),xt=(Bt=ie.props||X).dangerouslySetInnerHTML,De=ut.dangerouslySetInnerHTML,!ht){if(null!=we)for(Bt={},vt=0;vt<_.attributes.length;vt++)Bt[_.attributes[vt].name]=_.attributes[vt].value;(De||xt)&&(De&&(xt&&De.__html==xt.__html||De.__html===_.innerHTML)||(_.innerHTML=De&&De.__html||""))}if(function ve(_,ee,ie,Te,$e){var we;for(we in ie)"children"===we||"key"===we||we in ee||Se(_,we,null,ie[we],Te);for(we in ee)$e&&"function"!=typeof ee[we]||"children"===we||"key"===we||"value"===we||"checked"===we||ie[we]===ee[we]||Se(_,we,ee[we],ie[we],Te)}(_,ut,Bt,$e,ht),De)ee.__k=[];else if(vt=ee.props.children,oe(_,Array.isArray(vt)?vt:[vt],ee,ie,Te,$e&&"foreignObject"!==ct,we,gt,we?we[0]:ie.__k&&de(ie,0),ht),null!=we)for(vt=we.length;vt--;)null!=we[vt]&&ne(we[vt]);ht||("value"in ut&&void 0!==(vt=ut.value)&&(vt!==Bt.value||vt!==_.value||"progress"===ct&&!vt)&&Se(_,"value",vt,Bt.value,!1),"checked"in ut&&void 0!==(vt=ut.checked)&&vt!==_.checked&&Se(_,"checked",vt,Bt.checked,!1))}return _}(ie.__e,ee,ie,Te,$e,we,gt,pt);(xt=y.diffed)&&xt(ee)}catch(nr){ee.__v=null,(pt||null!=we)&&(ee.__e=ht,ee.__h=!!pt,we[we.indexOf(ht)]=null),y.__e(nr,ee,ie)}}function Xe(_,ee){y.__c&&y.__c(ee,_),_.some(function(ie){try{_=ie.__h,ie.__h=[],_.some(function(Te){Te.call(ie)})}catch(Te){y.__e(Te,ie.__v)}})}function ft(_,ee,ie){try{"function"==typeof _?_(ee):_.current=ee}catch(Te){y.__e(Te,ie)}}function wt(_,ee,ie){var Te,$e;if(y.unmount&&y.unmount(_),(Te=_.ref)&&(Te.current&&Te.current!==_.__e||ft(Te,null,ee)),null!=(Te=_.__c)){if(Te.componentWillUnmount)try{Te.componentWillUnmount()}catch(we){y.__e(we,ee)}Te.base=Te.__P=null}if(Te=_.__k)for($e=0;$e<Te.length;$e++)Te[$e]&&wt(Te[$e],ee,"function"!=typeof _.type);ie||null==_.__e||ne(_.__e),_.__e=_.__d=void 0}function Ot(_,ee,ie){return this.constructor(_,ie)}function Fe(_,ee,ie){var Te,$e,we;y.__&&y.__(_,ee),$e=(Te="function"==typeof ie)?null:ie&&ie.__k||ee.__k,we=[],He(ee,_=(!Te&&ie||ee).__k=ae(ge,null,[_]),$e||X,X,void 0!==ee.ownerSVGElement,!Te&&ie?[ie]:$e?null:ee.firstChild?b.call(ee.childNodes):null,we,!Te&&ie?ie:$e?$e.__e:ee.firstChild,Te),Xe(we,_)}function st(_,ee){Fe(_,ee,st)}function it(_,ee,ie){var Te,$e,we,gt=J({},_.props);for(we in ee)"key"==we?Te=ee[we]:"ref"==we?$e=ee[we]:gt[we]=ee[we];return arguments.length>2&&(gt.children=arguments.length>3?b.call(arguments,2):ie),re(_.type,gt,Te||_.key,$e||_.ref,null)}function Ke(_,ee){var ie={__c:ee="__cC"+$++,__:_,Consumer:function(Te,$e){return Te.children($e)},Provider:function(Te){var $e,we;return this.getChildContext||($e=[],(we={})[ee]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(gt){this.props.value!==gt.value&&$e.some(le)},this.sub=function(gt){$e.push(gt);var ht=gt.componentWillUnmount;gt.componentWillUnmount=function(){$e.splice($e.indexOf(gt),1),ht&&ht.call(gt)}}),Te.children}};return ie.Provider.__=ie.Consumer.contextType=ie}b=Q.slice,y={__e:function(_,ee){for(var ie,Te,$e;ee=ee.__;)if((ie=ee.__c)&&!ie.__)try{if((Te=ie.constructor)&&null!=Te.getDerivedStateFromError&&(ie.setState(Te.getDerivedStateFromError(_)),$e=ie.__d),null!=ie.componentDidCatch&&(ie.componentDidCatch(_),$e=ie.__d),$e)return ie.__E=ie}catch(we){_=we}throw _}},P=0,be.prototype.setState=function(_,ee){var ie;ie=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=J({},this.state),"function"==typeof _&&(_=_(J({},ie),this.props)),_&&J(ie,_),null!=_&&this.__v&&(ee&&this.__h.push(ee),le(this))},be.prototype.forceUpdate=function(_){this.__v&&(this.__e=!0,_&&this.__h.push(_),le(this))},be.prototype.render=ge,C=[],B="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pe.__r=0,$=0},function(j,N,a){var b=a(116),y=a(44),P=a(178);b||y(Object.prototype,"toString",P,{unsafe:!0})},function(j,N,a){"use strict";var b=a(39),y=a(83),P=a(70),A=a(56),C=a(111),B="Array Iterator",L=A.set,$=A.getterFor(B);j.exports=C(Array,"Array",function(X,Q){L(this,{type:B,target:b(X),index:0,kind:Q})},function(){var X=$(this),Q=X.target,Y=X.kind,J=X.index++;return!Q||J>=Q.length?(X.target=void 0,{value:void 0,done:!0}):"keys"==Y?{value:J,done:!1}:"values"==Y?{value:Q[J],done:!1}:{value:[J,Q[J]],done:!1}},"values"),P.Arguments=P.Array,y("keys"),y("values"),y("entries")},function(j,N,a){var b=a(7),y=a(147),P=a(148),A=a(3),C=a(57),B=a(27),L=B("iterator"),$=B("toStringTag"),X=A.values,Q=function(J,ne){if(J){if(J[L]!==X)try{C(J,L,X)}catch{J[L]=X}if(J[$]||C(J,$,ne),y[ne])for(var ae in A)if(J[ae]!==A[ae])try{C(J,ae,A[ae])}catch{J[ae]=A[ae]}}};for(var Y in y)Q(b[Y]&&b[Y].prototype,Y);Q(P,"DOMTokenList")},function(j,N,a){"use strict";var b=a(16),y=a(7),P=a(46),A=a(76),C=a(35),B=a(15),L=a(64),$=a(36),X=a(109),Q=a(18),Y=a(34),J=a(99),ne=a(28),ae=a(33),re=a(58),Me=a(88),ge=a(32),be=a(38),de=a(39),Ae=a(87),le=a(40),Pe=a(71),oe=a(54),H=a(66),te=a(72),fe=a(139),ve=a(112),ke=a(51),Se=a(37),ze=a(93),Ye=a(101),He=a(44),Xe=a(84),tt=a(91),ft=a(69),wt=a(85),Ot=a(27),Fe=a(149),st=a(150),it=a(73),Ke=a(56),_=a(74).forEach,ee=tt("hidden"),ie="Symbol",Te="prototype",$e=Ot("toPrimitive"),we=Ke.set,gt=Ke.getterFor(ie),ht=Object[Te],pt=y.Symbol,xt=pt&&pt[Te],De=y.TypeError,Bt=y.QObject,ut=P("JSON","stringify"),ct=ke.f,vt=Se.f,zt=fe.f,Ft=ze.f,Dt=B([].push),Gt=Xe("symbols"),_t=Xe("op-symbols"),Ut=Xe("string-to-symbol-registry"),nr=Xe("symbol-to-string-registry"),vr=Xe("wks"),cr=!Bt||!Bt[Te]||!Bt[Te].findChild,ar=$&&Q(function(){return 7!=oe(vt({},"a",{get:function(){return vt(this,"a",{value:7}).a}})).a})?function(U,x,w){var I=ct(ht,x);I&&delete ht[x],vt(U,x,w),I&&U!==ht&&vt(ht,x,I)}:vt,kt=function(U,x){var w=Gt[U]=oe(xt);return we(w,{type:ie,tag:U,description:x}),$||(w.description=x),w},Xt=function(x,w,I){x===ht&&Xt(_t,w,I),ge(x);var K=Ae(w);return ge(I),Y(Gt,K)?(I.enumerable?(Y(x,ee)&&x[ee][K]&&(x[ee][K]=!1),I=oe(I,{enumerable:Pe(0,!1)})):(Y(x,ee)||vt(x,ee,Pe(1,{})),x[ee][K]=!0),ar(x,K,I)):vt(x,K,I)},tr=function(x,w){ge(x);var I=de(w),K=H(I).concat(Tt(I));return _(K,function(Ce){(!$||C(ot,I,Ce))&&Xt(x,Ce,I[Ce])}),x},ot=function(x){var w=Ae(x),I=C(Ft,this,w);return!(this===ht&&Y(Gt,w)&&!Y(_t,w))&&(!(I||!Y(this,w)||!Y(Gt,w)||Y(this,ee)&&this[ee][w])||I)},Qe=function(x,w){var I=de(x),K=Ae(w);if(I!==ht||!Y(Gt,K)||Y(_t,K)){var Ce=ct(I,K);return Ce&&Y(Gt,K)&&!(Y(I,ee)&&I[ee][K])&&(Ce.enumerable=!0),Ce}},dt=function(x){var w=zt(de(x)),I=[];return _(w,function(K){!Y(Gt,K)&&!Y(ft,K)&&Dt(I,K)}),I},Tt=function(x){var w=x===ht,I=zt(w?_t:de(x)),K=[];return _(I,function(Ce){Y(Gt,Ce)&&(!w||Y(ht,Ce))&&Dt(K,Gt[Ce])}),K};if(X||(pt=function(){if(re(xt,this))throw De("Symbol is not a constructor");var x=arguments.length&&void 0!==arguments[0]?le(arguments[0]):void 0,w=wt(x),I=function(K){this===ht&&C(I,_t,K),Y(this,ee)&&Y(this[ee],w)&&(this[ee][w]=!1),ar(this,w,Pe(1,K))};return $&&cr&&ar(ht,w,{configurable:!0,set:I}),kt(w,x)},He(xt=pt[Te],"toString",function(){return gt(this).tag}),He(pt,"withoutSetter",function(U){return kt(wt(U),U)}),ze.f=ot,Se.f=Xt,ke.f=Qe,te.f=fe.f=dt,ve.f=Tt,Fe.f=function(U){return kt(Ot(U),U)},$&&(vt(xt,"description",{configurable:!0,get:function(){return gt(this).description}}),L||He(ht,"propertyIsEnumerable",ot,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!X,sham:!X},{Symbol:pt}),_(H(vr),function(U){st(U)}),b({target:ie,stat:!0,forced:!X},{for:function(U){var x=le(U);if(Y(Ut,x))return Ut[x];var w=pt(x);return Ut[x]=w,nr[w]=x,w},keyFor:function(x){if(!Me(x))throw De(x+" is not a symbol");if(Y(nr,x))return nr[x]},useSetter:function(){cr=!0},useSimple:function(){cr=!1}}),b({target:"Object",stat:!0,forced:!X,sham:!$},{create:function(x,w){return void 0===w?oe(x):tr(oe(x),w)},defineProperty:Xt,defineProperties:tr,getOwnPropertyDescriptor:Qe}),b({target:"Object",stat:!0,forced:!X},{getOwnPropertyNames:dt,getOwnPropertySymbols:Tt}),b({target:"Object",stat:!0,forced:Q(function(){ve.f(1)})},{getOwnPropertySymbols:function(x){return ve.f(be(x))}}),ut&&b({target:"JSON",stat:!0,forced:!X||Q(function(){var U=pt();return"[null]"!=ut([U])||"{}"!=ut({a:U})||"{}"!=ut(Object(U))})},{stringify:function(x,w,I){var K=Ye(arguments),Ce=w;if((ae(w)||void 0!==x)&&!Me(x))return J(w)||(w=function(Ne,Ze){if(ne(Ce)&&(Ze=C(Ce,this,Ne,Ze)),!Me(Ze))return Ze}),K[1]=w,A(ut,null,K)}}),!xt[$e]){var W=xt.valueOf;He(xt,$e,function(U){return C(W,this)})}it(pt,ie),ft[ee]=!0},function(j,N,a){"use strict";var b=a(146).charAt,y=a(40),P=a(56),A=a(111),C="String Iterator",B=P.set,L=P.getterFor(C);A(String,"String",function($){B(this,{type:C,string:y($),index:0})},function(){var J,X=L(this),Q=X.string,Y=X.index;return Y>=Q.length?{value:void 0,done:!0}:(J=b(Q,Y),X.index+=J.length,{value:J,done:!1})})},function(j,N,a){(function(b){var y=function(P){return P&&P.Math==Math&&P};j.exports=y("object"==typeof globalThis&&globalThis)||y("object"==typeof window&&window)||y("object"==typeof self&&self)||y("object"==typeof b&&b)||function(){return this}()||Function("return this")()}).call(this,a(82))},function(j,N,a){"use strict";var b=a(16),y=a(36),P=a(7),A=a(15),C=a(34),B=a(28),L=a(58),$=a(40),X=a(37).f,Q=a(134),Y=P.Symbol,J=Y&&Y.prototype;if(y&&B(Y)&&(!("description"in J)||void 0!==Y().description)){var ne={},ae=function(){var Pe=arguments.length<1||void 0===arguments[0]?void 0:$(arguments[0]),oe=L(J,this)?new Y(Pe):void 0===Pe?Y():Y(Pe);return""===Pe&&(ne[oe]=!0),oe};Q(ae,Y),ae.prototype=J,J.constructor=ae;var re="Symbol(test)"==String(Y("test")),Me=A(J.toString),ge=A(J.valueOf),be=/^Symbol\((.*)\)[^)]+$/,de=A("".replace),Ae=A("".slice);X(J,"description",{configurable:!0,get:function(){var Pe=ge(this),oe=Me(Pe);if(C(ne,Pe))return"";var H=re?Ae(oe,7,-1):de(oe,be,"$1");return""===H?void 0:H}}),b({global:!0,forced:!0},{Symbol:ae})}},function(j,N,a){a(150)("iterator")},function(j,N,a){"use strict";a.d(N,"a",function(){return b.a}),a.d(N,"c",function(){return b.e}),a.d(N,"h",function(){return Ae}),a.d(N,"i",function(){return re}),a.d(N,"j",function(){return ne}),a.d(N,"b",function(){return Xe}),a.d(N,"e",function(){return Ot}),a.d(N,"f",function(){return tt}),a.d(N,"g",function(){return dt});var y,P,A,b=a(1),C=0,B=[],L=b.i.__b,$=b.i.__r,X=b.i.diffed,Q=b.i.__c,Y=b.i.unmount;function J(x,w){b.i.__h&&b.i.__h(P,x,C||w),C=0;var I=P.__H||(P.__H={__:[],__h:[]});return x>=I.__.length&&I.__.push({}),I.__[x]}function ne(x){return C=1,ae(ze,x)}function ae(x,w,I){var K=J(y++,2);return K.t=x,K.__c||(K.__=[I?I(w):ze(void 0,w),function(Ce){var Ne=K.t(K.__[0],Ce);K.__[0]!==Ne&&(K.__=[Ne,K.__[1]],K.__c.setState({}))}],K.__c=P),K.__}function re(x,w){var I=J(y++,3);!b.i.__s&&Se(I.__H,w)&&(I.__=x,I.__H=w,P.__H.__h.push(I))}function Me(x,w){var I=J(y++,4);!b.i.__s&&Se(I.__H,w)&&(I.__=x,I.__H=w,P.__h.push(I))}function de(x,w){var I=J(y++,7);return Se(I.__H,w)&&(I.__=x(),I.__H=w,I.__h=x),I.__}function Ae(x,w){return C=8,de(function(){return x},w)}function H(){var x;for(B.sort(function(w,I){return w.__v.__b-I.__v.__b});x=B.pop();)if(x.__P)try{x.__H.__h.forEach(ve),x.__H.__h.forEach(ke),x.__H.__h=[]}catch(w){x.__H.__h=[],b.i.__e(w,x.__v)}}b.i.__b=function(x){P=null,L&&L(x)},b.i.__r=function(x){$&&$(x),y=0;var w=(P=x.__c).__H;w&&(w.__h.forEach(ve),w.__h.forEach(ke),w.__h=[])},b.i.diffed=function(x){X&&X(x);var w=x.__c;w&&w.__H&&w.__H.__h.length&&(1!==B.push(w)&&A===b.i.requestAnimationFrame||((A=b.i.requestAnimationFrame)||fe)(H)),P=null},b.i.__c=function(x,w){w.some(function(I){try{I.__h.forEach(ve),I.__h=I.__h.filter(function(K){return!K.__||ke(K)})}catch(K){w.some(function(Ce){Ce.__h&&(Ce.__h=[])}),w=[],b.i.__e(K,I.__v)}}),Q&&Q(x,w)},b.i.unmount=function(x){Y&&Y(x);var w,I=x.__c;I&&I.__H&&(I.__H.__.forEach(function(K){try{ve(K)}catch(Ce){w=Ce}}),w&&b.i.__e(w,I.__v))};var te="function"==typeof requestAnimationFrame;function fe(x){var w,I=function(){clearTimeout(K),te&&cancelAnimationFrame(w),setTimeout(x)},K=setTimeout(I,100);te&&(w=requestAnimationFrame(I))}function ve(x){var w=P,I=x.__c;"function"==typeof I&&(x.__c=void 0,I()),P=w}function ke(x){var w=P;x.__c=x.__(),P=w}function Se(x,w){return!x||x.length!==w.length||w.some(function(I,K){return I!==x[K]})}function ze(x,w){return"function"==typeof w?w(x):w}function Ye(x,w){for(var I in w)x[I]=w[I];return x}function He(x,w){for(var I in x)if("__source"!==I&&!(I in w))return!0;for(var K in w)if("__source"!==K&&x[K]!==w[K])return!0;return!1}function Xe(x){this.props=x}function tt(x,w){function I(Ce){var Ne=this.props.ref,Ze=Ne==Ce.ref;return!Ze&&Ne&&(Ne.call?Ne(null):Ne.current=null),w?!w(this.props,Ce)||!Ze:He(this.props,Ce)}function K(Ce){return this.shouldComponentUpdate=I,Object(b.e)(x,Ce)}return K.displayName="Memo("+(x.displayName||x.name)+")",K.prototype.isReactComponent=!0,K.__f=!0,K}(Xe.prototype=new b.a).isPureReactComponent=!0,Xe.prototype.shouldComponentUpdate=function(x,w){return He(this.props,x)||He(this.state,w)};var ft=b.i.__b;b.i.__b=function(x){x.type&&x.type.__f&&x.ref&&(x.props.ref=x.ref,x.ref=null),ft&&ft(x)};var wt=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ot(x){function w(I,K){var Ce=Ye({},I);return delete Ce.ref,x(Ce,!(K=I.ref||K)||"object"==typeof K&&!("current"in K)?null:K)}return w.$$typeof=wt,w.render=w,w.prototype.isReactComponent=w.__f=!0,w.displayName="ForwardRef("+(x.displayName||x.name)+")",w}var Fe=function(x,w){return null==x?null:Object(b.k)(Object(b.k)(x).map(w))},st={map:Fe,forEach:Fe,count:function(x){return x?Object(b.k)(x).length:0},only:function(x){var w=Object(b.k)(x);if(1!==w.length)throw"Children.only";return w[0]},toArray:b.k},it=b.i.__e;b.i.__e=function(x,w,I){if(x.then)for(var K,Ce=w;Ce=Ce.__;)if((K=Ce.__c)&&K.__c)return null==w.__e&&(w.__e=I.__e,w.__k=I.__k),K.__c(x,w);it(x,w,I)};var Ke=b.i.unmount;function _(x,w,I){return x&&(x.__c&&x.__c.__H&&(x.__c.__H.__.forEach(function(K){"function"==typeof K.__c&&K.__c()}),x.__c.__H=null),null!=(x=Ye({},x)).__c&&(x.__c.__P===I&&(x.__c.__P=w),x.__c=null),x.__k=x.__k&&x.__k.map(function(K){return _(K,w,I)})),x}function ee(x,w,I){return x&&(x.__v=null,x.__k=x.__k&&x.__k.map(function(K){return ee(K,w,I)}),x.__c&&x.__c.__P===w&&(x.__e&&I.insertBefore(x.__e,x.__d),x.__c.__e=!0,x.__c.__P=I)),x}function ie(){this.__u=0,this.t=null,this.__b=null}function Te(x){var w=x.__.__c;return w&&w.__e&&w.__e(x)}function we(){this.u=null,this.o=null}b.i.unmount=function(x){var w=x.__c;w&&w.__R&&w.__R(),w&&!0===x.__h&&(x.type=null),Ke&&Ke(x)},(ie.prototype=new b.a).__c=function(x,w){var I=w.__c,K=this;null==K.t&&(K.t=[]),K.t.push(I);var Ce=Te(K.__v),Ne=!1,Ze=function(){Ne||(Ne=!0,I.__R=null,Ce?Ce(Je):Je())};I.__R=Ze;var Je=function(){if(!--K.__u){if(K.state.__e){var Ct=K.state.__e;K.__v.__k[0]=ee(Ct,Ct.__c.__P,Ct.__c.__O)}var Pt;for(K.setState({__e:K.__b=null});Pt=K.t.pop();)Pt.forceUpdate()}},at=!0===w.__h;K.__u++||at||K.setState({__e:K.__b=K.__v.__k[0]}),x.then(Ze,Ze)},ie.prototype.componentWillUnmount=function(){this.t=[]},ie.prototype.render=function(x,w){if(this.__b){if(this.__v.__k){var I=document.createElement("div"),K=this.__v.__k[0].__c;this.__v.__k[0]=_(this.__b,I,K.__O=K.__P)}this.__b=null}var Ce=w.__e&&Object(b.e)(b.b,null,x.fallback);return Ce&&(Ce.__h=null),[Object(b.e)(b.b,null,w.__e?null:x.children),Ce]};var gt=function(x,w,I){if(++I[1]===I[0]&&x.o.delete(w),x.props.revealOrder&&("t"!==x.props.revealOrder[0]||!x.o.size))for(I=x.u;I;){for(;I.length>3;)I.pop()();if(I[1]<I[0])break;x.u=I=I[2]}};function ht(x){return this.getChildContext=function(){return x.context},x.children}function pt(x){var w=this,I=x.i;w.componentWillUnmount=function(){Object(b.j)(null,w.l),w.l=null,w.i=null},w.i&&w.i!==I&&w.componentWillUnmount(),x.__v?(w.l||(w.i=I,w.l={nodeType:1,parentNode:I,childNodes:[],appendChild:function(K){this.childNodes.push(K),w.i.appendChild(K)},insertBefore:function(K,Ce){this.childNodes.push(K),w.i.appendChild(K)},removeChild:function(K){this.childNodes.splice(this.childNodes.indexOf(K)>>>1,1),w.i.removeChild(K)}}),Object(b.j)(Object(b.e)(ht,{context:w.context},x.__v),w.l)):w.l&&w.componentWillUnmount()}(we.prototype=new b.a).__e=function(x){var w=this,I=Te(w.__v),K=w.o.get(x);return K[0]++,function(Ce){var Ne=function(){w.props.revealOrder?(K.push(Ce),gt(w,x,K)):Ce()};I?I(Ne):Ne()}},we.prototype.render=function(x){this.u=null,this.o=new Map;var w=Object(b.k)(x.children);x.revealOrder&&"b"===x.revealOrder[0]&&w.reverse();for(var I=w.length;I--;)this.o.set(w[I],this.u=[1,0,this.u]);return x.children},we.prototype.componentDidUpdate=we.prototype.componentDidMount=function(){var x=this;this.o.forEach(function(w,I){gt(x,I,w)})};var De=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Bt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ut=typeof document<"u",ct=function(x){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(x)};b.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(x){Object.defineProperty(b.a.prototype,x,{configurable:!0,get:function(){return this["UNSAFE_"+x]},set:function(w){Object.defineProperty(this,x,{configurable:!0,writable:!0,value:w})}})});var Ft=b.i.event;function Dt(){}function Gt(){return this.cancelBubble}function _t(){return this.defaultPrevented}b.i.event=function(x){return Ft&&(x=Ft(x)),x.persist=Dt,x.isPropagationStopped=Gt,x.isDefaultPrevented=_t,x.nativeEvent=x};var Ut,nr={configurable:!0,get:function(){return this.class}},vr=b.i.vnode;b.i.vnode=function(x){var w=x.type,I=x.props,K=I;if("string"==typeof w){var Ce=-1===w.indexOf("-");for(var Ne in K={},I){var Ze=I[Ne];ut&&"children"===Ne&&"noscript"===w||"value"===Ne&&"defaultValue"in I&&null==Ze||("defaultValue"===Ne&&"value"in I&&null==I.value?Ne="value":"download"===Ne&&!0===Ze?Ze="":/ondoubleclick/i.test(Ne)?Ne="ondblclick":/^onchange(textarea|input)/i.test(Ne+w)&&!ct(I.type)?Ne="oninput":/^onfocus$/i.test(Ne)?Ne="onfocusin":/^onblur$/i.test(Ne)?Ne="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ne)?Ne=Ne.toLowerCase():Ce&&Bt.test(Ne)?Ne=Ne.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===Ze&&(Ze=void 0),K[Ne]=Ze)}"select"==w&&K.multiple&&Array.isArray(K.value)&&(K.value=Object(b.k)(I.children).forEach(function(Je){Je.props.selected=-1!=K.value.indexOf(Je.props.value)})),"select"==w&&null!=K.defaultValue&&(K.value=Object(b.k)(I.children).forEach(function(Je){Je.props.selected=K.multiple?-1!=K.defaultValue.indexOf(Je.props.value):K.defaultValue==Je.props.value})),x.props=K,I.class!=I.className&&(nr.enumerable="className"in I,null!=I.className&&(K.class=I.className),Object.defineProperty(K,"className",nr))}x.$$typeof=De,vr&&vr(x)};var cr=b.i.__r;function tr(x){return!!x&&x.$$typeof===De}b.i.__r=function(x){cr&&cr(x),Ut=x.__c};var dt=function(x,w){return x(w)};N.d={useState:ne,useReducer:ae,useEffect:re,useLayoutEffect:Me,useRef:function ge(x){return C=5,de(function(){return{current:x}},[])},useImperativeHandle:function be(x,w,I){C=6,Me(function(){"function"==typeof x?x(w()):x&&(x.current=w())},null==I?I:I.concat(x))},useMemo:de,useCallback:Ae,useContext:function le(x){var w=P.context[x.__c],I=J(y++,9);return I.c=x,w?(null==I.__&&(I.__=!0,w.sub(P)),w.props.value):x.__},useDebugValue:function Pe(x,w){b.i.useDebugValue&&b.i.useDebugValue(w?w(x):x)},version:"17.0.2",Children:st,render:function vt(x,w,I){return null==w.__k&&(w.textContent=""),Object(b.j)(x,w),"function"==typeof I&&I(),x?x.__c:null},hydrate:function zt(x,w,I){return Object(b.h)(x,w),"function"==typeof I&&I(),x?x.__c:null},unmountComponentAtNode:function ot(x){return!!x.__k&&(Object(b.j)(null,x),!0)},createPortal:function xt(x,w){return Object(b.e)(pt,{__v:x,i:w})},createElement:b.e,createContext:b.d,createFactory:function Xt(x){return b.e.bind(null,x)},cloneElement:function Ve(x){return tr(x)?b.c.apply(null,arguments):x},createRef:b.f,Fragment:b.b,isValidElement:tr,findDOMNode:function Qe(x){return x&&(x.base||1===x.nodeType&&x)||null},Component:b.a,PureComponent:Xe,memo:tt,forwardRef:Ot,flushSync:function(x,w){return x(w)},unstable_batchedUpdates:dt,StrictMode:b.b,Suspense:ie,SuspenseList:we,lazy:function $e(x){var w,I,K;function Ce(Ne){if(w||(w=x()).then(function(Ze){I=Ze.default||Ze},function(Ze){K=Ze}),K)throw K;if(!I)throw w;return Object(b.e)(I,Ne)}return Ce.displayName="Lazy",Ce.__f=!0,Ce},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(x){return Ut.__n[x.__c].props.value}}}}}},function(j,N,a){var b=a(7),y=a(147),P=a(148),A=a(179),C=a(57),B=function($){if($&&$.forEach!==A)try{C($,"forEach",A)}catch{$.forEach=A}};for(var L in y)y[L]&&B(b[L]&&b[L].prototype);B(P)},function(j,N,a){a(16)({target:"Object",stat:!0},{setPrototypeOf:a(97)})},function(j,N,a){var b=a(16),y=a(18),P=a(38),A=a(96),C=a(137);b({target:"Object",stat:!0,forced:y(function(){A(1)}),sham:!C},{getPrototypeOf:function($){return A(P($))}})},function(j,N,a){var b=a(16),y=a(46),P=a(76),A=a(199),C=a(157),B=a(32),L=a(33),$=a(54),X=a(18),Q=y("Reflect","construct"),Y=Object.prototype,J=[].push,ne=X(function(){function Me(){}return!(Q(function(){},[],Me)instanceof Me)}),ae=!X(function(){Q(function(){})}),re=ne||ae;b({target:"Reflect",stat:!0,forced:re,sham:re},{construct:function(ge,be){C(ge),B(be);var de=arguments.length<3?ge:C(arguments[2]);if(ae&&!ne)return Q(ge,be,de);if(ge==de){switch(be.length){case 0:return new ge;case 1:return new ge(be[0]);case 2:return new ge(be[0],be[1]);case 3:return new ge(be[0],be[1],be[2]);case 4:return new ge(be[0],be[1],be[2],be[3])}var Ae=[null];return P(J,Ae,be),new(P(A,ge,Ae))}var le=de.prototype,Pe=$(L(le)?le:Y),oe=P(ge,Pe,be);return L(oe)?oe:Pe}})},function(j,N){var a=Function.prototype,b=a.bind,y=a.call,P=b&&b.bind(y);j.exports=b?function(A){return A&&P(y,A)}:function(A){return A&&function(){return y.apply(A,arguments)}}},function(j,N,a){var b=a(7),y=a(51).f,P=a(57),A=a(44),C=a(108),B=a(134),L=a(95);j.exports=function($,X){var ae,re,Me,ge,be,Q=$.target,Y=$.global,J=$.stat;if(ae=Y?b:J?b[Q]||C(Q,{}):(b[Q]||{}).prototype)for(re in X){if(ge=X[re],Me=$.noTargetGet?(be=y(ae,re))&&be.value:ae[re],!L(Y?re:Q+(J?".":"#")+re,$.forced)&&void 0!==Me){if(typeof ge==typeof Me)continue;B(ge,Me)}($.sham||Me&&Me.sham)&&P(ge,"sham",!0),A(ae,re,ge,$)}}},function(j,N,a){"use strict";var b=a(16),y=a(7),P=a(99),A=a(100),C=a(33),B=a(67),L=a(43),$=a(39),X=a(61),Q=a(27),Y=a(75),J=a(101),ne=Y("slice"),ae=Q("species"),re=y.Array,Me=Math.max;b({target:"Array",proto:!0,forced:!ne},{slice:function(be,de){var H,te,fe,Ae=$(this),le=L(Ae),Pe=B(be,le),oe=B(void 0===de?le:de,le);if(P(Ae)&&((A(H=Ae.constructor)&&(H===re||P(H.prototype))||C(H)&&null===(H=H[ae]))&&(H=void 0),H===re||void 0===H))return J(Ae,Pe,oe);for(te=new(void 0===H?re:H)(Me(oe-Pe,0)),fe=0;Pe<oe;Pe++,fe++)Pe in Ae&&X(te,fe,Ae[Pe]);return te.length=fe,te}})},function(j,N){j.exports=function(a){try{return!!a()}catch{return!0}}},function(j,N,a){"use strict";var b=a(16),y=a(102);b({target:"RegExp",proto:!0,forced:/./.exec!==y},{exec:y})},function(j,N,a){var b=a(16),y=a(38),P=a(66);b({target:"Object",stat:!0,forced:a(18)(function(){P(1)})},{keys:function(L){return P(y(L))}})},function(j,N,a){var b=a(16),y=a(18),P=a(39),A=a(51).f,C=a(36),B=y(function(){A(1)});b({target:"Object",stat:!0,forced:!C||B,sham:!C},{getOwnPropertyDescriptor:function(X,Q){return A(P(X),Q)}})},function(j,N,a){"use strict";var b=a(16),y=a(74).filter;b({target:"Array",proto:!0,forced:!a(75)("filter")},{filter:function(B){return y(this,B,arguments.length>1?arguments[1]:void 0)}})},function(j,N,a){var b=a(16),y=a(36),P=a(135),A=a(39),C=a(51),B=a(61);b({target:"Object",stat:!0,sham:!y},{getOwnPropertyDescriptors:function($){for(var ae,re,X=A($),Q=C.f,Y=P(X),J={},ne=0;Y.length>ne;)void 0!==(re=Q(X,ae=Y[ne++]))&&B(J,ae,re);return J}})},function(j,N,a){var b=a(36),y=a(94).EXISTS,P=a(15),A=a(37).f,C=Function.prototype,B=P(C.toString),L=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,$=P(L.exec);b&&!y&&A(C,"name",{configurable:!0,get:function(){try{return $(L,B(this))[1]}catch{return""}}})},function(j,N,a){var b=a(16),y=a(182);b({target:"Array",stat:!0,forced:!a(118)(function(C){Array.from(C)})},{from:y})},,function(j,N,a){var b=a(7),y=a(84),P=a(34),A=a(85),C=a(109),B=a(128),L=y("wks"),$=b.Symbol,X=$&&$.for,Q=B?$:$&&$.withoutSetter||A;j.exports=function(Y){if(!P(L,Y)||!C&&"string"!=typeof L[Y]){var J="Symbol."+Y;L[Y]=C&&P($,Y)?$[Y]:B&&X?X(J):Q(J)}return L[Y]}},function(j,N){j.exports=function(a){return"function"==typeof a}},function(j,N,a){"use strict";var b=a(16),y=a(7),P=a(18),A=a(99),C=a(33),B=a(38),L=a(43),$=a(61),X=a(119),Q=a(75),Y=a(27),J=a(65),ne=Y("isConcatSpreadable"),ae=9007199254740991,re="Maximum allowed index exceeded",Me=y.TypeError,ge=J>=51||!P(function(){var le=[];return le[ne]=!1,le.concat()[0]!==le}),be=Q("concat"),de=function(le){if(!C(le))return!1;var Pe=le[ne];return void 0!==Pe?!!Pe:A(le)};b({target:"Array",proto:!0,forced:!ge||!be},{concat:function(Pe){var fe,ve,ke,Se,ze,oe=B(this),H=X(oe,0),te=0;for(fe=-1,ke=arguments.length;fe<ke;fe++)if(de(ze=-1===fe?oe:arguments[fe])){if(te+(Se=L(ze))>ae)throw Me(re);for(ve=0;ve<Se;ve++,te++)ve in ze&&$(H,te,ze[ve])}else{if(te>=ae)throw Me(re);$(H,te++,ze)}return H.length=te,H}})},function(j,N,a){var b=a(16),y=a(198);b({target:"Object",stat:!0,forced:Object.assign!==y},{assign:y})},function(j,N,a){"use strict";var b=a(105),y="object"==typeof self&&self&&self.Object===Object&&self,P=b.a||y||Function("return this")();N.a=P},function(j,N,a){var b=a(7),y=a(33),P=b.String,A=b.TypeError;j.exports=function(C){if(y(C))return C;throw A(P(C)+" is not an object")}},function(j,N,a){var b=a(28);j.exports=function(y){return"object"==typeof y?null!==y:b(y)}},function(j,N,a){var b=a(15),y=a(38),P=b({}.hasOwnProperty);j.exports=Object.hasOwn||function(C,B){return P(y(C),B)}},function(j,N){var a=Function.prototype.call;j.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(j,N,a){var b=a(18);j.exports=!b(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(j,N,a){var b=a(7),y=a(36),P=a(129),A=a(32),C=a(87),B=b.TypeError,L=Object.defineProperty;N.f=y?L:function(X,Q,Y){if(A(X),Q=C(Q),A(Y),P)try{return L(X,Q,Y)}catch{}if("get"in Y||"set"in Y)throw B("Accessors not supported");return"value"in Y&&(X[Q]=Y.value),X}},function(j,N,a){var b=a(7),y=a(45),P=b.Object;j.exports=function(A){return P(y(A))}},function(j,N,a){var b=a(81),y=a(45);j.exports=function(P){return b(y(P))}},function(j,N,a){var b=a(7),y=a(98),P=b.String;j.exports=function(A){if("Symbol"===y(A))throw TypeError("Cannot convert a Symbol value to a string");return P(A)}},function(j,N,a){"use strict";var b=a(16),y=a(74).map;b({target:"Array",proto:!0,forced:!a(75)("map")},{map:function(B){return y(this,B,arguments.length>1?arguments[1]:void 0)}})},function(j,N,a){"use strict";(function(b){a.d(N,"d",function(){return B}),a.d(N,"c",function(){return L}),a.d(N,"b",function(){return $}),a.d(N,"a",function(){return Q});var y=a(10);function B(){var J=function(Y,J){var ne="function"==typeof Symbol&&Y[Symbol.iterator];if(!ne)return Y;var re,ge,ae=ne.call(Y),Me=[];try{for(;(void 0===J||J-- >0)&&!(re=ae.next()).done;)Me.push(re.value)}catch(be){ge={error:be}}finally{try{re&&!re.done&&(ne=ae.return)&&ne.call(ae)}finally{if(ge)throw ge.error}}return Me}(Object(y.j)(0),2)[1];return Object(y.h)(function(){J(function(ae){return ae+1})},[])}function L(Y){if(!Y||"object"!=typeof Y)return!1;var J=Object.getPrototypeOf(Y);return!J||J===Object.prototype}function $(Y){return"function"==typeof Symbol?Symbol.for(Y):"__$mobx-react "+Y+"__"}var X={};function Q(){return typeof window<"u"?window:typeof b<"u"?b:typeof self<"u"?self:X}}).call(this,a(82))},function(j,N,a){var b=a(90);j.exports=function(y){return b(y.length)}},function(j,N,a){var b=a(7),y=a(28),P=a(34),A=a(57),C=a(108),B=a(92),L=a(56),$=a(94).CONFIGURABLE,X=L.get,Q=L.enforce,Y=String(String).split("String");(j.exports=function(J,ne,ae,re){var Ae,Me=!!re&&!!re.unsafe,ge=!!re&&!!re.enumerable,be=!!re&&!!re.noTargetGet,de=re&&void 0!==re.name?re.name:ne;y(ae)&&("Symbol("===String(de).slice(0,7)&&(de="["+String(de).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!P(ae,"name")||$&&ae.name!==de)&&A(ae,"name",de),(Ae=Q(ae)).source||(Ae.source=Y.join("string"==typeof de?de:""))),J!==b?(Me?!be&&J[ne]&&(ge=!0):delete J[ne],ge?J[ne]=ae:A(J,ne,ae)):ge?J[ne]=ae:C(ne,ae)})(Function.prototype,"toString",function(){return y(this)&&X(this).source||B(this)})},function(j,N,a){var y=a(7).TypeError;j.exports=function(P){if(null==P)throw y("Can't call method on "+P);return P}},function(j,N,a){var b=a(7),y=a(28),P=function(A){return y(A)?A:void 0};j.exports=function(A,C){return arguments.length<2?P(b[A]):b[A]&&b[A][C]}},function(j,N,a){var b=a(16),y=a(35),P=a(33),A=a(32),C=a(200),B=a(51),L=a(96);b({target:"Reflect",stat:!0},{get:function $(X,Q){var J,ne,Y=arguments.length<3?X:arguments[2];return A(X)===Y?X[Q]:(J=B.f(X,Q))?C(J)?J.value:void 0===J.get?void 0:y(J.get,Y):P(ne=L(X))?$(ne,Q,Y):void 0}})},function(j,N,a){"use strict";(function(b){var y=a(31),P=a(165),A=vn&&!vn.nodeType&&vn,C=A&&"object"==typeof b&&b&&!b.nodeType&&b,L=C&&C.exports===A?y.a.Buffer:void 0;N.a=(L?L.isBuffer:void 0)||P.a}).call(this,a(121)(j))},function(j,N,a){"use strict";(function(b){var y=a(105),P=vn&&!vn.nodeType&&vn,A=P&&"object"==typeof b&&b&&!b.nodeType&&b,B=A&&A.exports===P&&y.a.process,L=function(){try{return A&&A.require&&A.require("util").types||B&&B.binding&&B.binding("util")}catch{}}();N.a=L}).call(this,a(121)(j))},function(j,N,a){var b=a(15),y=b({}.toString),P=b("".slice);j.exports=function(A){return P(y(A),8,-1)}},function(j,N,a){var b=a(36),y=a(35),P=a(93),A=a(71),C=a(39),B=a(87),L=a(34),$=a(129),X=Object.getOwnPropertyDescriptor;N.f=b?X:function(Y,J){if(Y=C(Y),J=B(J),$)try{return X(Y,J)}catch{}if(L(Y,J))return A(!y(P.f,Y,J),Y[J])}},function(j,N,a){var b=a(16),y=a(213).entries;b({target:"Object",stat:!0},{entries:function(A){return y(A)}})},function(j,N,a){var b=a(46);j.exports=b("navigator","userAgent")||""},function(j,N,a){var ge,b=a(32),y=a(168),P=a(110),A=a(69),C=a(133),B=a(86),L=a(91),Q="prototype",Y="script",J=L("IE_PROTO"),ne=function(){},ae=function(de){return"<"+Y+">"+de+"</"+Y+">"},re=function(de){de.write(ae("")),de.close();var Ae=de.parentWindow.Object;return de=null,Ae},be=function(){try{ge=new ActiveXObject("htmlfile")}catch{}be=typeof document<"u"?document.domain&&ge?re(ge):function(){var le,de=B("iframe");return de.style.display="none",C.appendChild(de),de.src=String("javascript:"),(le=de.contentWindow.document).open(),le.write(ae("document.F=Object")),le.close(),le.F}():re(ge);for(var de=P.length;de--;)delete be[Q][P[de]];return be()};A[J]=!0,j.exports=Object.create||function(Ae,le){var Pe;return null!==Ae?(ne[Q]=b(Ae),Pe=new ne,ne[Q]=null,Pe[J]=Ae):Pe=be(),void 0===le?Pe:y(Pe,le)}},function(j,N,a){var b=a(7),y=a(28),P=a(89),A=b.TypeError;j.exports=function(C){if(y(C))return C;throw A(P(C)+" is not a function")}},function(j,N,a){var ne,ae,re,b=a(170),y=a(7),P=a(15),A=a(33),C=a(57),B=a(34),L=a(107),$=a(91),X=a(69),Q="Object already initialized",Y=y.TypeError;if(b||L.state){var be=L.state||(L.state=new(0,y.WeakMap)),de=P(be.get),Ae=P(be.has),le=P(be.set);ne=function(oe,H){if(Ae(be,oe))throw new Y(Q);return H.facade=oe,le(be,oe,H),H},ae=function(oe){return de(be,oe)||{}},re=function(oe){return Ae(be,oe)}}else{var Pe=$("state");X[Pe]=!0,ne=function(oe,H){if(B(oe,Pe))throw new Y(Q);return H.facade=oe,C(oe,Pe,H),H},ae=function(oe){return B(oe,Pe)?oe[Pe]:{}},re=function(oe){return B(oe,Pe)}}j.exports={set:ne,get:ae,has:re,enforce:function(oe){return re(oe)?ae(oe):ne(oe,{})},getterFor:function(oe){return function(H){var te;if(!A(H)||(te=ae(H)).type!==oe)throw Y("Incompatible receiver, "+oe+" required");return te}}}},function(j,N,a){var b=a(36),y=a(37),P=a(71);j.exports=b?function(A,C,B){return y.f(A,C,P(1,B))}:function(A,C,B){return A[C]=B,A}},function(j,N,a){var b=a(15);j.exports=b({}.isPrototypeOf)},function(j,N,a){var b=a(55);j.exports=function(y,P){var A=y[P];return null==A?void 0:b(A)}},function(j,N,a){"use strict";a(173)("Map",function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},a(177))},function(j,N,a){"use strict";var b=a(87),y=a(37),P=a(71);j.exports=function(A,C,B){var L=b(C);L in A?y.f(A,L,P(0,B)):A[L]=B}},function(j,N,a){var b=a(15),y=a(55),P=b(b.bind);j.exports=function(A,C){return y(A),void 0===C?A:P?P(A,C):function(){return A.apply(C,arguments)}}},function(j,N,a){var b=a(16),y=a(214),P=a(83);b({target:"Array",proto:!0},{fill:y}),P("fill")},function(j,N){j.exports=!1},function(j,N,a){var L,$,b=a(7),y=a(53),P=b.process,A=b.Deno,C=P&&P.versions||A&&A.version,B=C&&C.v8;B&&($=(L=B.split("."))[0]>0&&L[0]<4?1:+(L[0]+L[1])),!$&&y&&(!(L=y.match(/Edge\/(\d+)/))||L[1]>=74)&&(L=y.match(/Chrome\/(\d+)/))&&($=+L[1]),j.exports=$},function(j,N,a){var b=a(131),y=a(110);j.exports=Object.keys||function(A){return b(A,y)}},function(j,N,a){var b=a(68),y=Math.max,P=Math.min;j.exports=function(A,C){var B=b(A);return B<0?y(B+C,0):P(B,C)}},function(j,N){var a=Math.ceil,b=Math.floor;j.exports=function(y){var P=+y;return P!=P||0===P?0:(P>0?b:a)(P)}},function(j,N){j.exports={}},function(j,N){j.exports={}},function(j,N){j.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},function(j,N,a){var b=a(131),P=a(110).concat("length","prototype");N.f=Object.getOwnPropertyNames||function(C){return b(C,P)}},function(j,N,a){var b=a(37).f,y=a(34),A=a(27)("toStringTag");j.exports=function(C,B,L){C&&!y(C=L?C:C.prototype,A)&&b(C,A,{configurable:!0,value:B})}},function(j,N,a){var b=a(62),y=a(15),P=a(81),A=a(38),C=a(43),B=a(119),L=y([].push),$=function(X){var Q=1==X,Y=2==X,J=3==X,ne=4==X,ae=6==X,re=7==X,Me=5==X||ae;return function(ge,be,de,Ae){for(var ke,Se,le=A(ge),Pe=P(le),oe=b(be,de),H=C(Pe),te=0,fe=Ae||B,ve=Q?fe(ge,H):Y||re?fe(ge,0):void 0;H>te;te++)if((Me||te in Pe)&&(Se=oe(ke=Pe[te],te,le),X))if(Q)ve[te]=Se;else if(Se)switch(X){case 3:return!0;case 5:return ke;case 6:return te;case 2:L(ve,ke)}else switch(X){case 4:return!1;case 7:L(ve,ke)}return ae?-1:J||ne?ne:ve}};j.exports={forEach:$(0),map:$(1),filter:$(2),some:$(3),every:$(4),find:$(5),findIndex:$(6),filterReject:$(7)}},function(j,N,a){var b=a(18),y=a(27),P=a(65),A=y("species");j.exports=function(C){return P>=51||!b(function(){var B=[];return(B.constructor={})[A]=function(){return{foo:1}},1!==B[C](Boolean).foo})}},function(j,N){var a=Function.prototype,b=a.apply,P=a.call;j.exports="object"==typeof Reflect&&Reflect.apply||(a.bind?P.bind(b):function(){return P.apply(b,arguments)})},function(j,N,a){"use strict";var b=a(16),y=a(15),P=a(81),A=a(39),C=a(120),B=y([].join),L=P!=Object,$=C("join",",");b({target:"Array",proto:!0,forced:L||!$},{join:function(Q){return B(A(this),void 0===Q?",":Q)}})},function(j,N,a){"use strict";var b=a(76),y=a(35),P=a(15),A=a(122),C=a(154),B=a(32),L=a(45),$=a(156),X=a(123),Q=a(90),Y=a(40),J=a(59),ne=a(113),ae=a(124),re=a(102),Me=a(151),ge=a(18),be=Me.UNSUPPORTED_Y,de=4294967295,Ae=Math.min,le=[].push,Pe=P(/./.exec),oe=P(le),H=P("".slice),te=!ge(function(){var fe=/(?:)/,ve=fe.exec;fe.exec=function(){return ve.apply(this,arguments)};var ke="ab".split(fe);return 2!==ke.length||"a"!==ke[0]||"b"!==ke[1]});A("split",function(fe,ve,ke){var Se;return Se="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(ze,Ye){var He=Y(L(this)),Xe=void 0===Ye?de:Ye>>>0;if(0===Xe)return[];if(void 0===ze)return[He];if(!C(ze))return y(ve,He,ze,Xe);for(var Fe,st,it,tt=[],wt=0,Ot=new RegExp(ze.source,(ze.ignoreCase?"i":"")+(ze.multiline?"m":"")+(ze.unicode?"u":"")+(ze.sticky?"y":"")+"g");(Fe=y(re,Ot,He))&&!((st=Ot.lastIndex)>wt&&(oe(tt,H(He,wt,Fe.index)),Fe.length>1&&Fe.index<He.length&&b(le,tt,ne(Fe,1)),it=Fe[0].length,wt=st,tt.length>=Xe));)Ot.lastIndex===Fe.index&&Ot.lastIndex++;return wt===He.length?(it||!Pe(Ot,""))&&oe(tt,""):oe(tt,H(He,wt)),tt.length>Xe?ne(tt,0,Xe):tt}:"0".split(void 0,0).length?function(ze,Ye){return void 0===ze&&0===Ye?[]:y(ve,this,ze,Ye)}:ve,[function(Ye,He){var Xe=L(this),tt=null==Ye?void 0:J(Ye,fe);return tt?y(tt,Ye,Xe,He):y(Se,Y(Xe),Ye,He)},function(ze,Ye){var He=B(this),Xe=Y(ze),tt=ke(Se,He,Xe,Ye,Se!==ve);if(tt.done)return tt.value;var ft=$(He,RegExp),wt=He.unicode,Fe=new ft(be?"^(?:"+He.source+")":He,(He.ignoreCase?"i":"")+(He.multiline?"m":"")+(He.unicode?"u":"")+(be?"g":"y")),st=void 0===Ye?de:Ye>>>0;if(0===st)return[];if(0===Xe.length)return null===ae(Fe,Xe)?[Xe]:[];for(var it=0,Ke=0,_=[];Ke<Xe.length;){Fe.lastIndex=be?0:Ke;var ie,ee=ae(Fe,be?H(Xe,Ke):Xe);if(null===ee||(ie=Ae(Q(Fe.lastIndex+(be?Ke:0)),Xe.length))===it)Ke=X(Xe,Ke,wt);else{if(oe(_,H(Xe,it,Ke)),_.length===st)return _;for(var Te=1;Te<=ee.length-1;Te++)if(oe(_,ee[Te]),_.length===st)return _;Ke=it=ie}}return oe(_,H(Xe,it)),_}]},!te,be)},function(j,N,a){"use strict";var b=a(36),y=a(7),P=a(15),A=a(95),C=a(44),B=a(34),L=a(143),$=a(58),X=a(88),Q=a(130),Y=a(18),J=a(72).f,ne=a(51).f,ae=a(37).f,re=a(196),Me=a(159).trim,ge="Number",be=y[ge],de=be.prototype,Ae=y.TypeError,le=P("".slice),Pe=P("".charCodeAt),oe=function(Se){var ze=Q(Se,"number");return"bigint"==typeof ze?ze:H(ze)},H=function(Se){var Ye,He,Xe,tt,ft,wt,Ot,Fe,ze=Q(Se,"number");if(X(ze))throw Ae("Cannot convert a Symbol value to a number");if("string"==typeof ze&&ze.length>2)if(ze=Me(ze),43===(Ye=Pe(ze,0))||45===Ye){if(88===(He=Pe(ze,2))||120===He)return NaN}else if(48===Ye){switch(Pe(ze,1)){case 66:case 98:Xe=2,tt=49;break;case 79:case 111:Xe=8,tt=55;break;default:return+ze}for(wt=(ft=le(ze,2)).length,Ot=0;Ot<wt;Ot++)if((Fe=Pe(ft,Ot))<48||Fe>tt)return NaN;return parseInt(ft,Xe)}return+ze};if(A(ge,!be(" 0o1")||!be("0b1")||be("+0x1"))){for(var ke,te=function(ze){var Ye=arguments.length<1?0:be(oe(ze)),He=this;return $(de,He)&&Y(function(){re(He)})?L(Object(Ye),He,te):Ye},fe=b?J(be):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0;fe.length>ve;ve++)B(be,ke=fe[ve])&&!B(te,ke)&&ae(te,ke,ne(be,ke));te.prototype=de,de.constructor=te,C(y,ge,te)}},function(j,N,a){a(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(j,N,a){var b=a(7),y=a(15),P=a(18),A=a(50),C=b.Object,B=y("".split);j.exports=P(function(){return!C("z").propertyIsEnumerable(0)})?function(L){return"String"==A(L)?B(L,""):C(L)}:C},function(j,N){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{"object"==typeof window&&(a=window)}j.exports=a},function(j,N,a){var b=a(27),y=a(54),P=a(37),A=b("unscopables"),C=Array.prototype;null==C[A]&&P.f(C,A,{configurable:!0,value:y(null)}),j.exports=function(B){C[A][B]=!0}},function(j,N,a){var b=a(64),y=a(107);(j.exports=function(P,A){return y[P]||(y[P]=void 0!==A?A:{})})("versions",[]).push({version:"3.19.3",mode:b?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},function(j,N,a){var b=a(15),y=0,P=Math.random(),A=b(1..toString);j.exports=function(C){return"Symbol("+(void 0===C?"":C)+")_"+A(++y+P,36)}},function(j,N,a){var b=a(7),y=a(33),P=b.document,A=y(P)&&y(P.createElement);j.exports=function(C){return A?P.createElement(C):{}}},function(j,N,a){var b=a(130),y=a(88);j.exports=function(P){var A=b(P,"string");return y(A)?A:A+""}},function(j,N,a){var b=a(7),y=a(46),P=a(28),A=a(58),C=a(128),B=b.Object;j.exports=C?function(L){return"symbol"==typeof L}:function(L){var $=y("Symbol");return P($)&&A($.prototype,B(L))}},function(j,N,a){var y=a(7).String;j.exports=function(P){try{return y(P)}catch{return"Object"}}},function(j,N,a){var b=a(68),y=Math.min;j.exports=function(P){return P>0?y(b(P),9007199254740991):0}},function(j,N,a){var b=a(84),y=a(85),P=b("keys");j.exports=function(A){return P[A]||(P[A]=y(A))}},function(j,N,a){var b=a(15),y=a(28),P=a(107),A=b(Function.toString);y(P.inspectSource)||(P.inspectSource=function(C){return A(C)}),j.exports=P.inspectSource},function(j,N,a){"use strict";var b={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,P=y&&!b.call({1:2},1);N.f=P?function(C){var B=y(this,C);return!!B&&B.enumerable}:b},function(j,N,a){var b=a(36),y=a(34),P=Function.prototype,A=b&&Object.getOwnPropertyDescriptor,C=y(P,"name"),B=C&&"something"===function(){}.name,L=C&&(!b||b&&A(P,"name").configurable);j.exports={EXISTS:C,PROPER:B,CONFIGURABLE:L}},function(j,N,a){var b=a(18),y=a(28),P=/#|\.prototype\./,A=function(X,Q){var Y=B[C(X)];return Y==$||Y!=L&&(y(Q)?b(Q):!!Q)},C=A.normalize=function(X){return String(X).replace(P,".").toLowerCase()},B=A.data={},L=A.NATIVE="N",$=A.POLYFILL="P";j.exports=A},function(j,N,a){var b=a(7),y=a(34),P=a(28),A=a(38),C=a(91),B=a(137),L=C("IE_PROTO"),$=b.Object,X=$.prototype;j.exports=B?$.getPrototypeOf:function(Q){var Y=A(Q);if(y(Y,L))return Y[L];var J=Y.constructor;return P(J)&&Y instanceof J?J.prototype:Y instanceof $?X:null}},function(j,N,a){var b=a(15),y=a(32),P=a(172);j.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var B,A=!1,C={};try{(B=b(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(C,[]),A=C instanceof Array}catch{}return function($,X){return y($),P(X),A?B($,X):$.__proto__=X,$}}():void 0)},function(j,N,a){var b=a(7),y=a(116),P=a(28),A=a(50),B=a(27)("toStringTag"),L=b.Object,$="Arguments"==A(function(){return arguments}());j.exports=y?A:function(Q){var Y,J,ne;return void 0===Q?"Undefined":null===Q?"Null":"string"==typeof(J=function(Q,Y){try{return Q[Y]}catch{}}(Y=L(Q),B))?J:$?A(Y):"Object"==(ne=A(Y))&&P(Y.callee)?"Arguments":ne}},function(j,N,a){var b=a(50);j.exports=Array.isArray||function(P){return"Array"==b(P)}},function(j,N,a){var b=a(15),y=a(18),P=a(28),A=a(98),C=a(46),B=a(92),L=function(){},$=[],X=C("Reflect","construct"),Q=/^\s*(?:class|function)\b/,Y=b(Q.exec),J=!Q.exec(L),ne=function(re){if(!P(re))return!1;try{return X(L,$,re),!0}catch{return!1}};j.exports=!X||y(function(){var re;return ne(ne.call)||!ne(Object)||!ne(function(){re=!0})||re})?function(re){if(!P(re))return!1;switch(A(re)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return J||!!Y(Q,B(re))}:ne},function(j,N,a){var b=a(15);j.exports=b([].slice)},function(j,N,a){"use strict";var Pe,oe,b=a(35),y=a(15),P=a(40),A=a(184),C=a(151),B=a(84),L=a(54),$=a(56).get,X=a(185),Q=a(186),Y=B("native-string-replace",String.prototype.replace),J=RegExp.prototype.exec,ne=J,ae=y("".charAt),re=y("".indexOf),Me=y("".replace),ge=y("".slice),be=(oe=/b*/g,b(J,Pe=/a/,"a"),b(J,oe,"a"),0!==Pe.lastIndex||0!==oe.lastIndex),de=C.BROKEN_CARET,Ae=void 0!==/()??/.exec("")[1];(be||Ae||de||X||Q)&&(ne=function(oe){var ke,Se,ze,Ye,He,Xe,tt,H=this,te=$(H),fe=P(oe),ve=te.raw;if(ve)return ve.lastIndex=H.lastIndex,ke=b(ne,ve,fe),H.lastIndex=ve.lastIndex,ke;var ft=te.groups,wt=de&&H.sticky,Ot=b(A,H),Fe=H.source,st=0,it=fe;if(wt&&(Ot=Me(Ot,"y",""),-1===re(Ot,"g")&&(Ot+="g"),it=ge(fe,H.lastIndex),H.lastIndex>0&&(!H.multiline||H.multiline&&"\n"!==ae(fe,H.lastIndex-1))&&(Fe="(?: "+Fe+")",it=" "+it,st++),Se=new RegExp("^(?:"+Fe+")",Ot)),Ae&&(Se=new RegExp("^"+Fe+"$(?!\\s)",Ot)),be&&(ze=H.lastIndex),Ye=b(J,wt?Se:H,it),wt?Ye?(Ye.input=ge(Ye.input,st),Ye[0]=ge(Ye[0],st),Ye.index=H.lastIndex,H.lastIndex+=Ye[0].length):H.lastIndex=0:be&&Ye&&(H.lastIndex=H.global?Ye.index+Ye[0].length:ze),Ae&&Ye&&Ye.length>1&&b(Y,Ye[0],Se,function(){for(He=1;He<arguments.length-2;He++)void 0===arguments[He]&&(Ye[He]=void 0)}),Ye&&ft)for(Ye.groups=Xe=L(null),He=0;He<ft.length;He++)Xe[(tt=ft[He])[0]]=Ye[tt[1]];return Ye}),j.exports=ne},function(j,N,a){"use strict";var b=a(16),y=a(7),P=a(67),A=a(68),C=a(43),B=a(38),L=a(119),$=a(61),Q=a(75)("splice"),Y=y.TypeError,J=Math.max,ne=Math.min,ae=9007199254740991,re="Maximum allowed length exceeded";b({target:"Array",proto:!0,forced:!Q},{splice:function(ge,be){var oe,H,te,fe,ve,ke,de=B(this),Ae=C(de),le=P(ge,Ae),Pe=arguments.length;if(0===Pe?oe=H=0:1===Pe?(oe=0,H=Ae-le):(oe=Pe-2,H=ne(J(A(be),0),Ae-le)),Ae+oe-H>ae)throw Y(re);for(te=L(de,H),fe=0;fe<H;fe++)(ve=le+fe)in de&&$(te,fe,de[ve]);if(te.length=H,oe<H){for(fe=le;fe<Ae-H;fe++)ke=fe+oe,(ve=fe+H)in de?de[ke]=de[ve]:delete de[ke];for(fe=Ae;fe>Ae-H+oe;fe--)delete de[fe-1]}else if(oe>H)for(fe=Ae-H;fe>le;fe--)ke=fe+oe-1,(ve=fe+H-1)in de?de[ke]=de[ve]:delete de[ke];for(fe=0;fe<oe;fe++)de[fe+le]=arguments[fe+2];return de.length=Ae-H+oe,te}})},function(j,N,a){"use strict";var b=a(16),y=a(201);b({target:"String",proto:!0,forced:a(202)("anchor")},{anchor:function(C){return y(this,"a","name",C)}})},function(j,N,a){"use strict";(function(b){N.a="object"==typeof b&&b&&b.Object===Object&&b}).call(this,a(82))},function(j,N,a){"use strict";(function(b){var y=a(31),P=vn&&!vn.nodeType&&vn,A=P&&"object"==typeof b&&b&&!b.nodeType&&b,B=A&&A.exports===P?y.a.Buffer:void 0,L=B?B.allocUnsafe:void 0;N.a=function $(X,Q){if(Q)return X.slice();var Y=X.length,J=L?L(Y):new X.constructor(Y);return X.copy(J),J}}).call(this,a(121)(j))},function(j,N,a){var b=a(7),y=a(108),P="__core-js_shared__",A=b[P]||y(P,{});j.exports=A},function(j,N,a){var b=a(7),y=Object.defineProperty;j.exports=function(P,A){try{y(b,P,{value:A,configurable:!0,writable:!0})}catch{b[P]=A}return A}},function(j,N,a){var b=a(65),y=a(18);j.exports=!!Object.getOwnPropertySymbols&&!y(function(){var P=Symbol();return!String(P)||!(Object(P)instanceof Symbol)||!Symbol.sham&&b&&b<41})},function(j,N){j.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(j,N,a){"use strict";var b=a(16),y=a(35),P=a(64),A=a(94),C=a(28),B=a(171),L=a(96),$=a(97),X=a(73),Q=a(57),Y=a(44),J=a(27),ne=a(70),ae=a(136),re=A.PROPER,Me=A.CONFIGURABLE,ge=ae.IteratorPrototype,be=ae.BUGGY_SAFARI_ITERATORS,de=J("iterator"),le="values",Pe="entries",oe=function(){return this};j.exports=function(H,te,fe,ve,ke,Se,ze){B(fe,te,ve);var Fe,st,it,Ye=function(Ke){if(Ke===ke&&wt)return wt;if(!be&&Ke in tt)return tt[Ke];switch(Ke){case"keys":case le:case Pe:return function(){return new fe(this,Ke)}}return function(){return new fe(this)}},He=te+" Iterator",Xe=!1,tt=H.prototype,ft=tt[de]||tt["@@iterator"]||ke&&tt[ke],wt=!be&&ft||Ye(ke),Ot="Array"==te&&tt.entries||ft;if(Ot&&(Fe=L(Ot.call(new H)))!==Object.prototype&&Fe.next&&(!P&&L(Fe)!==ge&&($?$(Fe,ge):C(Fe[de])||Y(Fe,de,oe)),X(Fe,He,!0,!0),P&&(ne[He]=oe)),re&&ke==le&&ft&&ft.name!==le&&(!P&&Me?Q(tt,"name",le):(Xe=!0,wt=function(){return y(ft,this)})),ke)if(st={values:Ye(le),keys:Se?wt:Ye("keys"),entries:Ye(Pe)},ze)for(it in st)(be||Xe||!(it in tt))&&Y(tt,it,st[it]);else b({target:te,proto:!0,forced:be||Xe},st);return(!P||ze)&&tt[de]!==wt&&Y(tt,de,wt,{name:ke}),ne[te]=wt,st}},function(j,N){N.f=Object.getOwnPropertySymbols},function(j,N,a){var b=a(7),y=a(67),P=a(43),A=a(61),C=b.Array,B=Math.max;j.exports=function(L,$,X){for(var Q=P(L),Y=y($,Q),J=y(void 0===X?Q:X,Q),ne=C(B(J-Y,0)),ae=0;Y<J;Y++,ae++)A(ne,ae,L[Y]);return ne.length=ae,ne}},function(j,N,a){var b=a(7),y=a(62),P=a(35),A=a(32),C=a(89),B=a(140),L=a(43),$=a(58),X=a(141),Q=a(115),Y=a(142),J=b.TypeError,ne=function(re,Me){this.stopped=re,this.result=Me},ae=ne.prototype;j.exports=function(re,Me,ge){var oe,H,te,fe,ve,ke,Se,de=!(!ge||!ge.AS_ENTRIES),Ae=!(!ge||!ge.IS_ITERATOR),le=!(!ge||!ge.INTERRUPTED),Pe=y(Me,ge&&ge.that),ze=function(He){return oe&&Y(oe,"normal",He),new ne(!0,He)},Ye=function(He){return de?(A(He),le?Pe(He[0],He[1],ze):Pe(He[0],He[1])):le?Pe(He,ze):Pe(He)};if(Ae)oe=re;else{if(!(H=Q(re)))throw J(C(re)+" is not iterable");if(B(H)){for(te=0,fe=L(re);fe>te;te++)if((ve=Ye(re[te]))&&$(ae,ve))return ve;return new ne(!1)}oe=X(re,H)}for(ke=oe.next;!(Se=P(ke,oe)).done;){try{ve=Ye(Se.value)}catch(He){Y(oe,"throw",He)}if("object"==typeof ve&&ve&&$(ae,ve))return ve}return new ne(!1)}},function(j,N,a){var b=a(98),y=a(59),P=a(70),C=a(27)("iterator");j.exports=function(B){if(null!=B)return y(B,C)||y(B,"@@iterator")||P[b(B)]}},function(j,N,a){var P={};P[a(27)("toStringTag")]="z",j.exports="[object z]"===String(P)},function(j,N,a){var b=a(7),y=a(58),P=b.TypeError;j.exports=function(A,C){if(y(C,A))return A;throw P("Incorrect invocation")}},function(j,N,a){var y=a(27)("iterator"),P=!1;try{var A=0,C={next:function(){return{done:!!A++}},return:function(){P=!0}};C[y]=function(){return this},Array.from(C,function(){throw 2})}catch{}j.exports=function(B,L){if(!L&&!P)return!1;var $=!1;try{var X={};X[y]=function(){return{next:function(){return{done:$=!0}}}},B(X)}catch{}return $}},function(j,N,a){var b=a(180);j.exports=function(y,P){return new(b(y))(0===P?0:P)}},function(j,N,a){"use strict";var b=a(18);j.exports=function(y,P){var A=[][y];return!!A&&b(function(){A.call(null,P||function(){throw 1},1)})}},function(j,N){j.exports=function(a){if(!a.webpackPolyfill){var b=Object.create(a);b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),Object.defineProperty(b,"exports",{enumerable:!0}),b.webpackPolyfill=1}return b}},function(j,N,a){"use strict";a(19);var b=a(15),y=a(44),P=a(102),A=a(18),C=a(27),B=a(57),L=C("species"),$=RegExp.prototype;j.exports=function(X,Q,Y,J){var ne=C(X),ae=!A(function(){var be={};return be[ne]=function(){return 7},7!=""[X](be)}),re=ae&&!A(function(){var be=!1,de=/a/;return"split"===X&&((de={}).constructor={},de.constructor[L]=function(){return de},de.flags="",de[ne]=/./[ne]),de.exec=function(){return be=!0,null},de[ne](""),!be});if(!ae||!re||Y){var Me=b(/./[ne]),ge=Q(ne,""[X],function(be,de,Ae,le,Pe){var oe=b(be),H=de.exec;return H===P||H===$.exec?ae&&!Pe?{done:!0,value:Me(de,Ae,le)}:{done:!0,value:oe(Ae,de,le)}:{done:!1}});y(String.prototype,X,ge[0]),y($,ne,ge[1])}J&&B($[ne],"sham",!0)}},function(j,N,a){"use strict";var b=a(146).charAt;j.exports=function(y,P,A){return P+(A?b(y,P).length:1)}},function(j,N,a){var b=a(7),y=a(35),P=a(32),A=a(28),C=a(50),B=a(102),L=b.TypeError;j.exports=function($,X){var Q=$.exec;if(A(Q)){var Y=y(Q,$,X);return null!==Y&&P(Y),Y}if("RegExp"===C($))return y(B,$,X);throw L("RegExp#exec called on incompatible receiver")}},function(j,N,a){"use strict";var b=a(76),y=a(35),P=a(15),A=a(122),C=a(18),B=a(32),L=a(28),$=a(68),X=a(90),Q=a(40),Y=a(45),J=a(123),ne=a(59),ae=a(197),re=a(124),ge=a(27)("replace"),be=Math.max,de=Math.min,Ae=P([].concat),le=P([].push),Pe=P("".indexOf),oe=P("".slice),H=function(ke){return void 0===ke?ke:String(ke)},te="$0"==="a".replace(/./,"$0"),fe=!!/./[ge]&&""===/./[ge]("a","$0");A("replace",function(ke,Se,ze){var Ye=fe?"$":"$0";return[function(Xe,tt){var ft=Y(this),wt=null==Xe?void 0:ne(Xe,ge);return wt?y(wt,Xe,ft,tt):y(Se,Q(ft),Xe,tt)},function(He,Xe){var tt=B(this),ft=Q(He);if("string"==typeof Xe&&-1===Pe(Xe,Ye)&&-1===Pe(Xe,"$<")){var wt=ze(Se,tt,ft,Xe);if(wt.done)return wt.value}var Ot=L(Xe);Ot||(Xe=Q(Xe));var Fe=tt.global;if(Fe){var st=tt.unicode;tt.lastIndex=0}for(var it=[];;){var Ke=re(tt,ft);if(null===Ke||(le(it,Ke),!Fe))break;""===Q(Ke[0])&&(tt.lastIndex=J(ft,X(tt.lastIndex),st))}for(var ee="",ie=0,Te=0;Te<it.length;Te++){for(var $e=Q((Ke=it[Te])[0]),we=be(de($(Ke.index),ft.length),0),gt=[],ht=1;ht<Ke.length;ht++)le(gt,H(Ke[ht]));var pt=Ke.groups;if(Ot){var xt=Ae([$e],gt,we,ft);void 0!==pt&&le(xt,pt);var De=Q(b(Xe,void 0,xt))}else De=ae($e,ft,we,gt,pt,Xe);we>=ie&&(ee+=oe(ft,ie,we)+De,ie=we+$e.length)}return ee+oe(ft,ie)}]},!!C(function(){var ke=/./;return ke.exec=function(){var Se=[];return Se.groups={a:"7"},Se},"7"!=="".replace(ke,"$<a>")})||!te||fe)},function(j,N,a){var b=a(50),y=a(7);j.exports="process"==b(y.process)},function(j,N,a){a(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(j,N,a){var b=a(109);j.exports=b&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(j,N,a){var b=a(36),y=a(18),P=a(86);j.exports=!b&&!y(function(){return 7!=Object.defineProperty(P("div"),"a",{get:function(){return 7}}).a})},function(j,N,a){var b=a(7),y=a(35),P=a(33),A=a(88),C=a(59),B=a(169),L=a(27),$=b.TypeError,X=L("toPrimitive");j.exports=function(Q,Y){if(!P(Q)||A(Q))return Q;var ne,J=C(Q,X);if(J){if(void 0===Y&&(Y="default"),ne=y(J,Q,Y),!P(ne)||A(ne))return ne;throw $("Can't convert object to primitive value")}return void 0===Y&&(Y="number"),B(Q,Y)}},function(j,N,a){var b=a(15),y=a(34),P=a(39),A=a(132).indexOf,C=a(69),B=b([].push);j.exports=function(L,$){var J,X=P(L),Q=0,Y=[];for(J in X)!y(C,J)&&y(X,J)&&B(Y,J);for(;$.length>Q;)y(X,J=$[Q++])&&(~A(Y,J)||B(Y,J));return Y}},function(j,N,a){var b=a(39),y=a(67),P=a(43),A=function(C){return function(B,L,$){var J,X=b(B),Q=P(X),Y=y($,Q);if(C&&L!=L){for(;Q>Y;)if((J=X[Y++])!=J)return!0}else for(;Q>Y;Y++)if((C||Y in X)&&X[Y]===L)return C||Y||0;return!C&&-1}};j.exports={includes:A(!0),indexOf:A(!1)}},function(j,N,a){var b=a(46);j.exports=b("document","documentElement")},function(j,N,a){var b=a(34),y=a(135),P=a(51),A=a(37);j.exports=function(C,B){for(var L=y(B),$=A.f,X=P.f,Q=0;Q<L.length;Q++){var Y=L[Q];b(C,Y)||$(C,Y,X(B,Y))}}},function(j,N,a){var b=a(46),y=a(15),P=a(72),A=a(112),C=a(32),B=y([].concat);j.exports=b("Reflect","ownKeys")||function($){var X=P.f(C($)),Q=A.f;return Q?B(X,Q($)):X}},function(j,N,a){"use strict";var Q,Y,J,b=a(18),y=a(28),P=a(54),A=a(96),C=a(44),B=a(27),L=a(64),$=B("iterator"),X=!1;[].keys&&("next"in(J=[].keys())?(Y=A(A(J)))!==Object.prototype&&(Q=Y):X=!0),null==Q||b(function(){var ae={};return Q[$].call(ae)!==ae})?Q={}:L&&(Q=P(Q)),y(Q[$])||C(Q,$,function(){return this}),j.exports={IteratorPrototype:Q,BUGGY_SAFARI_ITERATORS:X}},function(j,N,a){var b=a(18);j.exports=!b(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},function(j,N,a){var b=a(16),y=a(15),P=a(69),A=a(33),C=a(34),B=a(37).f,L=a(72),$=a(139),X=a(174),Q=a(85),Y=a(176),J=!1,ne=Q("meta"),ae=0,re=function(le){B(le,ne,{value:{objectID:"O"+ae++,weakData:{}}})},Ae=j.exports={enable:function(){Ae.enable=function(){},J=!0;var le=L.f,Pe=y([].splice),oe={};oe[ne]=1,le(oe).length&&(L.f=function(H){for(var te=le(H),fe=0,ve=te.length;fe<ve;fe++)if(te[fe]===ne){Pe(te,fe,1);break}return te},b({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:$.f}))},fastKey:function(le,Pe){if(!A(le))return"symbol"==typeof le?le:("string"==typeof le?"S":"P")+le;if(!C(le,ne)){if(!X(le))return"F";if(!Pe)return"E";re(le)}return le[ne].objectID},getWeakData:function(le,Pe){if(!C(le,ne)){if(!X(le))return!0;if(!Pe)return!1;re(le)}return le[ne].weakData},onFreeze:function(le){return Y&&J&&X(le)&&!C(le,ne)&&re(le),le}};P[ne]=!0},function(j,N,a){var b=a(50),y=a(39),P=a(72).f,A=a(113),C="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];j.exports.f=function($){return C&&"Window"==b($)?function(L){try{return P(L)}catch{return A(C)}}($):P(y($))}},function(j,N,a){var b=a(27),y=a(70),P=b("iterator"),A=Array.prototype;j.exports=function(C){return void 0!==C&&(y.Array===C||A[P]===C)}},function(j,N,a){var b=a(7),y=a(35),P=a(55),A=a(32),C=a(89),B=a(115),L=b.TypeError;j.exports=function($,X){var Q=arguments.length<2?B($):X;if(P(Q))return A(y(Q,$));throw L(C($)+" is not iterable")}},function(j,N,a){var b=a(35),y=a(32),P=a(59);j.exports=function(A,C,B){var L,$;y(A);try{if(!(L=P(A,"return"))){if("throw"===C)throw B;return B}L=b(L,A)}catch(X){$=!0,L=X}if("throw"===C)throw B;if($)throw L;return y(L),B}},function(j,N,a){var b=a(28),y=a(33),P=a(97);j.exports=function(A,C,B){var L,$;return P&&b(L=C.constructor)&&L!==B&&y($=L.prototype)&&$!==B.prototype&&P(A,$),A}},function(j,N,a){var b=a(44);j.exports=function(y,P,A){for(var C in P)b(y,C,P[C],A);return y}},function(j,N,a){"use strict";var b=a(46),y=a(37),P=a(27),A=a(36),C=P("species");j.exports=function(B){var L=b(B);A&&L&&!L[C]&&(0,y.f)(L,C,{configurable:!0,get:function(){return this}})}},function(j,N,a){var b=a(15),y=a(68),P=a(40),A=a(45),C=b("".charAt),B=b("".charCodeAt),L=b("".slice),$=function(X){return function(Q,Y){var re,Me,J=P(A(Q)),ne=y(Y),ae=J.length;return ne<0||ne>=ae?X?"":void 0:(re=B(J,ne))<55296||re>56319||ne+1===ae||(Me=B(J,ne+1))<56320||Me>57343?X?C(J,ne):re:X?L(J,ne,ne+2):Me-56320+(re-55296<<10)+65536}};j.exports={codeAt:$(!1),charAt:$(!0)}},function(j,N){j.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(j,N,a){var y=a(86)("span").classList,P=y&&y.constructor&&y.constructor.prototype;j.exports=P===Object.prototype?void 0:P},function(j,N,a){var b=a(27);N.f=b},function(j,N,a){var b=a(181),y=a(34),P=a(149),A=a(37).f;j.exports=function(C){var B=b.Symbol||(b.Symbol={});y(B,C)||A(B,C,{value:P.f(C)})}},function(j,N,a){var b=a(18),P=a(7).RegExp,A=b(function(){var L=P("a","y");return L.lastIndex=2,null!=L.exec("abcd")}),C=A||b(function(){return!P("a","y").sticky}),B=A||b(function(){var L=P("^r","gy");return L.lastIndex=2,null!=L.exec("str")});j.exports={BROKEN_CARET:B,MISSED_STICKY:C,UNSUPPORTED_Y:A}},function(j,N,a){"use strict";var b=a(16),y=a(132).includes,P=a(83);b({target:"Array",proto:!0},{includes:function(C){return y(this,C,arguments.length>1?arguments[1]:void 0)}}),P("includes")},function(j,N,a){"use strict";var b=a(16),y=a(15),P=a(193),A=a(45),C=a(40),B=a(194),L=y("".indexOf);b({target:"String",proto:!0,forced:!B("includes")},{includes:function(X){return!!~L(C(A(this)),C(P(X)),arguments.length>1?arguments[1]:void 0)}})},function(j,N,a){var b=a(33),y=a(50),A=a(27)("match");j.exports=function(C){var B;return b(C)&&(void 0!==(B=C[A])?!!B:"RegExp"==y(C))}},function(j,N){var b,y,a=j.exports={};function P(){throw new Error("setTimeout has not been defined")}function A(){throw new Error("clearTimeout has not been defined")}function C(re){if(b===setTimeout)return setTimeout(re,0);if((b===P||!b)&&setTimeout)return b=setTimeout,setTimeout(re,0);try{return b(re,0)}catch{try{return b.call(null,re,0)}catch{return b.call(this,re,0)}}}!function(){try{b="function"==typeof setTimeout?setTimeout:P}catch{b=P}try{y="function"==typeof clearTimeout?clearTimeout:A}catch{y=A}}();var X,L=[],$=!1,Q=-1;function Y(){!$||!X||($=!1,X.length?L=X.concat(L):Q=-1,L.length&&J())}function J(){if(!$){var re=C(Y);$=!0;for(var Me=L.length;Me;){for(X=L,L=[];++Q<Me;)X&&X[Q].run();Q=-1,Me=L.length}X=null,$=!1,function B(re){if(y===clearTimeout)return clearTimeout(re);if((y===A||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(re);try{return y(re)}catch{try{return y.call(null,re)}catch{return y.call(this,re)}}}(re)}}function ne(re,Me){this.fun=re,this.array=Me}function ae(){}a.nextTick=function(re){var Me=new Array(arguments.length-1);if(arguments.length>1)for(var ge=1;ge<arguments.length;ge++)Me[ge-1]=arguments[ge];L.push(new ne(re,Me)),1===L.length&&!$&&C(J)},ne.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=ae,a.addListener=ae,a.once=ae,a.off=ae,a.removeListener=ae,a.removeAllListeners=ae,a.emit=ae,a.prependListener=ae,a.prependOnceListener=ae,a.listeners=function(re){return[]},a.binding=function(re){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(re){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(j,N,a){var b=a(32),y=a(157),A=a(27)("species");j.exports=function(C,B){var $,L=b(C).constructor;return void 0===L||null==($=b(L)[A])?B:y($)}},function(j,N,a){var b=a(7),y=a(100),P=a(89),A=b.TypeError;j.exports=function(C){if(y(C))return C;throw A(P(C)+" is not a constructor")}},function(j,N,a){"use strict";var b=a(16),y=a(159).trim;b({target:"String",proto:!0,forced:a(195)("trim")},{trim:function(){return y(this)}})},function(j,N,a){var b=a(15),y=a(45),P=a(40),A=a(160),C=b("".replace),B="["+A+"]",L=RegExp("^"+B+B+"*"),$=RegExp(B+B+"*$"),X=function(Q){return function(Y){var J=P(y(Y));return 1&Q&&(J=C(J,L,"")),2&Q&&(J=C(J,$,"")),J}};j.exports={start:X(1),end:X(2),trim:X(3)}},function(j,N){j.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(j,N,a){"use strict";var b=a(35),y=a(122),P=a(32),A=a(90),C=a(40),B=a(45),L=a(59),$=a(123),X=a(124);y("match",function(Q,Y,J){return[function(ae){var re=B(this),Me=null==ae?void 0:L(ae,Q);return Me?b(Me,ae,re):new RegExp(ae)[Q](C(re))},function(ne){var ae=P(this),re=C(ne),Me=J(Y,ae,re);if(Me.done)return Me.value;if(!ae.global)return X(ae,re);var ge=ae.unicode;ae.lastIndex=0;for(var Ae,be=[],de=0;null!==(Ae=X(ae,re));){var le=C(Ae[0]);be[de]=le,""===le&&(ae.lastIndex=$(re,A(ae.lastIndex),ge)),de++}return 0===de?null:be}]})},function(j,N,a){var Pe,oe,H,te,b=a(7),y=a(76),P=a(62),A=a(28),C=a(34),B=a(18),L=a(133),$=a(101),X=a(86),Q=a(163),Y=a(126),J=b.setImmediate,ne=b.clearImmediate,ae=b.process,re=b.Dispatch,Me=b.Function,ge=b.MessageChannel,be=b.String,de=0,Ae={},le="onreadystatechange";try{Pe=b.location}catch{}var fe=function(ze){if(C(Ae,ze)){var Ye=Ae[ze];delete Ae[ze],Ye()}},ve=function(ze){return function(){fe(ze)}},ke=function(ze){fe(ze.data)},Se=function(ze){b.postMessage(be(ze),Pe.protocol+"//"+Pe.host)};(!J||!ne)&&(J=function(Ye){var He=$(arguments,1);return Ae[++de]=function(){y(A(Ye)?Ye:Me(Ye),void 0,He)},oe(de),de},ne=function(Ye){delete Ae[Ye]},Y?oe=function(ze){ae.nextTick(ve(ze))}:re&&re.now?oe=function(ze){re.now(ve(ze))}:ge&&!Q?(te=(H=new ge).port2,H.port1.onmessage=ke,oe=P(te.postMessage,te)):b.addEventListener&&A(b.postMessage)&&!b.importScripts&&Pe&&"file:"!==Pe.protocol&&!B(Se)?(oe=Se,b.addEventListener("message",ke,!1)):oe=le in X("script")?function(ze){L.appendChild(X("script"))[le]=function(){L.removeChild(this),fe(ze)}}:function(ze){setTimeout(ve(ze),0)}),j.exports={set:J,clear:ne}},function(j,N,a){var b=a(53);j.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(b)},function(j,N,a){"use strict";var b=a(55),y=function(P){var A,C;this.promise=new P(function(B,L){if(void 0!==A||void 0!==C)throw TypeError("Bad Promise constructor");A=B,C=L}),this.resolve=b(A),this.reject=b(C)};j.exports.f=function(P){return new y(P)}},function(j,N,a){"use strict";N.a=function b(){return!1}},function(j,N,a){"use strict";(function(b){a.d(N,"a",function(){return De});var y=a(0);function B(W,U){void 0===U&&(U="Illegal state"),W||function C(W){throw new Error("[mobx-utils] "+W)}(U)}var Q=function(W){return W&&W!==Object.prototype&&Object.getOwnPropertyNames(W).concat(Q(Object.getPrototypeOf(W))||[])},J=function(W){return function(W){var U=Q(W);return U.filter(function(w,I){return U.indexOf(w)===I})}(W).filter(function(U){return"constructor"!==U&&!~U.indexOf("__")})},ne="pending",ae="fulfilled",re="rejected";function Me(W){switch(this.state){case ne:return W.pending&&W.pending(this.value);case re:return W.rejected&&W.rejected(this.value);case ae:return W.fulfilled?W.fulfilled(this.value):this.value}}function ge(W,U){if(B(arguments.length<=2,"fromPromise expects up to two arguments"),B("function"==typeof W||"object"==typeof W&&W&&"function"==typeof W.then,"Please pass a promise or function to fromPromise"),!0===W.isPromiseBasedObservable)return W;"function"==typeof W&&(W=new Promise(W));var x=W;W.then(Object(y.k)("observableFromPromise-resolve",function(I){x.value=I,x.state=ae}),Object(y.k)("observableFromPromise-reject",function(I){x.value=I,x.state=re})),x.isPromiseBasedObservable=!0,x.case=Me;var w=U&&U.state===ae?U.value:void 0;return Object(y.q)(x,{value:w,state:ne},{},{deep:!1}),x}!function(W){W.reject=Object(y.k)("fromPromise.reject",function(x){var w=W(Promise.reject(x));return w.state=re,w.value=x,w}),W.resolve=Object(y.k)("fromPromise.resolve",function U(x){void 0===x&&(x=void 0);var w=W(Promise.resolve(x));return w.state=ae,w.value=x,w})}(ge||(ge={}));var H=function(W,U,x,w){var Ce,I=arguments.length,K=I<3?U:null===w?w=Object.getOwnPropertyDescriptor(U,x):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(W,U,x,w);else for(var Ne=W.length-1;Ne>=0;Ne--)(Ce=W[Ne])&&(K=(I<3?Ce(K):I>3?Ce(U,x,K):Ce(U,x))||K);return I>3&&K&&Object.defineProperty(U,x,K),K};!function(){function W(U,x){var w=this;Object(y.G)(function(){w.current=x,w.subscription=U.subscribe(w)})}W.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},W.prototype.next=function(U){this.current=U},W.prototype.complete=function(){this.dispose()},W.prototype.error=function(U){this.current=U,this.dispose()},H([y.C.ref],W.prototype,"current",void 0),H([y.k.bound],W.prototype,"next",null),H([y.k.bound],W.prototype,"complete",null),H([y.k.bound],W.prototype,"error",null)}();var Se=function(){return Se=Object.assign||function(W){for(var U,x=1,w=arguments.length;x<w;x++)for(var I in U=arguments[x])Object.prototype.hasOwnProperty.call(U,I)&&(W[I]=U[I]);return W},Se.apply(this,arguments)},ze=function(W,U,x,w){var Ce,I=arguments.length,K=I<3?U:null===w?w=Object.getOwnPropertyDescriptor(U,x):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(W,U,x,w);else for(var Ne=W.length-1;Ne>=0;Ne--)(Ce=W[Ne])&&(K=(I<3?Ce(K):I>3?Ce(U,x,K):Ce(U,x))||K);return I>3&&K&&Object.defineProperty(U,x,K),K},Ye=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function pt(W){if(!W)return"ROOT";for(var U=[];W.parent;)U.push(W.path),W=W.parent;return U.reverse().join("/")}function xt(W){return Object(y.A)(W)||Object(y.y)(W)||Object(y.z)(W)}function De(W,U){var x=new WeakMap;function w(Ne){var Ze=x.get(Ne.object);(function I(Ne,Ze){switch(Ne.type){case"add":K(Ne.newValue,Ze,Ne.name);break;case"update":Ce(Ne.oldValue),K(Ne.newValue,Ze,Ne.name||""+Ne.index);break;case"remove":case"delete":Ce(Ne.oldValue);break;case"splice":Ne.removed.map(Ce),Ne.added.forEach(function(Ct,Pt){return K(Ct,Ze,""+(Ne.index+Pt))});for(var Je=Ne.index+Ne.addedCount;Je<Ne.object.length;Je++)if(xt(Ne.object[Je])){var at=x.get(Ne.object[Je]);at&&(at.path=""+Je)}}})(Ne,Ze),U(Ne,pt(Ze),W)}function K(Ne,Ze,Je){if(xt(Ne)){var at=x.get(Ne);if(at){if(at.parent!==Ze||at.path!==Je)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+pt(Ze)+"/"+Je+"', but it already exists at '"+pt(at.parent)+"/"+at.path+"'")}else{var Ct={parent:Ze,path:Je,dispose:Object(y.D)(Ne,w)};x.set(Ne,Ct),Object(y.p)(Ne).forEach(function(Pt){return K(Pt[1],Ct,Pt[0])})}}}function Ce(Ne){if(xt(Ne)){var Ze=x.get(Ne);if(!Ze)return;x.delete(Ne),Ze.dispose(),Object(y.L)(Ne).forEach(Ce)}}return K(W,void 0,""),function(){Ce(W)}}!function(){function W(U){var x=this;this.model=U,this.localValues=y.C.map({}),this.localComputedValues=y.C.map({}),this.isPropertyDirty=function(w){return x.localValues.has(w)},B(Object(y.A)(U),"createViewModel expects an observable object"),J(U).forEach(function(w){if(w!==y.a&&"__mobxDidRunLazyInitializers"!==w){if(B(-1===Ye.indexOf(w),"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(y.w)(U,w)){var I=Object(y.h)(U,w).derivation;x.localComputedValues.set(w,Object(y.m)(I.bind(x)))}var K=Object.getOwnPropertyDescriptor(U,w);Object.defineProperty(x,w,Se(Se({},K?{enumerable:K.enumerable}:{}),{configurable:!0,get:function(){return Object(y.w)(U,w)?x.localComputedValues.get(w).get():x.isPropertyDirty(w)?x.localValues.get(w):x.model[w]},set:Object(y.k)(function(Ne){Ne!==x.model[w]?x.localValues.set(w,Ne):x.localValues.delete(w)})}))}})}Object.defineProperty(W.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),W.prototype.submit=function(){var U=this;Object(y.B)(this.localValues).forEach(function(x){var w=U.localValues.get(x),I=U.model[x];Object(y.y)(I)?I.replace(w):Object(y.z)(I)?(I.clear(),I.merge(w)):Object(y.v)(w)||(U.model[x]=w)}),this.localValues.clear()},W.prototype.reset=function(){this.localValues.clear()},W.prototype.resetProperty=function(U){this.localValues.delete(U)},ze([y.m],W.prototype,"isDirty",null),ze([y.m],W.prototype,"changedValues",null),ze([y.k.bound],W.prototype,"submit",null),ze([y.k.bound],W.prototype,"reset",null),ze([y.k.bound],W.prototype,"resetProperty",null)}();var W,Bt=(W=function(U,x){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,I){w.__proto__=I}||function(w,I){for(var K in I)I.hasOwnProperty(K)&&(w[K]=I[K])})(U,x)},function(U,x){function w(){this.constructor=U}W(U,x),U.prototype=null===x?Object.create(x):(w.prototype=x.prototype,new w)});(function(W){function U(x,w,I){var K=void 0===I?{}:I,Ce=K.name,Ne=void 0===Ce?"ogm"+(1e3*Math.random()|0):Ce,Ze=K.keyToName,Je=void 0===Ze?function(Pt){return""+Pt}:Ze,at=W.call(this)||this;at._keyToName=Je,at._groupBy=w,at._ogmInfoKey=Symbol("ogmInfo"+Ne),at._base=x;for(var Ct=0;Ct<x.length;Ct++)at._addItem(x[Ct]);return at._disposeBaseObserver=Object(y.D)(at._base,function(Pt){if("splice"===Pt.type)Object(y.J)(function(){for(var ur=0,Rr=Pt.removed;ur<Rr.length;ur++)at._removeItem(Rr[ur]);for(var Jn=0,fi=Pt.added;Jn<fi.length;Jn++)at._addItem(fi[Jn])});else{if("update"!==Pt.type)throw new Error("illegal state");Object(y.J)(function(){at._removeItem(Pt.oldValue),at._addItem(Pt.newValue)})}}),at}Bt(U,W),U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(x){throw new Error("not supported")},U.prototype.set=function(x,w){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var x=0;x<this._base.length;x++){var w=this._base[x];w[this._ogmInfoKey].reaction(),delete w[this._ogmInfoKey]}},U.prototype._getGroupArr=function(x){var w=W.prototype.get.call(this,x);return void 0===w&&(w=Object(y.C)([],{name:"GroupArray["+this._keyToName(x)+"]",deep:!1}),W.prototype.set.call(this,x,w)),w},U.prototype._removeFromGroupArr=function(x,w){var I=W.prototype.get.call(this,x);1===I.length?W.prototype.delete.call(this,x):(w===I.length-1||(I[w]=I[I.length-1],I[w][this._ogmInfoKey].groupArrIndex=w),I.length--)},U.prototype._addItem=function(x){var w=this,I=this._groupBy(x),K=this._getGroupArr(I),Ce={groupByValue:I,groupArrIndex:K.length,reaction:Object(y.F)(function(){return w._groupBy(x)},function(Ne,Ze){var Je=x[w._ogmInfoKey];w._removeFromGroupArr(Je.groupByValue,Je.groupArrIndex);var at=w._getGroupArr(Ne),Ct=at.length;at.push(x),Je.groupByValue=Ne,Je.groupArrIndex=Ct})};Object.defineProperty(x,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Ce}),K.push(x)},U.prototype._removeItem=function(x){var w=x[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete x[this._ogmInfoKey]}})(y.b),function(){function W(U,x){this.base=U,this.args=x,this.closestIdx=0,this.isDisposed=!1;for(var w=this.closest=this.root=U,I=0;I<this.args.length-1&&(w=w.get(x[I]));I++)this.closest=w;this.closestIdx=I}W.prototype.exists=function(){this.assertNotDisposed();var U=this.args.length;return this.closestIdx>=U-1&&this.closest.has(this.args[U-1])},W.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},W.prototype.set=function(U){this.assertNotDisposed();for(var x=this.args.length,w=this.closest,I=this.closestIdx;I<x-1;I++){var K=new Map;w.set(this.args[I],K),w=K}this.closestIdx=x-1,this.closest=w,w.set(this.args[x-1],U)},W.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var U=this.args.length;this.closest.delete(this.args[U-1]);for(var x=this.root,w=[x],I=0;I<U-1;I++)x=x.get(this.args[I]),w.push(x);for(I=w.length-1;I>0;I--)0===w[I].size&&w[I-1].delete(this.args[I-1]);this.isDisposed=!0},W.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}();Promise.resolve(),typeof queueMicrotask<"u"&&queueMicrotask}).call(this,a(155))},function(j,N,a){var b;!function(y,P,A){if(y){for(var X,C={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},B={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},$={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},Q=1;Q<20;++Q)C[111+Q]="f"+Q;for(Q=0;Q<=9;++Q)C[Q+96]=Q.toString();oe.prototype.bind=function(H,te,fe){return this._bindMultiple.call(this,H=H instanceof Array?H:[H],te,fe),this},oe.prototype.unbind=function(H,te){return this.bind.call(this,H,function(){},te)},oe.prototype.trigger=function(H,te){return this._directMap[H+":"+te]&&this._directMap[H+":"+te]({},H),this},oe.prototype.reset=function(){var H=this;return H._callbacks={},H._directMap={},H},oe.prototype.stopCallback=function(H,te){if((" "+te.className+" ").indexOf(" mousetrap ")>-1||Pe(te,this.target))return!1;if("composedPath"in H&&"function"==typeof H.composedPath){var ve=H.composedPath()[0];ve!==H.target&&(te=ve)}return"INPUT"==te.tagName||"SELECT"==te.tagName||"TEXTAREA"==te.tagName||te.isContentEditable},oe.prototype.handleKey=function(){var H=this;return H._handleKey.apply(H,arguments)},oe.addKeycodes=function(H){for(var te in H)H.hasOwnProperty(te)&&(C[te]=H[te]);X=null},oe.init=function(){var H=oe(P);for(var te in H)"_"!==te.charAt(0)&&(oe[te]=function(fe){return function(){return H[fe].apply(H,arguments)}}(te))},oe.init(),y.Mousetrap=oe,j.exports&&(j.exports=oe),void 0!==(b=function(){return oe}.call(N,a,N,j))&&(j.exports=b)}function Y(H,te,fe){H.addEventListener?H.addEventListener(te,fe,!1):H.attachEvent("on"+te,fe)}function J(H){if("keypress"==H.type){var te=String.fromCharCode(H.which);return H.shiftKey||(te=te.toLowerCase()),te}return C[H.which]?C[H.which]:B[H.which]?B[H.which]:String.fromCharCode(H.which).toLowerCase()}function ne(H,te){return H.sort().join(",")===te.sort().join(",")}function ge(H){return"shift"==H||"ctrl"==H||"alt"==H||"meta"==H}function de(H,te,fe){return fe||(fe=function be(){if(!X)for(var H in X={},C)H>95&&H<112||C.hasOwnProperty(H)&&(X[C[H]]=H);return X}()[H]?"keydown":"keypress"),"keypress"==fe&&te.length&&(fe="keydown"),fe}function le(H,te){var fe,ve,ke,Se=[];for(fe=function Ae(H){return"+"===H?["+"]:(H=H.replace(/\+{2}/g,"+plus")).split("+")}(H),ke=0;ke<fe.length;++ke)$[ve=fe[ke]]&&(ve=$[ve]),te&&"keypress"!=te&&L[ve]&&(ve=L[ve],Se.push("shift")),ge(ve)&&Se.push(ve);return{key:ve,modifiers:Se,action:te=de(ve,Se,te)}}function Pe(H,te){return null!==H&&H!==P&&(H===te||Pe(H.parentNode,te))}function oe(H){var te=this;if(H=H||P,!(te instanceof oe))return new oe(H);te.target=H,te._callbacks={},te._directMap={};var ve,fe={},ke=!1,Se=!1,ze=!1;function Ye(Fe){Fe=Fe||{};var it,st=!1;for(it in fe)Fe[it]?st=!0:fe[it]=0;st||(ze=!1)}function He(Fe,st,it,Ke,_,ee){var ie,Te,$e=[],we=it.type;if(!te._callbacks[Fe])return[];for("keyup"==we&&ge(Fe)&&(st=[Fe]),ie=0;ie<te._callbacks[Fe].length;++ie)Te=te._callbacks[Fe][ie],!Ke&&Te.seq&&fe[Te.seq]!=Te.level||we!=Te.action||("keypress"!=we||it.metaKey||it.ctrlKey)&&!ne(st,Te.modifiers)||((!Ke&&Te.combo==_||Ke&&Te.seq==Ke&&Te.level==ee)&&te._callbacks[Fe].splice(ie,1),$e.push(Te));return $e}function Xe(Fe,st,it,Ke){te.stopCallback(st,st.target||st.srcElement,it,Ke)||!1===Fe(st,it)&&(function re(H){H.preventDefault?H.preventDefault():H.returnValue=!1}(st),function Me(H){H.stopPropagation?H.stopPropagation():H.cancelBubble=!0}(st))}function tt(Fe){"number"!=typeof Fe.which&&(Fe.which=Fe.keyCode);var st=J(Fe);if(st){if("keyup"==Fe.type&&ke===st)return void(ke=!1);te.handleKey(st,function ae(H){var te=[];return H.shiftKey&&te.push("shift"),H.altKey&&te.push("alt"),H.ctrlKey&&te.push("ctrl"),H.metaKey&&te.push("meta"),te}(Fe),Fe)}}function wt(Fe,st,it,Ke){function _(we){return function(){ze=we,++fe[Fe],function ft(){clearTimeout(ve),ve=setTimeout(Ye,1e3)}()}}function ee(we){Xe(it,we,Fe),"keyup"!==Ke&&(ke=J(we)),setTimeout(Ye,10)}fe[Fe]=0;for(var ie=0;ie<st.length;++ie){var $e=ie+1===st.length?ee:_(Ke||le(st[ie+1]).action);Ot(st[ie],$e,Ke,Fe,ie)}}function Ot(Fe,st,it,Ke,_){te._directMap[Fe+":"+it]=st;var ie,ee=(Fe=Fe.replace(/\s+/g," ")).split(" ");ee.length>1?wt(Fe,ee,st,it):(ie=le(Fe,it),te._callbacks[ie.key]=te._callbacks[ie.key]||[],He(ie.key,ie.modifiers,{type:ie.action},Ke,Fe,_),te._callbacks[ie.key][Ke?"unshift":"push"]({callback:st,modifiers:ie.modifiers,action:ie.action,seq:Ke,level:_,combo:Fe}))}te._handleKey=function(Fe,st,it){var _,Ke=He(Fe,st,it),ee={},ie=0,Te=!1;for(_=0;_<Ke.length;++_)Ke[_].seq&&(ie=Math.max(ie,Ke[_].level));for(_=0;_<Ke.length;++_)if(Ke[_].seq){if(Ke[_].level!=ie)continue;Te=!0,ee[Ke[_].seq]=1,Xe(Ke[_].callback,it,Ke[_].combo,Ke[_].seq)}else Te||Xe(Ke[_].callback,it,Ke[_].combo);var $e="keypress"==it.type&&Se;it.type==ze&&!ge(Fe)&&!$e&&Ye(ee),Se=Te&&"keydown"==it.type},te._bindMultiple=function(Fe,st,it){for(var Ke=0;Ke<Fe.length;++Ke)Ot(Fe[Ke],st,it)},Y(H,"keypress",tt),Y(H,"keydown",tt),Y(H,"keyup",tt)}}(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(j,N,a){var b=a(36),y=a(37),P=a(32),A=a(39),C=a(66);j.exports=b?Object.defineProperties:function(L,$){P(L);for(var ne,X=A($),Q=C($),Y=Q.length,J=0;Y>J;)y.f(L,ne=Q[J++],X[ne]);return L}},function(j,N,a){var b=a(7),y=a(35),P=a(28),A=a(33),C=b.TypeError;j.exports=function(B,L){var $,X;if("string"===L&&P($=B.toString)&&!A(X=y($,B))||P($=B.valueOf)&&!A(X=y($,B))||"string"!==L&&P($=B.toString)&&!A(X=y($,B)))return X;throw C("Can't convert object to primitive value")}},function(j,N,a){var b=a(7),y=a(28),P=a(92),A=b.WeakMap;j.exports=y(A)&&/native code/.test(P(A))},function(j,N,a){"use strict";var b=a(136).IteratorPrototype,y=a(54),P=a(71),A=a(73),C=a(70),B=function(){return this};j.exports=function(L,$,X,Q){var Y=$+" Iterator";return L.prototype=y(b,{next:P(+!Q,X)}),A(L,Y,!1,!0),C[Y]=B,L}},function(j,N,a){var b=a(7),y=a(28),P=b.String,A=b.TypeError;j.exports=function(C){if("object"==typeof C||y(C))return C;throw A("Can't set "+P(C)+" as a prototype")}},function(j,N,a){"use strict";var b=a(16),y=a(7),P=a(15),A=a(95),C=a(44),B=a(138),L=a(114),$=a(117),X=a(28),Q=a(33),Y=a(18),J=a(118),ne=a(73),ae=a(143);j.exports=function(re,Me,ge){var be=-1!==re.indexOf("Map"),de=-1!==re.indexOf("Weak"),Ae=be?"set":"add",le=y[re],Pe=le&&le.prototype,oe=le,H={},te=function(He){var Xe=P(Pe[He]);C(Pe,He,"add"==He?function(ft){return Xe(this,0===ft?0:ft),this}:"delete"==He?function(tt){return!(de&&!Q(tt))&&Xe(this,0===tt?0:tt)}:"get"==He?function(ft){return de&&!Q(ft)?void 0:Xe(this,0===ft?0:ft)}:"has"==He?function(ft){return!(de&&!Q(ft))&&Xe(this,0===ft?0:ft)}:function(ft,wt){return Xe(this,0===ft?0:ft,wt),this})};if(A(re,!X(le)||!(de||Pe.forEach&&!Y(function(){(new le).entries().next()}))))oe=ge.getConstructor(Me,re,be,Ae),B.enable();else if(A(re,!0)){var ve=new oe,ke=ve[Ae](de?{}:-0,1)!=ve,Se=Y(function(){ve.has(1)}),ze=J(function(He){new le(He)}),Ye=!de&&Y(function(){for(var He=new le,Xe=5;Xe--;)He[Ae](Xe,Xe);return!He.has(-0)});ze||((oe=Me(function(He,Xe){$(He,Pe);var tt=ae(new le,He,oe);return null!=Xe&&L(Xe,tt[Ae],{that:tt,AS_ENTRIES:be}),tt})).prototype=Pe,Pe.constructor=oe),(Se||Ye)&&(te("delete"),te("has"),be&&te("get")),(Ye||ke)&&te(Ae),de&&Pe.clear&&delete Pe.clear}return H[re]=oe,b({global:!0,forced:oe!=le},H),ne(oe,re),de||ge.setStrong(oe,re,be),oe}},function(j,N,a){var b=a(18),y=a(33),P=a(50),A=a(175),C=Object.isExtensible,B=b(function(){C(1)});j.exports=B||A?function($){return!(!y($)||A&&"ArrayBuffer"==P($))&&(!C||C($))}:C},function(j,N,a){var b=a(18);j.exports=b(function(){if("function"==typeof ArrayBuffer){var y=new ArrayBuffer(8);Object.isExtensible(y)&&Object.defineProperty(y,"a",{value:8})}})},function(j,N,a){var b=a(18);j.exports=!b(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(j,N,a){"use strict";var b=a(37).f,y=a(54),P=a(144),A=a(62),C=a(117),B=a(114),L=a(111),$=a(145),X=a(36),Q=a(138).fastKey,Y=a(56),J=Y.set,ne=Y.getterFor;j.exports={getConstructor:function(ae,re,Me,ge){var be=ae(function(oe,H){C(oe,de),J(oe,{type:re,index:y(null),first:void 0,last:void 0,size:0}),X||(oe.size=0),null!=H&&B(H,oe[ge],{that:oe,AS_ENTRIES:Me})}),de=be.prototype,Ae=ne(re),le=function(oe,H,te){var ke,Se,fe=Ae(oe),ve=Pe(oe,H);return ve?ve.value=te:(fe.last=ve={index:Se=Q(H,!0),key:H,value:te,previous:ke=fe.last,next:void 0,removed:!1},fe.first||(fe.first=ve),ke&&(ke.next=ve),X?fe.size++:oe.size++,"F"!==Se&&(fe.index[Se]=ve)),oe},Pe=function(oe,H){var ve,te=Ae(oe),fe=Q(H);if("F"!==fe)return te.index[fe];for(ve=te.first;ve;ve=ve.next)if(ve.key==H)return ve};return P(de,{clear:function(){for(var te=Ae(this),fe=te.index,ve=te.first;ve;)ve.removed=!0,ve.previous&&(ve.previous=ve.previous.next=void 0),delete fe[ve.index],ve=ve.next;te.first=te.last=void 0,X?te.size=0:this.size=0},delete:function(oe){var H=this,te=Ae(H),fe=Pe(H,oe);if(fe){var ve=fe.next,ke=fe.previous;delete te.index[fe.index],fe.removed=!0,ke&&(ke.next=ve),ve&&(ve.previous=ke),te.first==fe&&(te.first=ve),te.last==fe&&(te.last=ke),X?te.size--:H.size--}return!!fe},forEach:function(H){for(var ve,te=Ae(this),fe=A(H,arguments.length>1?arguments[1]:void 0);ve=ve?ve.next:te.first;)for(fe(ve.value,ve.key,this);ve&&ve.removed;)ve=ve.previous},has:function(H){return!!Pe(this,H)}}),P(de,Me?{get:function(H){var te=Pe(this,H);return te&&te.value},set:function(H,te){return le(this,0===H?0:H,te)}}:{add:function(H){return le(this,H=0===H?0:H,H)}}),X&&b(de,"size",{get:function(){return Ae(this).size}}),be},setStrong:function(ae,re,Me){var ge=re+" Iterator",be=ne(re),de=ne(ge);L(ae,re,function(Ae,le){J(this,{type:ge,target:Ae,state:be(Ae),kind:le,last:void 0})},function(){for(var Ae=de(this),le=Ae.kind,Pe=Ae.last;Pe&&Pe.removed;)Pe=Pe.previous;return Ae.target&&(Ae.last=Pe=Pe?Pe.next:Ae.state.first)?"keys"==le?{value:Pe.key,done:!1}:"values"==le?{value:Pe.value,done:!1}:{value:[Pe.key,Pe.value],done:!1}:(Ae.target=void 0,{value:void 0,done:!0})},Me?"entries":"values",!Me,!0),$(re)}}},function(j,N,a){"use strict";var b=a(116),y=a(98);j.exports=b?{}.toString:function(){return"[object "+y(this)+"]"}},function(j,N,a){"use strict";var b=a(74).forEach,P=a(120)("forEach");j.exports=P?[].forEach:function(C){return b(this,C,arguments.length>1?arguments[1]:void 0)}},function(j,N,a){var b=a(7),y=a(99),P=a(100),A=a(33),B=a(27)("species"),L=b.Array;j.exports=function($){var X;return y($)&&(P(X=$.constructor)&&(X===L||y(X.prototype))||A(X)&&null===(X=X[B]))&&(X=void 0),void 0===X?L:X}},function(j,N,a){var b=a(7);j.exports=b},function(j,N,a){"use strict";var b=a(7),y=a(62),P=a(35),A=a(38),C=a(183),B=a(140),L=a(100),$=a(43),X=a(61),Q=a(141),Y=a(115),J=b.Array;j.exports=function(ae){var re=A(ae),Me=L(this),ge=arguments.length,be=ge>1?arguments[1]:void 0,de=void 0!==be;de&&(be=y(be,ge>2?arguments[2]:void 0));var Pe,oe,H,te,fe,ve,Ae=Y(re),le=0;if(!Ae||this==J&&B(Ae))for(Pe=$(re),oe=Me?new this(Pe):J(Pe);Pe>le;le++)ve=de?be(re[le],le):re[le],X(oe,le,ve);else for(fe=(te=Q(re,Ae)).next,oe=Me?new this:[];!(H=P(fe,te)).done;le++)ve=de?C(te,be,[H.value,le],!0):H.value,X(oe,le,ve);return oe.length=le,oe}},function(j,N,a){var b=a(32),y=a(142);j.exports=function(P,A,C,B){try{return B?A(b(C)[0],C[1]):A(C)}catch(L){y(P,"throw",L)}}},function(j,N,a){"use strict";var b=a(32);j.exports=function(){var y=b(this),P="";return y.global&&(P+="g"),y.ignoreCase&&(P+="i"),y.multiline&&(P+="m"),y.dotAll&&(P+="s"),y.unicode&&(P+="u"),y.sticky&&(P+="y"),P}},function(j,N,a){var b=a(18),P=a(7).RegExp;j.exports=b(function(){var A=P(".","s");return!(A.dotAll&&A.exec("\n")&&"s"===A.flags)})},function(j,N,a){var b=a(18),P=a(7).RegExp;j.exports=b(function(){var A=P("(?<a>b)","g");return"b"!==A.exec("b").groups.a||"bc"!=="b".replace(A,"$<a>c")})},function(j,N,a){"use strict";var b=a(16),y=a(15),P=a(55),A=a(38),C=a(43),B=a(40),L=a(18),$=a(188),X=a(120),Q=a(189),Y=a(190),J=a(65),ne=a(191),ae=[],re=y(ae.sort),Me=y(ae.push),ge=L(function(){ae.sort(void 0)}),be=L(function(){ae.sort(null)}),de=X("sort"),Ae=!L(function(){if(J)return J<70;if(!(Q&&Q>3)){if(Y)return!0;if(ne)return ne<603;var H,te,fe,ve,oe="";for(H=65;H<76;H++){switch(te=String.fromCharCode(H),H){case 66:case 69:case 70:case 72:fe=3;break;case 68:case 71:fe=4;break;default:fe=2}for(ve=0;ve<47;ve++)ae.push({k:te+ve,v:fe})}for(ae.sort(function(ke,Se){return Se.v-ke.v}),ve=0;ve<ae.length;ve++)te=ae[ve].k.charAt(0),oe.charAt(oe.length-1)!==te&&(oe+=te);return"DGBEFHACIJK"!==oe}});b({target:"Array",proto:!0,forced:ge||!be||!de||!Ae},{sort:function(H){void 0!==H&&P(H);var te=A(this);if(Ae)return void 0===H?re(te):re(te,H);var ke,Se,fe=[],ve=C(te);for(Se=0;Se<ve;Se++)Se in te&&Me(fe,te[Se]);for($(fe,function(oe){return function(H,te){return void 0===te?-1:void 0===H?1:void 0!==oe?+oe(H,te)||0:B(H)>B(te)?1:-1}}(H)),ke=fe.length,Se=0;Se<ke;)te[Se]=fe[Se++];for(;Se<ve;)delete te[Se++];return te}})},function(j,N,a){var b=a(113),y=Math.floor,P=function(B,L){var $=B.length,X=y($/2);return $<8?A(B,L):C(B,P(b(B,0,X),L),P(b(B,X),L),L)},A=function(B,L){for(var Q,Y,$=B.length,X=1;X<$;){for(Y=X,Q=B[X];Y&&L(B[Y-1],Q)>0;)B[Y]=B[--Y];Y!==X++&&(B[Y]=Q)}return B},C=function(B,L,$,X){for(var Q=L.length,Y=$.length,J=0,ne=0;J<Q||ne<Y;)B[J+ne]=J<Q&&ne<Y?X(L[J],$[ne])<=0?L[J++]:$[ne++]:J<Q?L[J++]:$[ne++];return B};j.exports=P},function(j,N,a){var y=a(53).match(/firefox\/(\d+)/i);j.exports=!!y&&+y[1]},function(j,N,a){var b=a(53);j.exports=/MSIE|Trident/.test(b)},function(j,N,a){var y=a(53).match(/AppleWebKit\/(\d+)\./);j.exports=!!y&&+y[1]},function(j,N,a){"use strict";var b=a(16),y=a(74).find,P=a(83),A="find",C=!0;A in[]&&Array(1)[A](function(){C=!1}),b({target:"Array",proto:!0,forced:C},{find:function(L){return y(this,L,arguments.length>1?arguments[1]:void 0)}}),P(A)},function(j,N,a){var b=a(7),y=a(154),P=b.TypeError;j.exports=function(A){if(y(A))throw P("The method doesn't accept regular expressions");return A}},function(j,N,a){var y=a(27)("match");j.exports=function(P){var A=/./;try{"/./"[P](A)}catch{try{return A[y]=!1,"/./"[P](A)}catch{}}return!1}},function(j,N,a){var b=a(94).PROPER,y=a(18),P=a(160);j.exports=function(C){return y(function(){return!!P[C]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[C]()||b&&P[C].name!==C})}},function(j,N,a){var b=a(15);j.exports=b(1..valueOf)},function(j,N,a){var b=a(15),y=a(38),P=Math.floor,A=b("".charAt),C=b("".replace),B=b("".slice),L=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,$=/\$([$&'`]|\d{1,2})/g;j.exports=function(X,Q,Y,J,ne,ae){var re=Y+X.length,Me=J.length,ge=$;return void 0!==ne&&(ne=y(ne),ge=L),C(ae,ge,function(be,de){var Ae;switch(A(de,0)){case"$":return"$";case"&":return X;case"`":return B(Q,0,Y);case"'":return B(Q,re);case"<":Ae=ne[B(de,1,-1)];break;default:var le=+de;if(0===le)return be;if(le>Me){var Pe=P(le/10);return 0===Pe?be:Pe<=Me?void 0===J[Pe-1]?A(de,1):J[Pe-1]+A(de,1):be}Ae=J[le-1]}return void 0===Ae?"":Ae})}},function(j,N,a){"use strict";var b=a(36),y=a(15),P=a(35),A=a(18),C=a(66),B=a(112),L=a(93),$=a(38),X=a(81),Q=Object.assign,Y=Object.defineProperty,J=y([].concat);j.exports=!Q||A(function(){if(b&&1!==Q({b:1},Q(Y({},"a",{enumerable:!0,get:function(){Y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var ne={},ae={},re=Symbol(),Me="abcdefghijklmnopqrst";return ne[re]=7,Me.split("").forEach(function(ge){ae[ge]=ge}),7!=Q({},ne)[re]||C(Q({},ae)).join("")!=Me})?function(ae,re){for(var Me=$(ae),ge=arguments.length,be=1,de=B.f,Ae=L.f;ge>be;)for(var te,le=X(arguments[be++]),Pe=de?J(C(le),de(le)):C(le),oe=Pe.length,H=0;oe>H;)te=Pe[H++],(!b||P(Ae,le,te))&&(Me[te]=le[te]);return Me}:Q},function(j,N,a){"use strict";var b=a(7),y=a(15),P=a(55),A=a(33),C=a(34),B=a(101),L=b.Function,$=y([].concat),X=y([].join),Q={},Y=function(J,ne,ae){if(!C(Q,ne)){for(var re=[],Me=0;Me<ne;Me++)re[Me]="a["+Me+"]";Q[ne]=L("C,a","return new C("+X(re,",")+")")}return Q[ne](J,ae)};j.exports=L.bind||function(ne){var ae=P(this),re=ae.prototype,Me=B(arguments,1),ge=function(){var de=$(Me,B(arguments));return this instanceof ge?Y(ae,de.length,de):ae.apply(ne,de)};return A(re)&&(ge.prototype=re),ge}},function(j,N,a){var b=a(34);j.exports=function(y){return void 0!==y&&(b(y,"value")||b(y,"writable"))}},function(j,N,a){var b=a(15),y=a(45),P=a(40),A=/"/g,C=b("".replace);j.exports=function(B,L,$,X){var Q=P(y(B)),Y="<"+L;return""!==$&&(Y+=" "+$+'="'+C(P(X),A,"&quot;")+'"'),Y+">"+Q+"</"+L+">"}},function(j,N,a){var b=a(18);j.exports=function(y){return b(function(){var P=""[y]('"');return P!==P.toLowerCase()||P.split('"').length>3})}},function(j,N,a){var b=a(16),y=Math.hypot,P=Math.abs,A=Math.sqrt;b({target:"Math",stat:!0,forced:!!y&&y(1/0,NaN)!==1/0},{hypot:function(L,$){for(var ne,ae,X=0,Q=0,Y=arguments.length,J=0;Q<Y;)J<(ne=P(arguments[Q++]))?(X=X*(ae=J/ne)*ae+1,J=ne):X+=ne>0?(ae=ne/J)*ae:ne;return J===1/0?1/0:J*A(X)}})},function(j,N,a){"use strict";var ct,vt,zt,Ft,b=a(16),y=a(64),P=a(7),A=a(46),C=a(35),B=a(205),L=a(44),$=a(144),X=a(97),Q=a(73),Y=a(145),J=a(55),ne=a(28),ae=a(33),re=a(117),Me=a(92),ge=a(114),be=a(118),de=a(156),Ae=a(162).set,le=a(206),Pe=a(209),oe=a(210),H=a(164),te=a(211),fe=a(56),ve=a(95),ke=a(27),Se=a(212),ze=a(126),Ye=a(65),He=ke("species"),Xe="Promise",tt=fe.getterFor(Xe),ft=fe.set,wt=fe.getterFor(Xe),Ot=B&&B.prototype,Fe=B,st=Ot,it=P.TypeError,Ke=P.document,_=P.process,ee=H.f,ie=ee,Te=!!(Ke&&Ke.createEvent&&P.dispatchEvent),$e=ne(P.PromiseRejectionEvent),we="unhandledrejection",ut=!1,Dt=ve(Xe,function(){var Ve=Me(Fe),ot=Ve!==String(Fe);if(!ot&&66===Ye||y&&!st.finally)return!0;if(Ye>=51&&/native code/.test(Ve))return!1;var Qe=new Fe(function(Rt){Rt(1)}),dt=function(Rt){Rt(function(){},function(){})};return(Qe.constructor={})[He]=dt,!(ut=Qe.then(function(){})instanceof dt)||!ot&&Se&&!$e}),Gt=Dt||!be(function(Ve){Fe.all(Ve).catch(function(){})}),_t=function(Ve){var ot;return!(!ae(Ve)||!ne(ot=Ve.then))&&ot},Ut=function(Ve,ot){if(!Ve.notified){Ve.notified=!0;var Qe=Ve.reactions;le(function(){for(var dt=Ve.value,Tt=1==Ve.state,Rt=0;Qe.length>Rt;){var K,Ce,Ne,W=Qe[Rt++],U=Tt?W.ok:W.fail,x=W.resolve,w=W.reject,I=W.domain;try{U?(Tt||(2===Ve.rejection&&ar(Ve),Ve.rejection=1),!0===U?K=dt:(I&&I.enter(),K=U(dt),I&&(I.exit(),Ne=!0)),K===W.promise?w(it("Promise-chain cycle")):(Ce=_t(K))?C(Ce,K,x,w):x(K)):w(dt)}catch(Ze){I&&!Ne&&I.exit(),w(Ze)}}Ve.reactions=[],Ve.notified=!1,ot&&!Ve.rejection&&vr(Ve)})}},nr=function(Ve,ot,Qe){var dt,Tt;Te?((dt=Ke.createEvent("Event")).promise=ot,dt.reason=Qe,dt.initEvent(Ve,!1,!0),P.dispatchEvent(dt)):dt={promise:ot,reason:Qe},!$e&&(Tt=P["on"+Ve])?Tt(dt):Ve===we&&oe("Unhandled promise rejection",Qe)},vr=function(Ve){C(Ae,P,function(){var Tt,ot=Ve.facade,Qe=Ve.value;if(cr(Ve)&&(Tt=te(function(){ze?_.emit("unhandledRejection",Qe,ot):nr(we,ot,Qe)}),Ve.rejection=ze||cr(Ve)?2:1,Tt.error))throw Tt.value})},cr=function(Ve){return 1!==Ve.rejection&&!Ve.parent},ar=function(Ve){C(Ae,P,function(){var ot=Ve.facade;ze?_.emit("rejectionHandled",ot):nr("rejectionhandled",ot,Ve.value)})},kt=function(Ve,ot,Qe){return function(dt){Ve(ot,dt,Qe)}},Xt=function(Ve,ot,Qe){Ve.done||(Ve.done=!0,Qe&&(Ve=Qe),Ve.value=ot,Ve.state=2,Ut(Ve,!0))},tr=function(Ve,ot,Qe){if(!Ve.done){Ve.done=!0,Qe&&(Ve=Qe);try{if(Ve.facade===ot)throw it("Promise can't be resolved itself");var dt=_t(ot);dt?le(function(){var Tt={done:!1};try{C(dt,ot,kt(tr,Tt,Ve),kt(Xt,Tt,Ve))}catch(Rt){Xt(Tt,Rt,Ve)}}):(Ve.value=ot,Ve.state=1,Ut(Ve,!1))}catch(Tt){Xt({done:!1},Tt,Ve)}}};if(Dt&&(Fe=function(ot){re(this,st),J(ot),C(ct,this);var Qe=tt(this);try{ot(kt(tr,Qe),kt(Xt,Qe))}catch(dt){Xt(Qe,dt)}},(ct=function(ot){ft(this,{type:Xe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=$(st=Fe.prototype,{then:function(ot,Qe){var dt=wt(this),Tt=dt.reactions,Rt=ee(de(this,Fe));return Rt.ok=!ne(ot)||ot,Rt.fail=ne(Qe)&&Qe,Rt.domain=ze?_.domain:void 0,dt.parent=!0,Tt[Tt.length]=Rt,0!=dt.state&&Ut(dt,!1),Rt.promise},catch:function(Ve){return this.then(void 0,Ve)}}),vt=function(){var Ve=new ct,ot=tt(Ve);this.promise=Ve,this.resolve=kt(tr,ot),this.reject=kt(Xt,ot)},H.f=ee=function(Ve){return Ve===Fe||Ve===zt?new vt(Ve):ie(Ve)},!y&&ne(B)&&Ot!==Object.prototype)){Ft=Ot.then,ut||(L(Ot,"then",function(ot,Qe){var dt=this;return new Fe(function(Tt,Rt){C(Ft,dt,Tt,Rt)}).then(ot,Qe)},{unsafe:!0}),L(Ot,"catch",st.catch,{unsafe:!0}));try{delete Ot.constructor}catch{}X&&X(Ot,st)}b({global:!0,wrap:!0,forced:Dt},{Promise:Fe}),Q(Fe,Xe,!1,!0),Y(Xe),zt=A(Xe),b({target:Xe,stat:!0,forced:Dt},{reject:function(ot){var Qe=ee(this);return C(Qe.reject,void 0,ot),Qe.promise}}),b({target:Xe,stat:!0,forced:y||Dt},{resolve:function(ot){return Pe(y&&this===zt?Fe:this,ot)}}),b({target:Xe,stat:!0,forced:Gt},{all:function(ot){var Qe=this,dt=ee(Qe),Tt=dt.resolve,Rt=dt.reject,W=te(function(){var U=J(Qe.resolve),x=[],w=0,I=1;ge(ot,function(K){var Ce=w++,Ne=!1;I++,C(U,Qe,K).then(function(Ze){Ne||(Ne=!0,x[Ce]=Ze,--I||Tt(x))},Rt)}),--I||Tt(x)});return W.error&&Rt(W.value),dt.promise},race:function(ot){var Qe=this,dt=ee(Qe),Tt=dt.reject,Rt=te(function(){var W=J(Qe.resolve);ge(ot,function(U){C(W,Qe,U).then(dt.resolve,Tt)})});return Rt.error&&Tt(Rt.value),dt.promise}})},function(j,N,a){var b=a(7);j.exports=b.Promise},function(j,N,a){var re,Me,ge,be,de,Ae,le,Pe,b=a(7),y=a(62),P=a(51).f,A=a(162).set,C=a(163),B=a(207),L=a(208),$=a(126),X=b.MutationObserver||b.WebKitMutationObserver,Q=b.document,Y=b.process,J=b.Promise,ne=P(b,"queueMicrotask"),ae=ne&&ne.value;ae||(re=function(){var oe,H;for($&&(oe=Y.domain)&&oe.exit();Me;){H=Me.fn,Me=Me.next;try{H()}catch(te){throw Me?be():ge=void 0,te}}ge=void 0,oe&&oe.enter()},C||$||L||!X||!Q?!B&&J&&J.resolve?((le=J.resolve(void 0)).constructor=J,Pe=y(le.then,le),be=function(){Pe(re)}):$?be=function(){Y.nextTick(re)}:(A=y(A,b),be=function(){A(re)}):(de=!0,Ae=Q.createTextNode(""),new X(re).observe(Ae,{characterData:!0}),be=function(){Ae.data=de=!de})),j.exports=ae||function(oe){var H={fn:oe,next:void 0};ge&&(ge.next=H),Me||(Me=H,be()),ge=H}},function(j,N,a){var b=a(53),y=a(7);j.exports=/ipad|iphone|ipod/i.test(b)&&void 0!==y.Pebble},function(j,N,a){var b=a(53);j.exports=/web0s(?!.*chrome)/i.test(b)},function(j,N,a){var b=a(32),y=a(33),P=a(164);j.exports=function(A,C){if(b(A),y(C)&&C.constructor===A)return C;var B=P.f(A);return(0,B.resolve)(C),B.promise}},function(j,N,a){var b=a(7);j.exports=function(y,P){var A=b.console;A&&A.error&&(1==arguments.length?A.error(y):A.error(y,P))}},function(j,N){j.exports=function(a){try{return{error:!1,value:a()}}catch(b){return{error:!0,value:b}}}},function(j,N){j.exports="object"==typeof window},function(j,N,a){var b=a(36),y=a(15),P=a(66),A=a(39),B=y(a(93).f),L=y([].push),$=function(X){return function(Q){for(var Me,Y=A(Q),J=P(Y),ne=J.length,ae=0,re=[];ne>ae;)Me=J[ae++],(!b||B(Y,Me))&&L(re,X?[Me,Y[Me]]:Y[Me]);return re}};j.exports={entries:$(!0),values:$(!1)}},function(j,N,a){"use strict";var b=a(38),y=a(67),P=a(43);j.exports=function(C){for(var B=b(this),L=P(B),$=arguments.length,X=y($>1?arguments[1]:void 0,L),Q=$>2?arguments[2]:void 0,Y=void 0===Q?L:y(Q,L);Y>X;)B[X++]=C;return B}},function(j,N,a){"use strict";a.r(N),a.d(N,"observer",function(){return Dn}),a.d(N,"LogicFlow",function(){return Qc}),a.d(N,"h",function(){return Ee.g}),a.d(N,"LogicFlowUtil",function(){return b}),a.d(N,"BaseNode",function(){return vo}),a.d(N,"RectNode",function(){return dc}),a.d(N,"CircleNode",function(){return vc}),a.d(N,"PolygonNode",function(){return mc}),a.d(N,"DiamondNode",function(){return Ec}),a.d(N,"EllipseNode",function(){return Pc}),a.d(N,"TextNode",function(){return wc}),a.d(N,"HtmlNode",function(){return Nc}),a.d(N,"BaseEdge",function(){return Xa}),a.d(N,"LineEdge",function(){return Fc}),a.d(N,"PolylineEdge",function(){return Hc}),a.d(N,"BezierEdge",function(){return Xc}),a.d(N,"Arrow",function(){return O1}),a.d(N,"BaseEdgeModel",function(){return Ef}),a.d(N,"BezierEdgeModel",function(){return Kf}),a.d(N,"LineEdgeModel",function(){return Da}),a.d(N,"PolylineEdgeModel",function(){return Su}),a.d(N,"BaseNodeModel",function(){return po}),a.d(N,"CircleNodeModel",function(){return ps}),a.d(N,"DiamondNodeModel",function(){return ys}),a.d(N,"EllipseNodeModel",function(){return Os}),a.d(N,"PolygonNodeModel",function(){return Ms}),a.d(N,"RectNodeModel",function(){return Ns}),a.d(N,"TextNodeModel",function(){return Cs}),a.d(N,"HtmlNodeModel",function(){return Ls}),a.d(N,"EditConfigModel",function(){return _d}),a.d(N,"GraphModel",function(){return Kh}),a.d(N,"SnaplineModel",function(){return Vy}),a.d(N,"Keyboard",function(){return nm}),a.d(N,"get",function(){return Av}),a.d(N,"defaults",function(){return Nv});var b={};a.r(b),a.d(b,"createUuid",function(){return ni}),a.d(b,"refreshGraphId",function(){return TP}),a.d(b,"createDrag",function(){return Df}),a.d(b,"StepDrag",function(){return oi});var y=a(0),P=a(10);if(!P.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!y.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var A=a(42),C=Object(A.b)("observerBatching");function B(e){e()}function J(e){return Object(y.t)(e)}var ge,ae=1e4,Me=new Set;function be(){void 0===ge&&(ge=setTimeout(le,1e4))}function le(){ge=void 0;var e=Date.now();Me.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,Me.delete(r))}),Me.size>0&&be()}var H=!1,te=[];var ke={};function Se(e){return"observer"+e}function ze(e,r,t){void 0===r&&(r="observed"),void 0===t&&(t=ke);var i=function fe(e){return function(){H?te.push(e):e()}}((t.useForceUpdate||A.d)()),s=P.d.useRef(null);if(!s.current){var c=new y.c(Se(r),function(){g.mounted?i():(c.dispose(),s.current=null)}),g=function ne(e){return{cleanAt:Date.now()+ae,reaction:e}}(c);s.current=g,function de(e){Me.add(e),be()}(s)}var E=s.current.reaction;return P.d.useDebugValue(E,J),P.d.useEffect(function(){return function Ae(e){Me.delete(e)}(s),s.current?s.current.mounted=!0:(s.current={reaction:new y.c(Se(r),function(){i()}),cleanAt:1/0},i()),function(){s.current.reaction.dispose(),s.current=null}},[]),function ve(e){H=!0,te=[];try{var r=e();H=!1;var t=te.length>0?te:void 0;return P.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{H=!1}}(function(){var T,R;if(E.track(function(){try{T=e()}catch(k){R=k}}),R)throw R;return T})}var Ye=function(){return Ye=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},Ye.apply(this,arguments)};function He(e,r){var i,t=Ye({forwardRef:!1},r),n=e.displayName||e.name,o=function(s,c){return ze(function(){return e(s,c)},n)};return o.displayName=n,i=t.forwardRef?Object(P.f)(Object(P.e)(o)):Object(P.f)(o),function tt(e,r){Object.keys(e).forEach(function(t){Xe[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}(e,i),i.displayName=n,i}var Xe={$$typeof:!0,render:!0,compare:!0,type:!0};function ft(e){var n=e.children||e.render;return"function"!=typeof n?null:ze(n)}function wt(e,r,t,n,o){var s="function"==typeof e[r],c="function"==typeof e["children"===r?"render":"children"];return s&&c?new Error("MobX Observer: Do not use children and render in the same time in`"+t):s||c?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}ft.propTypes={children:wt,render:wt},ft.displayName="Observer",function L(e){e||(e=B),Object(y.n)({reactionScheduler:e}),Object(A.a)()[C]=!0}(P.g);var _=0;var ie={};function Te(e){return ie[e]||(ie[e]=function ee(e){if("function"==typeof Symbol)return Symbol(e);var r="__$mobx-react "+e+" ("+_+")";return _++,r}(e)),ie[e]}function $e(e,r){if(we(e,r))return!0;if("object"!=typeof e||null===e||"object"!=typeof r||null===r)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!we(e[t[o]],r[t[o]]))return!1;return!0}function we(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}function pt(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var xt=Te("patchMixins"),De=Te("patchedDefinition");function ut(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];r.locks++;try{var s;return null!=e&&(s=e.apply(this,o)),s}finally{r.locks--,0===r.locks&&r.methods.forEach(function(c){c.apply(t,o)})}}function ct(e,r){return function(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];ut.call.apply(ut,[this,e,r].concat(i))}}function vt(e,r,t){var n=function Bt(e,r){var t=e[xt]=e[xt]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!o||!o[De]){var s=zt(e,r,o?o.enumerable:void 0,n,e[r]);Object.defineProperty(e,r,s)}}function zt(e,r,t,n,o){var i,s=ct(o,n);return(i={})[De]=!0,i.get=function(){return s},i.set=function(g){if(this===e)s=ct(g,n);else{var E=zt(this,r,t,n,g);Object.defineProperty(this,r,E)}},i.configurable=!0,i.enumerable=t,i}var Ft=y.a||"$mobx",Dt=Te("isMobXReactObserver"),Gt=Te("isUnmounted"),_t=Te("skipRender"),Ut=Te("isForcingUpdate");function nr(e){var r=e.prototype;if(e[Dt]){var t=vr(r);console.warn("The provided component class ("+t+") \n                has already been declared as an observer component.")}else e[Dt]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==P.b)if(r.shouldComponentUpdate){if(r.shouldComponentUpdate!==ar)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else r.shouldComponentUpdate=ar;kt(r,"props"),kt(r,"state");var n=r.render;return r.render=function(){return cr.call(this,n)},vt(r,"componentWillUnmount",function(){var o;if(null===(o=this.render[Ft])||void 0===o||o.dispose(),this[Gt]=!0,!this.render[Ft]){var i=vr(this);console.warn("The reactive render of an observer class component ("+i+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}}),e}function vr(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function cr(e){var r=this;pt(this,_t,!1),pt(this,Ut,!1);var t=vr(this),n=e.bind(this),o=!1,i=new y.c(t+".render()",function(){if(!o&&(o=!0,!0!==r[Gt])){var c=!0;try{pt(r,Ut,!0),r[_t]||P.a.prototype.forceUpdate.call(r),c=!1}finally{pt(r,Ut,!1),c&&i.dispose()}}});function s(){o=!1;var c=void 0,g=void 0;if(i.track(function(){try{g=Object(y.d)(!1,n)}catch(E){c=E}}),c)throw c;return g}return i.reactComponent=this,s[Ft]=i,this.render=s,s.call(this)}function ar(e,r){return this.state!==r||!$e(this.props,e)}function kt(e,r){var t=Te("reactProp_"+r+"_valueHolder"),n=Te("reactProp_"+r+"_atomHolder");function o(){return this[n]||pt(this,n,Object(y.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var s=!1;return y.f&&y.e&&(s=Object(y.f)(!0)),o.call(this).reportObserved(),y.f&&y.e&&Object(y.e)(s),this[t]},set:function(s){this[Ut]||$e(this[t],s)?pt(this,t,s):(pt(this,t,s),pt(this,_t,!0),o.call(this).reportChanged(),pt(this,_t,!1))}})}var Xt="function"==typeof Symbol&&Symbol.for,tr=Xt?Symbol.for("react.forward_ref"):"function"==typeof P.e&&Object(P.e)(function(e){return null}).$$typeof,Ve=Xt?Symbol.for("react.memo"):"function"==typeof P.f&&Object(P.f)(function(e){return null}).$$typeof;function ot(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ve&&e.$$typeof===Ve)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(tr&&e.$$typeof===tr){var r=e.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return Object(P.e)(function(){var n=arguments;return Object(P.c)(ft,null,function(){return r.apply(void 0,n)})})}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(P.a,e)?nr(e):He(e)}if(!P.a)throw new Error("mobx-react requires React to be available");if(!y.C)throw new Error("mobx-react requires mobx to be available");var Ee=a(1);a(3),a(60),a(2),a(6),a(4),a(11),a(41),a(24),a(20),a(5),a(22),a(21),a(23),a(8),a(9),a(17),a(25),a(19),a(29),a(187),a(192),a(103),a(152),a(153);var Go=function Jt(e,r){for(var t=-1,n=null==e?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o};var yn=function Ho(e,r){return e===r||e!=e&&r!=r};var Oo=function tn(e,r){for(var t=e.length;t--;)if(yn(e[t][0],r))return t;return-1},Ir=Array.prototype.splice;var Cn=function ko(e){var r=this.__data__,t=Oo(r,e);return!(t<0||(t==r.length-1?r.pop():Ir.call(r,t,1),--this.size,0))};var Qa=function rn(e){var r=this.__data__,t=Oo(r,e);return t<0?void 0:r[t][1]};var Zr=function rr(e){return Oo(this.__data__,e)>-1};var yi=function Eo(e,r){var t=this.__data__,n=Oo(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this};function gn(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}gn.prototype.clear=function sa(){this.__data__=[],this.size=0},gn.prototype.delete=Cn,gn.prototype.get=Qa,gn.prototype.has=Zr,gn.prototype.set=yi;var nn=gn;var Xo=function gi(){this.__data__=new nn,this.size=0};var mi=function la(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t};var bi=function on(e){return this.__data__.get(e)};var So=function xo(e){return this.__data__.has(e)},Tr=a(31),Or=Tr.a.Symbol,Oi=Object.prototype,Ei=Oi.hasOwnProperty,xi=Oi.toString,mn=Or?Or.toStringTag:void 0;var fa=function Si(e){var r=Ei.call(e,mn),t=e[mn];try{e[mn]=void 0;var n=!0}catch{}var o=xi.call(e);return n&&(r?e[mn]=t:delete e[mn]),o},Pi=Object.prototype.toString;var Po=function Rn(e){return Pi.call(e)},Mi=Or?Or.toStringTag:void 0;var un=function $o(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Mi&&Mi in Object(e)?fa(e):Po(e)};var Pr=function Mo(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)};var e,Yo=function ca(e){if(!Pr(e))return!1;var r=un(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},to=Tr.a["__core-js_shared__"],ro=(e=/[^.]+$/.exec(to&&to.keys&&to.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var no=function Ko(e){return!!ro&&ro in e},In=Function.prototype.toString;var sn=function oo(e){if(null!=e){try{return In.call(e)}catch{}try{return e+""}catch{}}return""},tu=/^\[object .+?Constructor\]$/,Ni=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ln=function Zo(e){return!(!Pr(e)||no(e))&&(Yo(e)?Ni:tu).test(sn(e))};var ha=function ln(e,r){return e?.[r]};var fn=function Jo(e,r){var t=ha(e,r);return Ln(t)?t:void 0},io=fn(Tr.a,"Map"),On=fn(Object,"create");var wo=function ji(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},Lr=Object.prototype.hasOwnProperty;var ao=function Ar(e){var r=this.__data__;if(On){var t=r[e];return"__lodash_hash_undefined__"===t?void 0:t}return Lr.call(r,e)?r[e]:void 0},va=Object.prototype.hasOwnProperty;var ga=function ya(e){var r=this.__data__;return On?void 0!==r[e]:va.call(r,e)};var ma=function cn(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=On&&void 0===r?"__lodash_hash_undefined__":r,this};function Qt(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Qt.prototype.clear=function Qo(){this.__data__=On?On(null):{},this.size=0},Qt.prototype.delete=wo,Qt.prototype.get=ao,Qt.prototype.has=ga,Qt.prototype.set=ma;var Ci=Qt;var lo=function dr(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e};var dn=function ba(e,r){var t=e.__data__;return lo(r)?t["string"==typeof r?"string":"hash"]:t.map};var Ri=function Er(e){var r=dn(this,e).delete(e);return this.size-=r?1:0,r};var h=function Ii(e){return dn(this,e).get(e)};var u=function f(e){return dn(this,e).has(e)};var v=function d(e,r){var t=dn(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this};function m(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}m.prototype.clear=function uo(){this.size=0,this.__data__={hash:new Ci,map:new(io||nn),string:new Ci}},m.prototype.delete=Ri,m.prototype.get=h,m.prototype.has=u,m.prototype.set=v;var S=m;var Z=function z(e,r){var t=this.__data__;if(t instanceof nn){var n=t.__data__;if(!io||n.length<199)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new S(n)}return t.set(e,r),this.size=t.size,this};function F(e){var r=this.__data__=new nn(e);this.size=r.size}F.prototype.clear=Xo,F.prototype.delete=mi,F.prototype.get=bi,F.prototype.has=So,F.prototype.set=Z;var me=F;var rt=function nt(e){return this.__data__.has(e)};function We(e){var r=-1,t=null==e?0:e.length;for(this.__data__=new S;++r<t;)this.add(e[r])}We.prototype.add=We.prototype.push=function Oe(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},We.prototype.has=rt;var l=We;var O=function p(e,r){for(var t=-1,n=null==e?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1};var G=function D(e,r){return e.has(r)};var Ue=function je(e,r,t,n,o,i){var s=1&t,c=e.length,g=r.length;if(c!=g&&!(s&&g>c))return!1;var E=i.get(e),T=i.get(r);if(E&&T)return E==r&&T==e;var R=-1,k=!0,V=2&t?new l:void 0;for(i.set(e,r),i.set(r,e);++R<c;){var ue=e[R],ce=r[R];if(n)var ye=s?n(ce,ue,R,r,e,i):n(ue,ce,R,e,r,i);if(void 0!==ye){if(ye)continue;k=!1;break}if(V){if(!O(r,function(pe,Ge){if(!G(V,Ge)&&(ue===pe||o(ue,pe,t,n,i)))return V.push(Ge)})){k=!1;break}}else if(ue!==ce&&!o(ue,ce,t,n,i)){k=!1;break}}return i.delete(e),i.delete(r),k},bt=Tr.a.Uint8Array;var Yt=function $t(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t};var sr=function Vt(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t},td=Or?Or.prototype:void 0,Xl=td?td.valueOf:void 0;var ym=function vm(e,r,t,n,o,i,s){switch(t){case"[object DataView]":if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=r.byteLength||!i(new bt(e),new bt(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return yn(+e,+r);case"[object Error]":return e.name==r.name&&e.message==r.message;case"[object RegExp]":case"[object String]":return e==r+"";case"[object Map]":var c=Yt;case"[object Set]":if(c||(c=sr),e.size!=r.size&&!(1&n))return!1;var E=s.get(e);if(E)return E==r;n|=2,s.set(e,r);var T=Ue(c(e),c(r),n,o,i,s);return s.delete(e),T;case"[object Symbol]":if(Xl)return Xl.call(e)==Xl.call(r)}return!1};var Ul=function gm(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e},zr=Array.isArray;var rd=function bm(e,r,t){var n=r(e);return zr(e)?n:Ul(n,t(e))};var Em=function Om(e,r){for(var t=-1,n=null==e?0:e.length,o=0,i=[];++t<n;){var s=e[t];r(s,t,e)&&(i[o++]=s)}return i};var nd=function xm(){return[]},Pm=Object.prototype.propertyIsEnumerable,od=Object.getOwnPropertySymbols,Mm=od?function(e){return null==e?[]:(e=Object(e),Em(od(e),function(r){return Pm.call(e,r)}))}:nd,$l=Mm;var Tm=function wm(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n};var zn=function Am(e){return null!=e&&"object"==typeof e};var id=function Dm(e){return zn(e)&&"[object Arguments]"==un(e)},ad=Object.prototype,jm=ad.hasOwnProperty,Cm=ad.propertyIsEnumerable,Rm=id(function(){return arguments}())?id:function(e){return zn(e)&&jm.call(e,"callee")&&!Cm.call(e,"callee")},Sa=Rm,Pa=a(48),Lm=/^(?:0|[1-9]\d*)$/;var iu=function Bm(e,r){var t=typeof e;return!!(r=r??9007199254740991)&&("number"==t||"symbol"!=t&&Lm.test(e))&&e>-1&&e%1==0&&e<r};var Yl=function Fm(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},er={};er["[object Float32Array]"]=er["[object Float64Array]"]=er["[object Int8Array]"]=er["[object Int16Array]"]=er["[object Int32Array]"]=er["[object Uint8Array]"]=er["[object Uint8ClampedArray]"]=er["[object Uint16Array]"]=er["[object Uint32Array]"]=!0,er["[object Arguments]"]=er["[object Array]"]=er["[object ArrayBuffer]"]=er["[object Boolean]"]=er["[object DataView]"]=er["[object Date]"]=er["[object Error]"]=er["[object Function]"]=er["[object Map]"]=er["[object Number]"]=er["[object Object]"]=er["[object RegExp]"]=er["[object Set]"]=er["[object String]"]=er["[object WeakMap]"]=!1;var fb=function lb(e){return zn(e)&&Yl(e.length)&&!!er[un(e)]};var Wl=function cb(e){return function(r){return e(r)}},Li=a(49),ud=Li.a&&Li.a.isTypedArray,Kl=ud?Wl(ud):fb,hb=Object.prototype.hasOwnProperty;var sd=function vb(e,r){var t=zr(e),n=!t&&Sa(e),o=!t&&!n&&Object(Pa.a)(e),i=!t&&!n&&!o&&Kl(e),s=t||n||o||i,c=s?Tm(e.length,String):[],g=c.length;for(var E in e)(r||hb.call(e,E))&&(!s||!("length"==E||o&&("offset"==E||"parent"==E)||i&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||iu(E,g)))&&c.push(E);return c},yb=Object.prototype;var au=function gb(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||yb)};var ld=function mb(e,r){return function(t){return e(r(t))}},Ob=ld(Object.keys,Object),xb=Object.prototype.hasOwnProperty;var Pb=function Sb(e){if(!au(e))return Ob(e);var r=[];for(var t in Object(e))xb.call(e,t)&&"constructor"!=t&&r.push(t);return r};var ei=function Mb(e){return null!=e&&Yl(e.length)&&!Yo(e)};var Bi=function wb(e){return ei(e)?sd(e):Pb(e)};var Vl=function Tb(e){return rd(e,Bi,$l)},Db=Object.prototype.hasOwnProperty;var Cb=function jb(e,r,t,n,o,i){var s=1&t,c=Vl(e),g=c.length;if(g!=Vl(r).length&&!s)return!1;for(var R=g;R--;){var k=c[R];if(!(s?k in r:Db.call(r,k)))return!1}var V=i.get(e),ue=i.get(r);if(V&&ue)return V==r&&ue==e;var ce=!0;i.set(e,r),i.set(r,e);for(var ye=s;++R<g;){var pe=e[k=c[R]],Ge=r[k];if(n)var Le=s?n(Ge,pe,k,r,e,i):n(pe,Ge,k,e,r,i);if(!(void 0===Le?pe===Ge||o(pe,Ge,t,n,i):Le)){ce=!1;break}ye||(ye="constructor"==k)}if(ce&&!ye){var Be=e.constructor,lt=r.constructor;Be!=lt&&"constructor"in e&&"constructor"in r&&!("function"==typeof Be&&Be instanceof Be&&"function"==typeof lt&&lt instanceof lt)&&(ce=!1)}return i.delete(e),i.delete(r),ce},Zl=fn(Tr.a,"DataView"),Jl=fn(Tr.a,"Promise"),Ql=fn(Tr.a,"Set"),_l=fn(Tr.a,"WeakMap"),fd="[object Map]",cd="[object Promise]",dd="[object Set]",pd="[object WeakMap]",hd="[object DataView]",Fb=sn(Zl),Gb=sn(io),Hb=sn(Jl),kb=sn(Ql),Xb=sn(_l),ti=un;(Zl&&ti(new Zl(new ArrayBuffer(1)))!=hd||io&&ti(new io)!=fd||Jl&&ti(Jl.resolve())!=cd||Ql&&ti(new Ql)!=dd||_l&&ti(new _l)!=pd)&&(ti=function(e){var r=un(e),t="[object Object]"==r?e.constructor:void 0,n=t?sn(t):"";if(n)switch(n){case Fb:return hd;case Gb:return fd;case Hb:return cd;case kb:return dd;case Xb:return pd}return r});var Ma=ti,vd="[object Arguments]",yd="[object Array]",uu="[object Object]",gd=Object.prototype.hasOwnProperty;var Wb=function Yb(e,r,t,n,o,i){var s=zr(e),c=zr(r),g=s?yd:Ma(e),E=c?yd:Ma(r),T=(g=g==vd?uu:g)==uu,R=(E=E==vd?uu:E)==uu,k=g==E;if(k&&Object(Pa.a)(e)){if(!Object(Pa.a)(r))return!1;s=!0,T=!1}if(k&&!T)return i||(i=new me),s||Kl(e)?Ue(e,r,t,n,o,i):ym(e,r,g,t,n,o,i);if(!(1&t)){var V=T&&gd.call(e,"__wrapped__"),ue=R&&gd.call(r,"__wrapped__");if(V||ue){var ce=V?e.value():e,ye=ue?r.value():r;return i||(i=new me),o(ce,ye,t,n,i)}}return!!k&&(i||(i=new me),Cb(e,r,t,n,o,i))};var ql=function md(e,r,t,n,o){return e===r||(null==e||null==r||!zn(e)&&!zn(r)?e!=e&&r!=r:Wb(e,r,t,n,md,o))};var Jb=function Zb(e,r,t,n){var o=t.length,i=o,s=!n;if(null==e)return!i;for(e=Object(e);o--;){var c=t[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var g=(c=t[o])[0],E=e[g],T=c[1];if(s&&c[2]){if(void 0===E&&!(g in e))return!1}else{var R=new me;if(n)var k=n(E,T,g,e,r,R);if(!(void 0===k?ql(T,E,3,n,R):k))return!1}}return!0};var bd=function Qb(e){return e==e&&!Pr(e)};var qb=function _b(e){for(var r=Bi(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,bd(o)]}return r};var Od=function eO(e,r){return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in Object(t))}};var rO=function tO(e){var r=qb(e);return 1==r.length&&r[0][2]?Od(r[0][0],r[0][1]):function(t){return t===e||Jb(t,e,r)}};var su=function oO(e){return"symbol"==typeof e||zn(e)&&"[object Symbol]"==un(e)},iO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aO=/^\w*$/;var ef=function uO(e,r){if(zr(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!su(e))||aO.test(e)||!iO.test(e)||null!=r&&e in Object(r)};function tf(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=t.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return t.cache=i.set(o,s)||i,s};return t.cache=new(tf.Cache||S),t}tf.Cache=S;var lO=tf;var pO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hO=/\\(\\)?/g,vO=function cO(e){var r=lO(e,function(n){return 500===t.size&&t.clear(),n}),t=r.cache;return r}(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(pO,function(t,n,o,i){r.push(o?i.replace(hO,"$1"):n||t)}),r}),yO=vO,Ed=Or?Or.prototype:void 0,xd=Ed?Ed.toString:void 0;var mO=function Sd(e){if("string"==typeof e)return e;if(zr(e))return Go(e,Sd)+"";if(su(e))return xd?xd.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var OO=function bO(e){return null==e?"":mO(e)};var lu=function EO(e,r){return zr(e)?e:ef(e,r)?[e]:yO(OO(e))};var wa=function SO(e){if("string"==typeof e||su(e))return e;var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r};var rf=function PO(e,r){for(var t=0,n=(r=lu(r,e)).length;null!=e&&t<n;)e=e[wa(r[t++])];return t&&t==n?e:void 0};var Pd=function MO(e,r,t){var n=null==e?void 0:rf(e,r);return void 0===n?t:n};var TO=function wO(e,r){return null!=e&&r in Object(e)};var NO=function AO(e,r,t){for(var n=-1,o=(r=lu(r,e)).length,i=!1;++n<o;){var s=wa(r[n]);if(!(i=null!=e&&t(e,s)))break;e=e[s]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Yl(o)&&iu(s,o)&&(zr(e)||Sa(e))};var Md=function DO(e,r){return null!=e&&NO(e,r,TO)};var IO=function RO(e,r){return ef(e)&&bd(r)?Od(wa(e),r):function(t){var n=Pd(t,e);return void 0===n&&n===r?Md(t,e):ql(r,n,3)}};var nf=function LO(e){return e};var zO=function BO(e){return function(r){return r?.[e]}};var GO=function FO(e){return function(r){return rf(r,e)}};var kO=function HO(e){return ef(e)?zO(wa(e)):GO(e)};var UO=function XO(e){return"function"==typeof e?e:null==e?nf:"object"==typeof e?zr(e)?IO(e[0],e[1]):rO(e):kO(e)};var wd=function $O(e){return function(r,t,n){for(var o=-1,i=Object(r),s=n(r),c=s.length;c--;){var g=s[e?c:++o];if(!1===t(i[g],g,i))break}return r}}();var _O=function ZO(e,r){return function(t,n){if(null==t)return t;if(!ei(t))return e(t,n);for(var o=t.length,i=r?o:-1,s=Object(t);(r?i--:++i<o)&&!1!==n(s[i],i,s););return t}}(function KO(e,r){return e&&wd(e,r,Bi)});var eE=function qO(e,r){var t=-1,n=ei(e)?Array(e.length):[];return _O(e,function(o,i,s){n[++t]=r(o,i,s)}),n};var fu=function tE(e,r){return(zr(e)?Go:eE)(e,UO(r,3))},rE=function(){try{var e=fn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cu=rE;var of=function nE(e,r,t){"__proto__"==r&&cu?cu(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t},iE=Object.prototype.hasOwnProperty;var du=function aE(e,r,t){var n=e[r];(!iE.call(e,r)||!yn(n,t)||void 0===t&&!(r in e))&&of(e,r,t)};var zi=function uE(e,r,t,n){var o=!t;t||(t={});for(var i=-1,s=r.length;++i<s;){var c=r[i],g=n?n(t[c],e[c],c,t,e):void 0;void 0===g&&(g=e[c]),o?of(t,c,g):du(t,c,g)}return t};var lE=function sE(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)},Td=Math.max;var Ad=function fE(e,r,t){return r=Td(void 0===r?e.length-1:r,0),function(){for(var n=arguments,o=-1,i=Td(n.length-r,0),s=Array(i);++o<i;)s[o]=n[r+o];o=-1;for(var c=Array(r+1);++o<r;)c[o]=n[o];return c[r]=t(s),lE(e,this,c)}};var dE=function cE(e){return function(){return e}},pE=cu?function(e,r){return cu(e,"toString",{configurable:!0,enumerable:!1,value:dE(r),writable:!0})}:nf,gE=Date.now;var Nd=function mE(e){var r=0,t=0;return function(){var n=gE(),o=16-(n-t);if(t=n,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}(pE);var xE=function EE(e,r){return Nd(Ad(e,r,nf),e+"")};var PE=function SE(e,r,t){if(!Pr(t))return!1;var n=typeof r;return!!("number"==n?ei(t)&&iu(r,t.length):"string"==n&&r in t)&&yn(t[r],e)};var Dd=function ME(e){return xE(function(r,t){var n=-1,o=t.length,i=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&PE(t[0],t[1],s)&&(i=o<3?void 0:i,o=1),r=Object(r);++n<o;){var c=t[n];c&&e(r,c,n,i)}return r})},TE=Object.prototype.hasOwnProperty,AE=Dd(function(e,r){if(au(r)||ei(r))zi(r,Bi(r),e);else for(var t in r)TE.call(r,t)&&du(e,t,r[t])}),Fr=AE;var DE=function NE(e,r,t,n){if(!Pr(e))return e;for(var o=-1,i=(r=lu(r,e)).length,s=i-1,c=e;null!=c&&++o<i;){var g=wa(r[o]),E=t;if("__proto__"===g||"constructor"===g||"prototype"===g)return e;if(o!=s){var T=c[g];void 0===(E=n?n(T,g,c):void 0)&&(E=Pr(T)?T:iu(r[o+1])?[]:{})}du(c,g,E),c=c[g]}return e};var CE=function jE(e,r,t){for(var n=-1,o=r.length,i={};++n<o;){var s=r[n],c=rf(e,s);t(c,s)&&DE(i,lu(s,e),c)}return i};var IE=function RE(e,r){return CE(e,r,function(t,n){return Md(e,n)})},jd=Or?Or.isConcatSpreadable:void 0;var BE=function LE(e){return zr(e)||Sa(e)||!!(jd&&e&&e[jd])};var zE=function Cd(e,r,t,n,o){var i=-1,s=e.length;for(t||(t=BE),o||(o=[]);++i<s;){var c=e[i];r>0&&t(c)?r>1?Cd(c,r-1,t,n,o):Ul(o,c):n||(o[o.length]=c)}return o};var GE=function FE(e){return null!=e&&e.length?zE(e,1):[]};var ir,Rd,Id,Ld,Bd,zd,Fd,Gd,Hd,kd,Xd,Ud,$d,Yd,Wd,Kd,Vd,Zd,XE=function HE(e){return Nd(Ad(e,void 0,GE),e+"")}(function(e,r){return null==e?{}:IE(e,r)}),Ta=XE;function Mr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Jd(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qd(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function xr(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var lr,qd,ep,tp,rp,np,op,ip,YE={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},af=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],_d=(ir=function(){function e(r){(function UE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Mr(this,"isSilentMode",Rd,this),Mr(this,"stopZoomGraph",Id,this),Mr(this,"stopScrollGraph",Ld,this),Mr(this,"stopMoveGraph",Bd,this),Mr(this,"adjustEdge",zd,this),Mr(this,"adjustEdgeMiddle",Fd,this),Mr(this,"adjustEdgeStartAndEnd",Gd,this),Mr(this,"adjustNodePosition",Hd,this),Mr(this,"hideAnchors",kd,this),Mr(this,"hoverOutline",Xd,this),Mr(this,"nodeSelectedOutline",Ud,this),Mr(this,"edgeSelectedOutline",$d,this),Mr(this,"nodeTextEdit",Yd,this),Mr(this,"edgeTextEdit",Wd,this),Mr(this,"nodeTextDraggable",Kd,this),Mr(this,"edgeTextDraggable",Vd,this),Mr(this,"autoExpand",Zd,this),Qd(this,"multipleSelectKey",""),Qd(this,"defaultConfig",{}),Fr(this,this.getConfigDetail(r))}return function $E(e,r,t){return r&&Jd(e.prototype,r),t&&Jd(e,t),e}(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);Fr(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,i={};if(!1===n&&Fr(i,this.defaultConfig),!0===n){var s=Ta(YE,af);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Fr(i,s)}!1===o&&Fr(i,{nodeTextEdit:!1,edgeTextEdit:!1});var c=Ta(t,af);return Fr(i,c)}},{key:"getConfig",value:function(){return Ta(this,af)}}]),e}(),Rd=xr(ir.prototype,"isSilentMode",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Id=xr(ir.prototype,"stopZoomGraph",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ld=xr(ir.prototype,"stopScrollGraph",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bd=xr(ir.prototype,"stopMoveGraph",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zd=xr(ir.prototype,"adjustEdge",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fd=xr(ir.prototype,"adjustEdgeMiddle",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gd=xr(ir.prototype,"adjustEdgeStartAndEnd",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hd=xr(ir.prototype,"adjustNodePosition",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kd=xr(ir.prototype,"hideAnchors",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=xr(ir.prototype,"hoverOutline",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ud=xr(ir.prototype,"nodeSelectedOutline",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$d=xr(ir.prototype,"edgeSelectedOutline",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yd=xr(ir.prototype,"nodeTextEdit",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wd=xr(ir.prototype,"edgeTextEdit",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kd=xr(ir.prototype,"nodeTextDraggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=xr(ir.prototype,"edgeTextDraggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=xr(ir.prototype,"autoExpand",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xr(ir.prototype,"updateEditConfig",[y.k],Object.getOwnPropertyDescriptor(ir.prototype,"updateEditConfig"),ir.prototype),ir),Kt=(a(77),(()=>(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Kt||(Kt={})),Kt))()),Ht=(()=>(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(Ht||(Ht={})),Ht))(),pr=(()=>(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(pr||(pr={})),pr))(),At=(()=>(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(At||(At={})),At))(),Zt=(()=>(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Zt||(Zt={})),Zt))(),Wr=(()=>(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"}(Wr||(Wr={})),Wr))();function pu(e,r){return function JE(e){if(Array.isArray(e))return e}(e)||function ZE(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function VE(e,r){if(e){if("string"==typeof e)return ap(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ap(e,r)}}(e,r)||function KE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ri(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function up(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function En(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var qE=(lr=function(){function e(r){(function QE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),sf(this,"MINI_SCALE_SIZE",.2),sf(this,"MAX_SCALE_SIZE",16),ri(this,"SCALE_X",qd,this),ri(this,"SKEW_Y",ep,this),ri(this,"SKEW_X",tp,this),ri(this,"SCALE_Y",rp,this),ri(this,"TRANSLATE_X",np,this),ri(this,"TRANSLATE_Y",op,this),ri(this,"ZOOM_SIZE",ip,this),sf(this,"eventCenter",void 0),this.eventCenter=r}return function _E(e,r,t){return r&&up(e.prototype,r),t&&up(e,t),e}(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=pu(t,2);return[(n[0]-this.TRANSLATE_X)/this.SCALE_X,(n[1]-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=pu(t,2);return[n[0]*this.SCALE_X+this.TRANSLATE_X,n[1]*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var i=pu(t,2);return[i[0]+n/this.SCALE_X,i[1]+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,i=this.SCALE_Y;return!0===t?(o+=this.ZOOM_SIZE,i+=this.ZOOM_SIZE):!1===t?(o-=this.ZOOM_SIZE,i-=this.ZOOM_SIZE):"number"==typeof t&&(o=t,i=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(i-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=i,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(At.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,i){var c=pu(this.CanvasPointToHtmlPoint([t,n]),2),R=i/2-c[1];this.TRANSLATE_X+=o/2-c[0],this.TRANSLATE_Y+=R,this.emitGraphTransform("focusOn")}}]),e}(),qd=En(lr.prototype,"SCALE_X",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ep=En(lr.prototype,"SKEW_Y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tp=En(lr.prototype,"SKEW_X",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rp=En(lr.prototype,"SCALE_Y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),np=En(lr.prototype,"TRANSLATE_X",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),op=En(lr.prototype,"TRANSLATE_Y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ip=En(lr.prototype,"ZOOM_SIZE",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),En(lr.prototype,"zoom",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"zoom"),lr.prototype),En(lr.prototype,"resetZoom",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"resetZoom"),lr.prototype),En(lr.prototype,"translate",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"translate"),lr.prototype),En(lr.prototype,"focusOn",[y.k],Object.getOwnPropertyDescriptor(lr.prototype,"focusOn"),lr.prototype),lr);var tx=function ex(e,r){for(var t=-1,n=null==e?0:e.length;++t<n&&!1!==r(e[t],t,e););return e};var nx=function rx(e,r){return e&&zi(r,Bi(r),e)};var ix=function ox(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r},ux=Object.prototype.hasOwnProperty;var lx=function sx(e){if(!Pr(e))return ix(e);var r=au(e),t=[];for(var n in e)"constructor"==n&&(r||!ux.call(e,n))||t.push(n);return t};var Aa=function fx(e){return ei(e)?sd(e,!0):lx(e)};var dx=function cx(e,r){return e&&zi(r,Aa(r),e)},sp=a(106);var lp=function px(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r};var vx=function hx(e,r){return zi(e,$l(e),r)},lf=ld(Object.getPrototypeOf,Object),mx=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)Ul(r,$l(e)),e=lf(e);return r}:nd,fp=mx;var Ox=function bx(e,r){return zi(e,fp(e),r)};var xx=function Ex(e){return rd(e,Aa,fp)},Px=Object.prototype.hasOwnProperty;var wx=function Mx(e){var r=e.length,t=new e.constructor(r);return r&&"string"==typeof e[0]&&Px.call(e,"index")&&(t.index=e.index,t.input=e.input),t};var ff=function Tx(e){var r=new e.constructor(e.byteLength);return new bt(r).set(new bt(e)),r};var Nx=function Ax(e,r){var t=r?ff(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)},Dx=/\w*$/;var Cx=function jx(e){var r=new e.constructor(e.source,Dx.exec(e));return r.lastIndex=e.lastIndex,r},cp=Or?Or.prototype:void 0,dp=cp?cp.valueOf:void 0;var Ix=function Rx(e){return dp?Object(dp.call(e)):{}};var pp=function Lx(e,r){var t=r?ff(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)};var rS=function tS(e,r,t){var n=e.constructor;switch(r){case"[object ArrayBuffer]":return ff(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Nx(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return pp(e,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Cx(e);case"[object Symbol]":return Ix(e)}},hp=Object.create,nS=function(){function e(){}return function(r){if(!Pr(r))return{};if(hp)return hp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),oS=nS;var vp=function iS(e){return"function"!=typeof e.constructor||au(e)?{}:oS(lf(e))};var sS=function uS(e){return zn(e)&&"[object Map]"==Ma(e)},yp=Li.a&&Li.a.isMap,fS=yp?Wl(yp):sS;var pS=function dS(e){return zn(e)&&"[object Set]"==Ma(e)},gp=Li.a&&Li.a.isSet,vS=gp?Wl(gp):pS,mp="[object Arguments]",bp="[object Function]",Op="[object Object]",qt={};qt[mp]=qt["[object Array]"]=qt["[object ArrayBuffer]"]=qt["[object DataView]"]=qt["[object Boolean]"]=qt["[object Date]"]=qt["[object Float32Array]"]=qt["[object Float64Array]"]=qt["[object Int8Array]"]=qt["[object Int16Array]"]=qt["[object Int32Array]"]=qt["[object Map]"]=qt["[object Number]"]=qt[Op]=qt["[object RegExp]"]=qt["[object Set]"]=qt["[object String]"]=qt["[object Symbol]"]=qt["[object Uint8Array]"]=qt["[object Uint8ClampedArray]"]=qt["[object Uint16Array]"]=qt["[object Uint32Array]"]=!0,qt["[object Error]"]=qt[bp]=qt["[object WeakMap]"]=!1;var XS=function hu(e,r,t,n,o,i){var s,c=1&r,g=2&r,E=4&r;if(t&&(s=o?t(e,n,o,i):t(e)),void 0!==s)return s;if(!Pr(e))return e;var T=zr(e);if(T){if(s=wx(e),!c)return lp(e,s)}else{var R=Ma(e),k=R==bp||"[object GeneratorFunction]"==R;if(Object(Pa.a)(e))return Object(sp.a)(e,c);if(R==Op||R==mp||k&&!o){if(s=g||k?{}:vp(e),!c)return g?Ox(e,dx(s,e)):vx(e,nx(s,e))}else{if(!qt[R])return o?e:{};s=rS(e,R,c)}}i||(i=new me);var V=i.get(e);if(V)return V;i.set(e,s),vS(e)?e.forEach(function(ye){s.add(hu(ye,r,t,ye,e,i))}):fS(e)&&e.forEach(function(ye,pe){s.set(pe,hu(ye,r,t,pe,e,i))});var ce=T?void 0:(E?g?xx:Vl:g?Aa:Bi)(e);return tx(ce||e,function(ye,pe){ce&&(ye=e[pe=ye]),du(s,pe,hu(ye,r,t,pe,e,i))}),s};var or=function YS(e){return XS(e,5)};var cf=function WS(e,r,t){(void 0!==t&&!yn(e[r],t)||void 0===t&&!(r in e))&&of(e,r,t)};var VS=function KS(e){return zn(e)&&ei(e)},Ep=Function.prototype.toString,_S=Object.prototype.hasOwnProperty,qS=Ep.call(Object);var tP=function eP(e){if(!zn(e)||"[object Object]"!=un(e))return!1;var r=lf(e);if(null===r)return!0;var t=_S.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&Ep.call(t)==qS};var df=function rP(e,r){if(("constructor"!==r||"function"!=typeof e[r])&&"__proto__"!=r)return e[r]};var oP=function nP(e){return zi(e,Aa(e))};var aP=function iP(e,r,t,n,o,i,s){var c=df(e,t),g=df(r,t),E=s.get(g);if(E)cf(e,t,E);else{var T=i?i(c,g,t+"",e,r,s):void 0,R=void 0===T;if(R){var k=zr(g),V=!k&&Object(Pa.a)(g),ue=!k&&!V&&Kl(g);T=g,k||V||ue?zr(c)?T=c:VS(c)?T=lp(c):V?(R=!1,T=Object(sp.a)(g,!0)):ue?(R=!1,T=pp(g,!0)):T=[]:tP(g)||Sa(g)?(T=c,Sa(c)?T=oP(c):(!Pr(c)||Yo(c))&&(T=vp(g))):R=!1}R&&(s.set(g,T),o(T,g,n,i,s),s.delete(g)),cf(e,t,T)}};var uP=function xp(e,r,t,n,o){e!==r&&wd(r,function(i,s){if(o||(o=new me),Pr(i))aP(e,r,s,t,xp,n,o);else{var c=n?n(df(e,s),i,s+"",e,r,o):void 0;void 0===c&&(c=i),cf(e,s,c)}},Aa)},sP=Dd(function(e,r,t){uP(e,r,t)}),Sp=sP,lP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Pp=function(r){var t=or(lP);return r&&(t=Sp(t,r)),t};function Mp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}a(78),a(158);var hP=function(){function e(){(function fP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),function dP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}(this,"_events",{})}return function cP(e,r,t){return r&&Mp(e.prototype,r),t&&Mp(e,t),e}(e,[{key:"on",value:function(t,n,o){var i=this;return t?.split(",").forEach(function(s){s=s.trim(),i._events[s]||(i._events[s]=[]),i._events[s].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t?.split(",").forEach(function(i){return i=i.trim(),o.on(i,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t?.split(",").forEach(function(i){var c=o._events["*"]||[],g=function(T){for(var R=T.length,k=0;k<R;k++)if(T[k]){var V=T[k],ue=V.callback;V.once&&(T.splice(k,1),0===T.length&&delete o._events[i],R--,k--),ue.apply(o,[n])}};g(o._events[i]||[]),g(c)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(i){if(n){for(var s=o._events[i]||[],c=s.length,g=0;g<c;g++)s[g].callback===n&&(s.splice(g,1),c--,g--);0===s.length&&delete o._events[i]}else delete o._events[i]}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Ao(e,r){return r*Math.round(e/r)||e}function wp(e,r){return e%r}function pf(e,r){return function mP(e){if(Array.isArray(e))return e}(e)||function gP(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function yP(e,r){if(e){if("string"==typeof e)return Tp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tp(e,r)}}(e,r)||function vP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var vu,hf=function(r,t,n){var o=pf(r,2),i=o[0],s=o[1],c=pf(t,2),g=c[0],E=c[1],T=pf(n,2);return i>g&&i<T[0]&&s>E&&s<T[1]},Ap=function(r,t){var o=!1;switch(t.multipleSelectKey){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1}return o},bP=(a(79),a(161),a(125),a(80),a(30),a(12),a(13),a(14),a(47),new Uint8Array(16));function OP(){if(!vu&&!(vu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vu(bP)}var EP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var SP=function xP(e){return"string"==typeof e&&EP.test(e)},wr=[],vf=0;vf<256;++vf)wr.push((vf+256).toString(16).substr(1));var MP=function PP(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(wr[e[r+0]]+wr[e[r+1]]+wr[e[r+2]]+wr[e[r+3]]+"-"+wr[e[r+4]]+wr[e[r+5]]+"-"+wr[e[r+6]]+wr[e[r+7]]+"-"+wr[e[r+8]]+wr[e[r+9]]+"-"+wr[e[r+10]]+wr[e[r+11]]+wr[e[r+12]]+wr[e[r+13]]+wr[e[r+14]]+wr[e[r+15]]).toLowerCase();if(!SP(t))throw TypeError("Stringified UUID is invalid");return t};var yf=function wP(e,r,t){var n=(e=e||{}).random||(e.rng||OP)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return MP(n)},ni=function(){return yf()},TP=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=r.nodes.reduce(function(o,i){return o[i.id]=t+yf(),i.id=o[i.id],o},{});return r.edges.forEach(function(o){o.id=t+yf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r},AP=(a(104),a(203),function(r,t,n,o){var i=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(0===i)return!1;var s=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/i,c=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/i;return(s-r.x)*(s-t.x)<=0&&(c-r.y)*(c-t.y)<=0&&(s-n.x)*(s-o.x)<=0&&(c-n.y)*(c-o.y)<=0&&{x:s,y:c}}),Na=function(r,t,n){var o=r.x,i=r.y;return(o-t.x)*(o-n.x)<=0&&(i-t.y)*(i-n.y)<=0};function yu(e){return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Np(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Dp(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Np(Object(t),!0).forEach(function(n){NP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Np(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function NP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Re,zp,Fp,Gp,Hp,kp,Xp,Up,$p,Yp,Wp,Kp,Vp,Zp,Jp,Qp,_p,qp,eh,th,gf=function(r){return r.anchors},gu=function(r,t){for(var o,n=t.nodes,i=n.length-1;i>=0;i--){var s=n[i];if(CP(r,s)){var g=jP(r,s);if(g){var E={node:s,anchorIndex:g.index,anchor:g.anchor};(!o||DP(s,o.node,t))&&(o=E)}}}return o},DP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},jP=function(r,t){for(var o,n=gf(t),i=Number.MAX_SAFE_INTEGER,s=0;s<n.length;s++){var c=Fn(r.x,r.y,n[s].x,n[s].y);c<i&&(i=c,o={index:s,anchor:Dp(Dp({},n[s]),{},{x:n[s].x,y:n[s].y,id:n[s].id})})}return o},Fn=function(r,t,n,o){return Math.hypot(r-n,t-o)},No=function(r,t){var n=!1,i=Jr(t);return r.x>=i.minX-0&&r.x<=i.maxX+0&&r.y>=i.minY-0&&r.y<=i.maxY+0&&(n=!0),n},CP=function(r,t){var n=!1,i=Jr(t);return r.x>=i.minX-5&&r.x<=i.maxX+5&&r.y>=i.minY-5&&r.y<=i.maxY+5&&(n=!0),n},Jr=function(r){var t=r.x,n=r.y,o=r.width,i=r.height;return{minX:t-o/2,minY:n-i/2,maxX:t+o/2,maxY:n+i/2,x:t,y:n,width:o,height:i,centerX:t,centerY:n}},jp=function(r,t,n){var i,o=function(r){var n=r.x,o=r.y,i=r.width,s=r.height,c=r.radius;return[{x:n-i/2+c,y:o-s/2+c,r:c},{x:n+i/2-c,y:o-s/2+c,r:c},{x:n-i/2+c,y:o+s/2-c,r:c},{x:n+i/2-c,y:o+s/2-c,r:c}]}(n),s=Number.MAX_SAFE_INTEGER;return o.forEach(function(g){var E=Fn(r.x,r.y,g.x,g.y);E<s&&(s=E,i=g)}),mf(r,t,i)},mf=function(r,t,n){var o,s=n.x,c=n.y,g=n.r;if(t===Zt.HORIZONTAL){var E=s-Math.sqrt(g*g-(r.y-c)*(r.y-c)),T=s+Math.sqrt(g*g-(r.y-c)*(r.y-c));o={x:Math.abs(E-r.x)<Math.abs(T-r.x)?E:T,y:r.y}}else if(t===Zt.VERTICAL){var k=c-Math.sqrt(g*g-(r.x-s)*(r.x-s)),V=c+Math.sqrt(g*g-(r.x-s)*(r.x-s)),ue=Math.abs(k-r.y)<Math.abs(V-r.y)?k:V;o={x:r.x,y:ue}}return o},Cp=function(r,t){var o=!1,s=t.x,c=t.y,g=t.width,E=t.height;return r.y===c+E/2||r.y===c-E/2?o=r.x>t.x-t.width/2+t.radius&&r.x<t.x+t.width/2-t.radius:(r.x===s+g/2||r.x===s-g/2)&&(o=r.y>t.y-t.height/2+t.radius&&r.y<t.y+t.height/2-t.radius),o},Rp=function(r,t,n){var o,s=n.x,c=n.y,g=n.rx,E=n.ry;if(t===Zt.HORIZONTAL){var T=s-Math.sqrt(g*g-(r.y-c)*(r.y-c)*g*g/(E*E)),R=s+Math.sqrt(g*g-(r.y-c)*(r.y-c)*g*g/(E*E));o={x:Math.abs(T-r.x)<Math.abs(R-r.x)?T:R,y:r.y}}else if(t===Zt.VERTICAL){var V=c-Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ue=c+Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ce=Math.abs(V-r.y)<Math.abs(ue-r.y)?V:ue;o={x:r.x,y:ce}}return o},mu=function(r,t,n){for(var c,i=n.pointsPosition,s=Number.MAX_SAFE_INTEGER,g=[],E=0;E<i.length;E++)g.push({start:i[E],end:i[(E+1)%i.length]});return g.forEach(function(T){var R=T.start,k=T.end,V=R,ue=k;R.x>k.x&&(V=k,ue=R);var ce={x:r.x,y:r.y};if(V.x===ue.x&&t===Zt.HORIZONTAL&&(ce={x:V.x,y:r.y}),V.y===ue.y&&t===Zt.VERTICAL&&(ce={x:r.x,y:V.y}),V.x!==ue.x&&V.y!==ue.y){var ye=(ue.y-V.y)/(ue.x-V.x),pe=(V.x*ue.y-ue.x*V.y)/(V.x-ue.x);t===Zt.HORIZONTAL?ce={x:(r.y-pe)/ye,y:r.y}:t===Zt.VERTICAL&&(ce={x:r.x,y:ye*r.x+pe})}if(Na(ce,R,k)){var Le=Fn(ce.x,ce.y,r.x,r.y);Le<s&&(s=Le,c=ce)}}),c},Ip=function(r,t,n,o){var i=r.x,s=r.y;return t.x>r.x?i=r.x+n/2:t.x<r.x&&(i=r.x-n/2),t.y>r.y?s=r.y+o/2:t.y<r.y&&(s=r.y-o/2),{x:i,y:s}},Lp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,i=r.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=i,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var E=document.createElement("div");E.textContent=g,s.appendChild(E)}):s.textContent=t,document.body.appendChild(s);var c=s.clientHeight;return document.body.removeChild(s),c},bf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,i=0;return t&&t.forEach(function(s){var c=wh(s);i=c>i?c:i}),{width:Math.ceil(i/2)*o+o/4,height:n*(o+2)+o/4}},bu=function(r){return"object"!==yu(r)?{isAllPass:!!r,msg:r?"":"\u4e0d\u5141\u8bb8\u8fde\u63a5"}:r},Bp={node:!1,edge:!1},LP={node:!0,edge:!0},BP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Dr=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},zP=1e3,FP=999,Of=function(){return++zP};function rh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xn(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?rh(Object(t),!0).forEach(function(n){Qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function nh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mt(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Ef=(Re=function(){function e(r,t){(function HP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Qr(this,"id",ni()),gr(this,"type",zp,this),gr(this,"sourceNodeId",Fp,this),gr(this,"targetNodeId",Gp,this),gr(this,"startPoint",Hp,this),gr(this,"endPoint",kp,this),gr(this,"text",Xp,this),gr(this,"properties",Up,this),gr(this,"points",$p,this),gr(this,"pointsList",Yp,this),gr(this,"isSelected",Wp,this),gr(this,"isHovered",Kp,this),gr(this,"isHitable",Vp,this),gr(this,"draggable",Zp,this),gr(this,"visible",Jp,this),Qr(this,"virtual",!1),gr(this,"isAnimation",Qp,this),Qr(this,"graphModel",void 0),gr(this,"zIndex",_p,this),Qr(this,"BaseType",pr.EDGE),Qr(this,"modelType",Ht.EDGE),gr(this,"state",qp,this),Qr(this,"additionStateData",void 0),Qr(this,"sourceAnchorId",""),Qr(this,"targetAnchorId",""),Qr(this,"menu",void 0),Qr(this,"customTextPosition",!1),Qr(this,"animationData",BP),gr(this,"style",eh,this),gr(this,"arrowConfig",th,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return function kP(e,r,t){return r&&nh(e.prototype,r),t&&nh(e,t),e}(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}Fr(this,D0(t)),this.graphModel.overlapMode===Wr.INCREASE&&(this.zIndex=t.zIndex||Of()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return xn(xn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){return or(this.graphModel.theme.edgeText)}},{key:"getAnimation",value:function(){return or(this.animationData)}},{key:"getEdgeAnimationStyle",value:function(){return or(this.graphModel.theme.edgeAnimation)}},{key:"getOutlineStyle",value:function(){return or(this.graphModel.theme.outline)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return null===(t=this.graphModel)||void 0===t||null===(n=t.nodesMap[this.sourceNodeId])||void 0===n?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return null===(t=this.graphModel)||void 0===t||null===(n=t.nodesMap[this.targetNodeId])||void 0===n?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,i;return gf(t).forEach(function(c){var g=Nh(c,n);i?g<i&&(i=g,o=c):(i=g,o=c)}),o}},{key:"getEndAnchor",value:function(t){var o,i,n=this;return gf(t).forEach(function(c){var g=Nh(c,n.startPoint);i?g<i&&(i=g,o=c):(i=g,o=c)}),o}},{key:"getProperties",value:function(){return Object(y.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,i=t.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(y.I)(this.properties)};return i&&(s.text={x:n,y:o,value:i}),this.graphModel.overlapMode===Wr.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=Dr(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=xn(xn({},this.properties),Dr(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,i=n.markerStart;i&&i==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=xn(xn({},this.style),{},Qr({},t,Dr(n)))}},{key:"setStyles",value:function(t){this.style=xn(xn({},this.style),Dr(t))}},{key:"updateStyles",value:function(t){this.style=xn({},Dr(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,i=n.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||o,y:t.text.y||i,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:o,y:i,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,o=t.y;this.text.x=t.x,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text;this.text={value:o.value,draggable:o.draggable,x:o.x+t,y:o.y+n,editable:o.editable}}}},{key:"setText",value:function(t){t&&Fr(this.text,t)}},{key:"updateText",value:function(t){this.text=xn(xn({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){this.isSelected=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){this.isHovered=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){this.zIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Fr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),zp=Mt(Re.prototype,"type",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fp=Mt(Re.prototype,"sourceNodeId",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gp=Mt(Re.prototype,"targetNodeId",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hp=Mt(Re.prototype,"startPoint",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),kp=Mt(Re.prototype,"endPoint",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xp=Mt(Re.prototype,"text",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Up=Mt(Re.prototype,"properties",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$p=Mt(Re.prototype,"points",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yp=Mt(Re.prototype,"pointsList",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wp=Mt(Re.prototype,"isSelected",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kp=Mt(Re.prototype,"isHovered",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vp=Mt(Re.prototype,"isHitable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zp=Mt(Re.prototype,"draggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jp=Mt(Re.prototype,"visible",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qp=Mt(Re.prototype,"isAnimation",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_p=Mt(Re.prototype,"zIndex",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qp=Mt(Re.prototype,"state",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),eh=Mt(Re.prototype,"style",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),th=Mt(Re.prototype,"arrowConfig",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Mt(Re.prototype,"sourceNode",[y.m],Object.getOwnPropertyDescriptor(Re.prototype,"sourceNode"),Re.prototype),Mt(Re.prototype,"targetNode",[y.m],Object.getOwnPropertyDescriptor(Re.prototype,"targetNode"),Re.prototype),Mt(Re.prototype,"textPosition",[y.m],Object.getOwnPropertyDescriptor(Re.prototype,"textPosition"),Re.prototype),Mt(Re.prototype,"setProperty",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperty"),Re.prototype),Mt(Re.prototype,"deleteProperty",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"deleteProperty"),Re.prototype),Mt(Re.prototype,"setProperties",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperties"),Re.prototype),Mt(Re.prototype,"changeEdgeId",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"changeEdgeId"),Re.prototype),Mt(Re.prototype,"setStyle",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setStyle"),Re.prototype),Mt(Re.prototype,"setStyles",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setStyles"),Re.prototype),Mt(Re.prototype,"updateStyles",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateStyles"),Re.prototype),Mt(Re.prototype,"formatText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"formatText"),Re.prototype),Mt(Re.prototype,"resetTextPosition",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"resetTextPosition"),Re.prototype),Mt(Re.prototype,"moveText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveText"),Re.prototype),Mt(Re.prototype,"setText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setText"),Re.prototype),Mt(Re.prototype,"updateText",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateText"),Re.prototype),Mt(Re.prototype,"setAnchors",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setAnchors"),Re.prototype),Mt(Re.prototype,"setSelected",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setSelected"),Re.prototype),Mt(Re.prototype,"setHovered",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHovered"),Re.prototype),Mt(Re.prototype,"setHitable",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHitable"),Re.prototype),Mt(Re.prototype,"openEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"openEdgeAnimation"),Re.prototype),Mt(Re.prototype,"closeEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"closeEdgeAnimation"),Re.prototype),Mt(Re.prototype,"setElementState",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setElementState"),Re.prototype),Mt(Re.prototype,"updateStartPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateStartPoint"),Re.prototype),Mt(Re.prototype,"moveStartPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveStartPoint"),Re.prototype),Mt(Re.prototype,"updateEndPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateEndPoint"),Re.prototype),Mt(Re.prototype,"moveEndPoint",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveEndPoint"),Re.prototype),Mt(Re.prototype,"setZIndex",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"setZIndex"),Re.prototype),Mt(Re.prototype,"initPoints",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"initPoints"),Re.prototype),Mt(Re.prototype,"updateAttributes",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateAttributes"),Re.prototype),Mt(Re.prototype,"getAdjustStart",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"getAdjustStart"),Re.prototype),Mt(Re.prototype,"getAdjustEnd",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"getAdjustEnd"),Re.prototype),Mt(Re.prototype,"updateAfterAdjustStartAndEnd",[y.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateAfterAdjustStartAndEnd"),Re.prototype),Re),xf=Ef;function Ou(e){return(Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ih(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?oh(Object(t),!0).forEach(function(n){sh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function XP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ah(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Eu(){return Eu=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=$P(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Eu.apply(this,arguments)}function $P(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Fi(e)););return e}function YP(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sf(e,r)}function Sf(e,r){return(Sf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function WP(e){var r=function VP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Fi(e);if(r){var i=Fi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return KP(this,o)}}function KP(e,r){if(r&&("object"===Ou(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return uh(e)}function uh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fi(e){return(Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Nt,lh,Da=function(e){YP(t,e);var r=WP(t);function t(){var n;XP(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return sh(uh(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.LINE_EDGE),n}return function UP(e,r,t){return r&&ah(e.prototype,r),t&&ah(e,t),e}(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return ih(ih({},Eu(Fi(t.prototype),"getEdgeStyle",this).call(this)),or(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(xf);function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ZP(e,r){return function qP(e){if(Array.isArray(e))return e}(e)||function _P(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function QP(e,r){if(e){if("string"==typeof e)return fh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fh(e,r)}}(e,r)||function JP(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ch(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function dh(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ch(Object(t),!0).forEach(function(n){Mf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ch(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function e0(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function t0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ph(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gi(){return Gi=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=n0(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Gi.apply(this,arguments)}function n0(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Do(e)););return e}function o0(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pf(e,r)}function Pf(e,r){return(Pf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function i0(e){var r=function u0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Do(e);if(r){var i=Do(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return a0(this,o)}}function a0(e,r){if(r&&("object"===xu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ja(e)}function ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Mf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gr(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Su=(Nt=function(e){o0(t,e);var r=i0(t);function t(){var n;t0(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Mf(ja(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.POLYLINE_EDGE),Mf(ja(n),"draginngPointList",void 0),e0(ja(n),"dbClickPosition",lh,ja(n)),n}return function r0(e,r,t){return r&&ph(e.prototype,r),t&&ph(e,t),e}(t,[{key:"initEdgeData",value:function(o){this.offset=30,Gi(Do(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return dh(dh({},Gi(Do(t.prototype),"getEdgeStyle",this).call(this)),or(o))}},{key:"getTextPosition",value:function(){var o,i=null===(o=this.text)||void 0===o?void 0:o.value;if(this.dbClickPosition&&!i){var s=this.dbClickPosition;return{x:s.x,y:s.y}}var E=Hi(this.points),R=ZP(w0(E),2),k=R[0],V=R[1];return{x:(k.x+V.x)/2,y:(k.y+V.y)/2}}},{key:"getAfterAnchor",value:function(o,i,s){var c,g;return s.forEach(function(E){var T;o===Zt.HORIZONTAL?T=Math.abs(i.y-E.y):o===Zt.VERTICAL&&(T=Math.abs(i.x-E.x)),(!g||g>T)&&(g=T,c=E)}),c}},{key:"getCorssPoint",value:function(o,i,s){var c;return o===Zt.HORIZONTAL?c={x:s.x,y:i.y}:o===Zt.VERTICAL&&(c={x:i.x,y:s.y}),c}},{key:"removeCrossPoints",value:function(o,i,s){var c=s.map(function(qe){return qe});if(1===o){var g=c[o],E=c[i],T=c[o-1];if(xh(T,g,this.sourceNode)){if(Sh(g,E,this.sourceNode)){var V=Ph(g,E,this.sourceNode);V&&(c[o]=V,c.splice(o-1,1),o--,i--)}}else this.sourceNode.anchors.forEach(function(qe){(qe.x===T.x&&qe.x===g.x||qe.y===T.y&&qe.y===g.y)&&Fn(qe.x,qe.y,g.x,g.y)<Fn(T.x,T.y,g.x,g.y)&&(c[o-1]=qe)})}if(i===s.length-2){var ce=c[o],ye=c[i],pe=c[i+1];if(xh(ye,pe,this.targetNode)){if(Sh(ce,ye,this.targetNode)){var Be=Ph(ce,ye,this.targetNode);Be&&(c[i]=Be,c.splice(i+1,1))}}else this.targetNode.anchors.forEach(function(qe){(qe.x===pe.x&&qe.x===ye.x||qe.y===pe.y&&qe.y===ye.y)&&Fn(qe.x,qe.y,ye.x,ye.y)<Fn(pe.x,pe.y,ye.x,ye.y)&&(c[i+1]=qe)})}return c}},{key:"getDragingPoints",value:function(o,i,s,c,g){var E=g.map(function(k){return k}),T=this.getAfterAnchor(o,s,c),R=this.getCorssPoint(o,s,T);return"start"===i?(E.unshift(R),E.unshift(T)):(E.push(R),E.push(T)),E}},{key:"updateCrossPoints",value:function(o){var i=o.map(function(Be){return Be}),s=o[0],g=o[i.length-2],E=o[i.length-1],T=this.sourceNode,R=this.targetNode,k=T.modelType,V=R.modelType,ue=ju(s,o[1]),ce=i[0];switch(k){case Ht.RECT_NODE:0!==T.radius&&(Cp(s,T)||(ce=jp(s,ue,T)));break;case Ht.CIRCLE_NODE:ce=mf(s,ue,T);break;case Ht.ELLIPSE_NODE:ce=Rp(s,ue,T);break;case Ht.DIAMOND_NODE:case Ht.POLYGON_NODE:ce=mu(s,ue,T)}i[0]=ce;var pe=ju(g,E),Ge=i[i.length-1];switch(V){case Ht.RECT_NODE:0!==R.radius&&(Cp(E,R)||(Ge=jp(E,pe,R)));break;case Ht.CIRCLE_NODE:Ge=mf(E,pe,R);break;case Ht.ELLIPSE_NODE:Ge=Rp(E,pe,R);break;case Ht.DIAMOND_NODE:case Ht.POLYGON_NODE:Ge=mu(E,pe,R)}return i[i.length-1]=Ge,i}},{key:"getData",value:function(){var o=Gi(Do(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return Object.assign({},o,{pointsList:i})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Eh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,i){this.isDragging=!0;var s=o.start,c=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,R=this.pointsList,k=R;return T===Zt.HORIZONTAL?(R[g]={x:s.x,y:s.y+i.y},R[E]={x:c.x,y:c.y+i.y},k=this.pointsList.map(function(V){return V})):T===Zt.VERTICAL&&(R[g]={x:s.x+i.x,y:s.y},R[E]={x:c.x+i.x,y:c.y},k=this.pointsList.map(function(V){return V})),this.updatePointsAfterDrag(k),this.draginngPointList=k,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[g]),end:Object.assign({},R[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppend",value:function(o,i){this.isDragging=!0;var s=o.start,c=o.end,g=o.startIndex,E=o.endIndex,T=o.direction,R=this.pointsList;if(T===Zt.HORIZONTAL){R[g]={x:s.x,y:s.y+i.y},R[E]={x:c.x,y:c.y+i.y};var k=this.pointsList.map(function(Lt){return Lt});if(0!==g&&E!==this.pointsList.length-1&&(k=this.removeCrossPoints(g,E,k)),0===g){var V={x:s.x,y:s.y+i.y};No(V,this.sourceNode)||(k=this.getDragingPoints(T,"start",V,this.sourceNode.anchors,k))}if(E===this.pointsList.length-1){var ye={x:c.x,y:c.y+i.y};No(ye,this.targetNode)||(k=this.getDragingPoints(T,"end",ye,this.targetNode.anchors,k))}this.updatePointsAfterDrag(k),this.draggingPointList=k}else if(T===Zt.VERTICAL){R[g]={x:s.x+i.x,y:s.y},R[E]={x:c.x+i.x,y:c.y};var Le=this.pointsList.map(function(Lt){return Lt});if(0!==g&&E!==this.pointsList.length-1&&(Le=this.removeCrossPoints(g,E,Le)),0===g){var Be={x:s.x+i.x,y:s.y};No(Be,this.sourceNode)||(Le=this.getDragingPoints(T,"start",Be,this.sourceNode.anchors,Le))}if(E===this.pointsList.length-1){var St={x:c.x+i.x,y:c.y};No(St,this.targetNode)||(Le=this.getDragingPoints(T,"end",St,this.targetNode.anchors,Le))}this.updatePointsAfterDrag(Le),this.draggingPointList=Le}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},R[g]),end:Object.assign({},R[E]),startIndex:g,endIndex:E,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Oh(Hi(this.points));this.pointsList=o.map(function(c){return c}),this.draginngPointList=[],this.startPoint=Object.assign({},o[0]),this.endPoint=Object.assign({},o[o.length-1])}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var i=this.updateCrossPoints(o);this.points=i.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,s=o.endPoint,E=Eh({x:i.x,y:i.y},{x:s.x,y:s.y},o.sourceNode,o.targetNode,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(xf),lh=Gr(Nt.prototype,"dbClickPosition",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr(Nt.prototype,"initPoints",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"initPoints"),Nt.prototype),Gr(Nt.prototype,"updatePoints",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updatePoints"),Nt.prototype),Gr(Nt.prototype,"updateStartPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updateStartPoint"),Nt.prototype),Gr(Nt.prototype,"moveStartPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"moveStartPoint"),Nt.prototype),Gr(Nt.prototype,"updateEndPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updateEndPoint"),Nt.prototype),Gr(Nt.prototype,"moveEndPoint",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"moveEndPoint"),Nt.prototype),Gr(Nt.prototype,"dragAppendStart",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppendStart"),Nt.prototype),Gr(Nt.prototype,"dragAppendSimple",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppendSimple"),Nt.prototype),Gr(Nt.prototype,"dragAppend",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppend"),Nt.prototype),Gr(Nt.prototype,"dragAppendEnd",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"dragAppendEnd"),Nt.prototype),Gr(Nt.prototype,"updatePointsAfterDrag",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updatePointsAfterDrag"),Nt.prototype),Gr(Nt.prototype,"getAdjustStart",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"getAdjustStart"),Nt.prototype),Gr(Nt.prototype,"getAdjustEnd",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"getAdjustEnd"),Nt.prototype),Gr(Nt.prototype,"updateAfterAdjustStartAndEnd",[y.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updateAfterAdjustStartAndEnd"),Nt.prototype),Nt),Ca=function(r){var t=r.start,n=r.end,o=r.offset,i=r.verticalLength,s=r.type,c={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/i),T=Math.sqrt(i*i+o*o);return"start"===s?n.x>=t.x?(c.leftX=t.x+T*Math.sin(g+E),c.leftY=t.y-T*Math.cos(g+E),c.rightX=t.x-T*Math.sin(g-E),c.rightY=t.y+T*Math.cos(g-E)):(c.leftX=t.x-T*Math.sin(g+E),c.leftY=t.y+T*Math.cos(g+E),c.rightX=t.x+T*Math.sin(g-E),c.rightY=t.y-T*Math.cos(g-E)):"end"===s&&(n.x>=t.x?(c.leftX=n.x+T*Math.sin(g-E),c.leftY=n.y-T*Math.cos(g-E),c.rightX=n.x-T*Math.sin(g+E),c.rightY=n.y+T*Math.cos(g+E)):(c.leftX=n.x-T*Math.sin(g-E),c.leftY=n.y+T*Math.cos(g-E),c.rightX=n.x+T*Math.sin(g+E),c.rightY=n.y-T*Math.cos(g+E))),c};function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Pu(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){s0(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function s0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l0(e){return function d0(e){if(Array.isArray(e))return Tf(e)}(e)||function c0(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vh(e)||function f0(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mu(e){return(Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wf(e,r){return function v0(e){if(Array.isArray(e))return e}(e)||function h0(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||vh(e,r)||function p0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vh(e,r){if(e){if("string"==typeof e)return Tf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tf(e,r)}}function Tf(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var wu=function(r){var t=[],n={};return r.forEach(function(o){var i="".concat(o.x,"-").concat(o.y);o.id=i,n[i]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Tu=function(r,t){return 0===r.width&&0===r.height?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},Au=function(r,t){return function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Zt.HORIZONTAL:Zt.VERTICAL}(t,r)===Zt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},yh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),i=Math.max(r.maxX,t.maxX),s=Math.max(r.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(o+s)/2,minX:n,minY:o,maxX:i,maxY:s,height:s-o,width:i-n}},Ra=function(){var t=arguments.length>1?arguments[1]:void 0,n=[],o=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(R){n.push(R.x),o.push(R.y)});var i=Math.min.apply(Math,n),s=Math.max.apply(Math,n),c=Math.min.apply(Math,o),g=Math.max.apply(Math,o),E=s-i,T=g-c;return t&&(E+=t,T+=t),{centerX:(i+s)/2,centerY:(c+g)/2,maxX:s,maxY:g,minX:i,minY:c,x:(i+s)/2,y:(c+g)/2,height:T,width:E}},Nu=function(r){var t=r.minX,n=r.minY,o=r.maxX,i=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:i},{x:t,y:i}]},Du=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},Af=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},gh=function(r,t,n,o,i){return Af(r,t)+Af(r,n)+function(r,t){var o=0;return t.forEach(function(i){i&&(r.x===i.x&&(o+=-2),r.y===i.y&&(o+=-2))}),o}(r,[t,n,o,i])},x0=function e(r,t,n,o,i){i||(i=0),r.unshift(t[o]),n[o]&&n[o]!==o&&i<=100&&e(r,t,n,n[o],i+1)},Ia=function(r,t,n,o){var i=t.x-r.x,s=t.y-r.y,c=o.x-n.x,g=o.y-n.y,E=(-s*(r.x-n.x)+i*(r.y-n.y))/(-c*s+i*g),T=(c*(r.y-n.y)-g*(r.x-n.x))/(-c*s+i*g);return E>=0&&E<=1&&T>=0&&T<=1},mh=function(r,t,n){if(0===n.width&&0===n.height)return!1;var i=wf(Nu(n),4),s=i[0],c=i[1],g=i[2],E=i[3];return Ia(r,t,s,c)||Ia(r,t,s,E)||Ia(r,t,c,g)||Ia(r,t,g,E)},M0=function(r,t,n,o,i,s,c){var g=[],E=[t],T={},R={},k={};R[t.id]=0,k[t.id]=gh(t,n,t);var V={};r.forEach(function(ye){V[ye.id]=ye});for(var ue=function(){var pe=void 0,Ge=1/0;if(E.forEach(function(Be){k[Be.id]<Ge&&(Ge=k[Be.id],pe=Be)}),pe===n){var Le=[];return x0(Le,V,T,n.id),{v:Le}}(function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)})(E,pe),g.push(pe),function(r,t,n,o){var i=[];return r.forEach(function(s){s!==t&&(s.x===t.x||s.y===t.y)&&!mh(s,t,n)&&!mh(s,t,o)&&i.push(s)}),wu(i)}(r,pe,o,i).forEach(function(Be){if(-1===g.indexOf(Be)){-1===E.indexOf(Be)&&E.push(Be);var lt=k[pe.id]+Af(pe,Be);R[Be.id]&&lt>=R[Be.id]||(T[Be.id]=pe.id,R[Be.id]=lt,k[Be.id]=R[Be.id]+gh(Be,n,t,s,c))}})};E.length;){var ce=ue();if("object"===Mu(ce))return ce.v}return[t,n]},bh=function(r){return Jr(r)},Oh=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],i=t[n],s=t[n+1];o.x===i.x&&i.x===s.x||o.y===i.y&&i.y===s.y?t.splice(n,1):n++}return t},Eh=function(r,t,n,o,i){var s=bh(n),c=bh(o),g=Tu(s,i),E=Tu(c,i),T=Au(g,r),R=Au(E,t);if(function(r,t){return 2*Math.abs(r.centerX-t.centerX)<r.width+t.width&&2*Math.abs(r.centerY-t.centerY)<r.height+t.height}(g,E)){var k=T0(r,t,T,R);return[r,T].concat(l0(k),[R,t])}var V=Ra([T,R]),ue=yh(g,V),ce=yh(E,V),ye=[];ye=(ye=ye.concat(Nu(ue))).concat(Nu(ce));var pe={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[V,ue,ce].forEach(function(Le){ye=ye.concat(function(r,t){return function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]}(r,t.x).concat(function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]}(r,t.y))}(Le,pe).filter(function(Be){return Du(Be,g)&&Du(Be,E)}))}),[{x:T.x,y:R.y},{x:R.x,y:T.y}].forEach(function(Le){Du(Le,g)&&Du(Le,E)&&ye.push(Le)}),ye.unshift(T),ye.push(R),ye=wu(ye);var Ge=M0(ye,T,R,s,c,r,t);return Ge.unshift(r),Ge.push(t),Ge.length>2&&(Ge=Oh(Ge)),wu(Ge)},w0=function(r){var t;if(1===r.length)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],i=Fn(n.x,n.y,o.x,o.y),s=1;s<r.length-1;s++){var c=r[s],g=r[s+1],E=Fn(c.x,c.y,g.x,g.y);E>i&&(i=E,n=c,o=g)}t=[n,o]}return t},xh=function(r,t,n){var o=No(r,n),i=No(t,n);return o&&i},Sh=function(r,t,n){var o=No(r,n),i=No(t,n);return!(o&&i)&&(o||i)},Ph=function(r,t,n){for(var o,i,s=Jr(n),c=Nu(s),g=0;g<c.length;g++)Ia(r,t,c[g],c[(g+1)%c.length])&&(i=[c[g],c[(g+1)%c.length]]);return i&&(o=AP(r,t,i[0],i[1])),o},ju=function(r,t){var n;return r.x===t.x?n=Zt.VERTICAL:r.y===t.y&&(n=Zt.HORIZONTAL),n},Hi=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var s=wf(o.split(","),2),g=s[1];n.push({x:Number(s[0]),y:Number(g)})}),n},T0=function(r,t,n,o){var i=[];if(ju(r,n)===ju(t,o))r.y===n.y?(i.push({x:n.x,y:(n.y+o.y)/2}),i.push({x:o.x,y:(n.y+o.y)/2})):(i.push({x:(n.x+o.x)/2,y:n.y}),i.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},E=Na(g,r,n),T=Na(g,t,o);if(E||T)g={x:o.x,y:n.y};else{var R=Mh(g,r,n),k=Mh(g,t,o);R&&k&&(g={x:o.x,y:n.y})}i.push(g)}return i},Mh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},wh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:t+=o>=1&&o<=126||o>=65376&&o<=65439?1:2}return t},Th=function(r){var t=r.start,n=r.end,i=r.targetNode,s=r.offset,c=Jr(r.sourceNode),g=Jr(i),E=Tu(c,s),T=Tu(g,s);return{sNext:Au(E,t),ePre:Au(T,n)}},Cu=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(",");return[Ru(t[0]),Ru(t[1]),Ru(t[2]),Ru(t[3])]},Ru=function(r){var n=wf(r.replace(/(^\s*)/g,"").split(" "),2);return{x:+n[0],y:+n[1]}},Ah=function(r,t){for(var c,n=r.x,o=r.y,i=Hi(t),s=Number.MAX_SAFE_INTEGER,g=[],E=0;E<i.length;E++)g.push({start:i[E],end:i[(E+1)%i.length]});if(g.forEach(function(V){var ue=V.start,ce=V.end;if(ue.x===ce.x){var ye={x:ue.x,y:o};if(Na(ye,ue,ce)){var Ge=Math.abs(ue.x-n);Ge<s&&(s=Ge,c=ye)}}else if(ue.y===ce.y){var Le={x:n,y:ue.y};if(Na(Le,ue,ce)){var lt=Math.abs(ue.y-o);lt<s&&(s=lt,c=Le)}}}),!c){var T=g[0],R=T.start,k=T.end;c={x:R.x+(k.x-R.x)/2,y:R.y+(k.y-R.y)/2}}return c},D0=function(r){return Ta(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Nh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};a(204);var ki=function C0(){};function Dh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Gn=window.document;function Df(e){var r=e.onDragStart,t=void 0===r?ki:r,n=e.onDraging,o=void 0===n?ki:n,i=e.onDragEnd,s=void 0===i?ki:i,c=e.step,g=void 0===c?1:c,E=e.isStopPropagation,T=void 0===E||E,R=!1,k=!1,V=0,ue=0,ce=0,ye=0;function pe(Be){if(T&&Be.stopPropagation(),k&&(R=!0,ce+=Be.clientX-V,ye+=Be.clientY-ue,V=Be.clientX,ue=Be.clientY,Math.abs(ce)>g||Math.abs(ye)>g)){var lt=ce%g,qe=ye%g,St=ce-lt,jt=ye-qe;ce=lt,ye=qe,o({deltaX:St,deltaY:jt,event:Be})}}function Ge(Be){if(T&&Be.stopPropagation(),k=!1,Gn.removeEventListener("mousemove",pe,!1),Gn.removeEventListener("mouseup",Ge,!1),R)return R=!1,s({event:Be})}return function Le(Be){if(0===Be.button)return T&&Be.stopPropagation(),k=!0,V=Be.clientX,ue=Be.clientY,Gn.addEventListener("mousemove",pe,!1),Gn.addEventListener("mouseup",Ge,!1),t({event:Be})}}var xe,Ch,Rh,Ih,Lh,Bh,zh,Fh,Gh,Hh,kh,Xh,Uh,oi=function(){function e(r){var t=this,n=r.onDragStart,o=void 0===n?ki:n,i=r.onDraging,s=void 0===i?ki:i,c=r.onDragEnd,g=void 0===c?ki:c,E=r.eventType,T=void 0===E?"":E,R=r.eventCenter,k=void 0===R?null:R,V=r.step,ue=void 0===V?1:V,ce=r.isStopPropagation,ye=void 0===ce||ce,pe=r.model,Ge=void 0===pe?null:pe;(function R0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),hr(this,"onDragStart",void 0),hr(this,"onDraging",void 0),hr(this,"onDragEnd",void 0),hr(this,"step",void 0),hr(this,"isStopPropagation",void 0),hr(this,"isDraging",!1),hr(this,"isStartDraging",!1),hr(this,"startX",0),hr(this,"startY",0),hr(this,"sumDeltaX",0),hr(this,"sumDeltaY",0),hr(this,"eventType",void 0),hr(this,"eventCenter",void 0),hr(this,"model",void 0),hr(this,"startTime",void 0),hr(this,"isGrag",void 0),hr(this,"handleMouseDown",function(Le){var Be,lt;if(0===Le.button){t.isStopPropagation&&Le.stopPropagation(),t.isStartDraging=!0,t.startX=Le.clientX,t.startY=Le.clientY,Gn.addEventListener("mousemove",t.handleMouseMove,!1),Gn.addEventListener("mouseup",t.handleMouseUp,!1);var qe=null===(Be=t.model)||void 0===Be?void 0:Be.getData();null===(lt=t.eventCenter)||void 0===lt||lt.emit(At["".concat(t.eventType,"_MOUSEDOWN")],{e:Le,data:qe}),t.startTime=(new Date).getTime()}}),hr(this,"handleMouseMove",function(Le){if(t.isStopPropagation&&Le.stopPropagation(),t.isStartDraging&&(t.sumDeltaX+=Le.clientX-t.startX,t.sumDeltaY+=Le.clientY-t.startY,t.startX=Le.clientX,t.startY=Le.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Be,lt=t.sumDeltaX%t.step,qe=t.sumDeltaY%t.step,St=t.sumDeltaX-lt,jt=t.sumDeltaY-qe;t.sumDeltaX=lt,t.sumDeltaY=qe;var Lt,yt=null===(Be=t.model)||void 0===Be?void 0:Be.getData();t.isDraging||(null===(Lt=t.eventCenter)||void 0===Lt||Lt.emit(At["".concat(t.eventType,"_DRAGSTART")],{e:Le,data:yt}),t.onDragStart({event:Le})),t.isDraging=!0,Promise.resolve().then(function(){var Sr,_r;t.onDraging({deltaX:St,deltaY:jt,event:Le}),null===(Sr=t.eventCenter)||void 0===Sr||Sr.emit(At["".concat(t.eventType,"_MOUSEMOVE")],{e:Le,data:yt}),null===(_r=t.eventCenter)||void 0===_r||_r.emit(At["".concat(t.eventType,"_DRAG")],{e:Le,data:yt})})}}),hr(this,"handleMouseUp",function(Le){t.isStartDraging=!1,t.isStopPropagation&&Le.stopPropagation(),Promise.resolve().then(function(){var Be,lt,qe;Gn.removeEventListener("mousemove",t.handleMouseMove,!1),Gn.removeEventListener("mouseup",t.handleMouseUp,!1);var St=null===(Be=t.model)||void 0===Be?void 0:Be.getData();null===(lt=t.eventCenter)||void 0===lt||lt.emit(At["".concat(t.eventType,"_MOUSEUP")],{e:Le,data:St}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:Le}),null===(qe=t.eventCenter)||void 0===qe||qe.emit(At["".concat(t.eventType,"_DROP")],{e:Le,data:St}))})}),hr(this,"cancelDrag",function(){Gn.removeEventListener("mousemove",t.handleMouseMove,!1),Gn.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=s,this.onDragEnd=g,this.step=ue,this.isStopPropagation=ye,this.eventType=T,this.eventCenter=k,this.model=Ge}return function I0(e,r,t){return r&&Dh(e.prototype,r),t&&Dh(e,t),e}(e,[{key:"setStep",value:function(t){this.step=t}}]),e}();function $h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Iu(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?$h(Object(t),!0).forEach(function(n){Hn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$h(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jf(e,r){return function F0(e){if(Array.isArray(e))return e}(e)||function z0(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||Yh(e,r)||function B0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(e){return function k0(e){if(Array.isArray(e))return Cf(e)}(e)||function H0(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yh(e)||function G0(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yh(e,r){if(e){if("string"==typeof e)return Cf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cf(e,r)}}function Cf(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pn(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Wh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Et(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Vh,Kh=(xe=function(){function e(r){(function X0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Hn(this,"rootEl",void 0),pn(this,"width",Ch,this),pn(this,"height",Rh,this),Hn(this,"theme",void 0),Hn(this,"eventCenter",void 0),Hn(this,"modelMap",new Map),Hn(this,"topElement",void 0),Hn(this,"animation",void 0),Hn(this,"idGenerator",void 0),Hn(this,"edgeGenerator",void 0),Hn(this,"nodeMoveRules",[]),pn(this,"edgeType",Ih,this),pn(this,"nodes",Lh,this),pn(this,"edges",Bh,this),pn(this,"overlapMode",zh,this),pn(this,"background",Fh,this),pn(this,"transformModel",Gh,this),pn(this,"editConfigModel",Hh,this),pn(this,"gridSize",kh,this),pn(this,"partial",Xh,this),pn(this,"fakerNode",Uh,this);var t=r.container,n=r.background,i=r.grid,s=r.idGenerator,c=r.edgeGenerator,g=r.animation;this.background=void 0===n?{}:n,"object"===La(i)&&(this.gridSize=i.size),this.rootEl=t,this.editConfigModel=new _d(r),this.eventCenter=new hP,this.transformModel=new qE(this.eventCenter),this.theme=Pp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=function(r){return r&&"boolean"!=typeof r?Sp(or(Bp),r):or(!0===r?LP:Bp)}(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=s,this.edgeGenerator=function j0(e,r){return"function"!=typeof r?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var i=r(t,n,o);return i?"string"==typeof i?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:e.edgeType}}}(this,c),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return function U0(e,r,t){return r&&Wh(e.prototype,r),t&&Wh(e,t),e}(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Xi(this.nodes),Xi(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(g){return t.push(g)}),this.edges.forEach(function(g){return t.push(g)}),t=t.sort(function(g,E){return g.zIndex-E.zIndex});for(var n=[],o=[-200,-200],i=[this.width+200,this.height+200],s=0;s<t.length;s++){var c=t[s];c.visible&&(!this.partial||c.isSelected||this.isElementInArea(c,o,i,!1,!1))&&n.push(c)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Kt.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Kt.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=[],g=[];this.nodes.forEach(function(R){return g.push(R)}),this.edges.forEach(function(R){return g.push(R)});for(var E=0;E<g.length;E++){var T=g[E];(!s||T.visible)&&this.isElementInArea(T,t,n,o,i)&&c.push(T)}return c}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(n=this.nodesMap[t])||void 0===n?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,i=this.rootEl.getBoundingClientRect(),s={x:n-i.left,y:o-i.top},g=jf(this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),2);return{domOverlayPosition:s,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(t,n,o){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===pr.NODE){for(var c=Jr(t),g=c.minX,E=c.minY,T=c.maxX,R=c.maxY,k=[{x:g,y:E},{x:T,y:E},{x:T,y:R},{x:g,y:R}],V=s,ue=0;ue<k.length;ue++){var ce=k[ue],ye=ce.x,pe=ce.y,Le=jf(this.transformModel.CanvasPointToHtmlPoint([ye,pe]),2);if(hf([ye=Le[0],pe=Le[1]],n,o)!==s){V=!s;break}}return V}if(t.BaseType===pr.EDGE){var lt=t.startPoint,qe=t.endPoint,St=this.transformModel.CanvasPointToHtmlPoint([lt.x,lt.y]),jt=this.transformModel.CanvasPointToHtmlPoint([qe.x,qe.y]),yt=hf(St,n,o),Lt=hf(jt,n,o);return i?yt&&Lt:yt||Lt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=fu(t.nodes,function(o){var i=n.getModel(o.type);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var s=o.x,c=o.y;return s&&c&&(o.x=Ao(s,n.gridSize),o.y=Ao(c,n.gridSize),"object"===La(o.text)&&(o.text.x-=wp(s,n.gridSize),o.text.y-=wp(c,n.gridSize))),new i(o,n)}),this.edges=fu(t.edges,function(o){var i=n.getModel(o.type);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new i(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var i=o.getData();i&&!o.virtual&&t.push(i)});var n=[];return this.nodes.forEach(function(o){var i=o.getData();i&&!o.virtual&&n.push(i)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var i=this.nodes[o];if(i.isDragging){t=!0;break}n.push(i.getHistoryData())}if(t)return!1;for(var s=!1,c=[],g=0;g<this.edges.length;g++){var E=this.edges[g];if(E.isDragging){s=!0;break}c.push(E.getHistoryData())}return!s&&{nodes:n,edges:c}}},{key:"getEdgeModelById",value:function(t){var n;return null===(n=this.edgesMap[t])||void 0===n?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++)(this.edges[o].sourceNodeId===t||this.edges[o].targetNodeId===t)&&n.push(this.edges[o]);return n}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(i){if(i.BaseType===pr.NODE&&o.nodes.push(i.getData()),i.BaseType===pr.EDGE){var s=i.getData(),c=n.get(s.sourceNodeId)&&n.get(s.targetNodeId);(t||c)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(t,n){this.getElement(t).updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=ni()),this.nodesMap[n]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8282\u70b9".concat(n,", \u4fee\u6539\u5931\u8d25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8282\u70b9".concat(n,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=ni()),this.edgesMap[n]?(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u5df2\u5b58\u5728\u8fb9: ".concat(n,", \u4fee\u6539\u5931\u8d25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5f53\u524d\u6d41\u7a0b\u56fe\u627e\u4e0d\u5230\u8fb9: ".concat(n,", \u4fee\u6539\u5931\u8d25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,s,i=(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)||(null===(o=this.edgesMap[t])||void 0===o?void 0:o.model);i&&(this.overlapMode===Wr.DEFAULT&&(null===(s=this.topElement)||void 0===s||s.setZIndex(),i.setZIndex(9999),this.topElement=i),this.overlapMode===Wr.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,n){var o,i,c,s=(null===(o=this.nodesMap[t])||void 0===o?void 0:o.model)||(null===(i=this.edgesMap[t])||void 0===i?void 0:i.model);s&&("number"==typeof n&&(c=n),"top"===n&&(c=Of()),"bottom"===n&&(c=--FP),s.setZIndex(c))}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(At.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=Dr(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(n.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));n.x=Ao(n.x,this.gridSize),n.y=Ao(n.y,this.gridSize);var i=new o(n,this);this.nodes.push(i);var s=i.getData();return this.eventCenter.emit(At.NODE_ADD,{data:s}),i}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var i=this.addNode(o);return i.setSelected(!0),n.setSelected(!1),i.getData()}},{key:"moveNode",value:function(t,n,o){var s=this.nodesMap[t];if(s){var E=jf(s.model.getMoveDistance(n,o,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),2);this.moveEdge(t,n=E[0],o=E[1])}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"moveNode2Coordinate",value:function(t,n,o){var s=this.nodesMap[t];if(s){var c=s.model;this.moveNode(t,n-c.x,o-c.y,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"editText",value:function(t){this.setElementStateById(t,Kt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=Dr(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var i=this.getModel(o);if(!i)throw new Error("\u627e\u4e0d\u5230".concat(o,"\u5bf9\u5e94\u7684\u8fb9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fb9\u3002"));var s=new i(Iu(Iu({},n),{},{type:o}),this),c=s.getData();return this.edges.push(s),this.eventCenter.emit(At.EDGE_ADD,{data:c}),s}},{key:"moveEdge",value:function(t,n,o){for(var i=0;i<this.edges.length;i++){var k,s=this.edges[i],c=s.textPosition,g=c.x,E=c.y,T=this.edges[i].sourceNodeId===t,R=this.edges[i].targetNodeId===t;if(T&&s.moveStartPoint(n,o),R&&s.moveEndPoint(n,o),T||R)if(!0===s.customTextPosition)s.resetTextPosition();else if(s.modelType===Ht.POLYLINE_EDGE&&null!==(k=s.text)&&void 0!==k&&k.value){var V=s.text,ue=Ah(V,s.points);s.moveText(ue.x-V.x,ue.y-V.y)}else{var ce=s.textPosition;s.moveText(ce.x-g,ce.y-E)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var i=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(At.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeById",value:function(t){if(this.edgesMap[t]){var o=this.edgesMap[t].index,i=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(At.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(At.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(At.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(i){i.id===t?i.setElementState(n,o):i.setElementState(Kt.DEFAULT)}),this.edges.forEach(function(i){i.id===t?i.setElementState(n,o):i.setElementState(Kt.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),(null===(n=this.nodesMap[t])||void 0===n?void 0:n.model)?.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model)?.setSelected(!0)}},{key:"selectElementById",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),this.getElement(t)?.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach(function(n){n?.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Wr.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,n,o){var i=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.forEach(function(c){return i.moveNode(c,n,o,s)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(o){var i=o.getData();i.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var c=new s(i,this);this.nodes.splice(this.nodesMap[t].index,1,c),this.getNodeEdges(t).forEach(function(E){if(E.sourceNodeId===t){var T=Ip(c,E.startPoint,c.width,c.height);E.updateStartPoint(T)}if(E.targetNodeId===t){var R=Ip(c,E.endPoint,c.width,c.height);E.updateEndPoint(R)}})}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(t,"\u7684\u8282\u70b9"))}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(o){if(o.type!==n){var i=o.getData();i.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));delete i.pointsList;var c=new s(i,this);this.edges.splice(this.edgesMap[t].index,1,c)}}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(t,"\u7684\u8fb9"))}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(i){i.targetNodeId===t&&o.push(n.nodesMap[i.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(i){i.sourceNodeId===t&&o.push(n.nodesMap[i.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Pp(Iu(Iu({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6e32\u67d3\u753b\u5e03\u7684\u65f6\u5019\u65e0\u6cd5\u83b7\u53d6\u753b\u5e03\u5bbd\u9ad8\uff0c\u8bf7\u786e\u8ba4\u5728container\u5df2\u6302\u8f7d\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var n=[],o=[];this.nodes.forEach(function(V){var ue=V.x,ce=V.y,ye=V.width,pe=V.height,Le=V.getNodeStyle().strokeWidth,Be=void 0===Le?0:Le;n=n.concat([ue+ye/2+Be,ue-ye/2-Be]),o=o.concat([ce+pe/2+Be,ce-pe/2-Be])});var i=Math.min.apply(Math,Xi(n)),s=Math.max.apply(Math,Xi(n)),c=Math.min.apply(Math,Xi(o)),E=s-i||0,T=Math.max.apply(Math,Xi(o))-c||0;return{virtualRectWidth:E,virtualRectHeight:T,virtualRectCenterPositionX:i+E/2,virtualRectCenterPositionY:c+T/2}}},{key:"translateCenter",value:function(){var i=this.rootEl,s=this.transformModel;if(this.nodes.length){var c=this.width||i.clientWidth,g=this.height||i.clientHeight,E=this.getVirtualRectSize();s.focusOn(E.virtualRectCenterPositionX,E.virtualRectCenterPositionY,c,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,c=this.rootEl,g=this.transformModel;if(this.nodes.length){var E=this.width||c.clientWidth,T=this.height||c.clientHeight,R=this.getVirtualRectSize(),ue=R.virtualRectCenterPositionX,ce=R.virtualRectCenterPositionY,Ge=0;Ge=1/Math.max((R.virtualRectWidth+n)/E,(R.virtualRectHeight+t)/T),g.zoom(Ge,[E/2,T/2]),g.focusOn(ue,ce,E,T)}}},{key:"openEdgeAnimation",value:function(t){this.getEdgeModelById(t).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){this.getEdgeModelById(t).closeEdgeAnimation()}}]),e}(),Ch=Et(xe.prototype,"width",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rh=Et(xe.prototype,"height",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ih=Et(xe.prototype,"edgeType",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh=Et(xe.prototype,"nodes",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bh=Et(xe.prototype,"edges",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zh=Et(xe.prototype,"overlapMode",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wr.DEFAULT}}),Fh=Et(xe.prototype,"background",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=Et(xe.prototype,"transformModel",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh=Et(xe.prototype,"editConfigModel",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=Et(xe.prototype,"gridSize",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xh=Et(xe.prototype,"partial",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uh=Et(xe.prototype,"fakerNode",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et(xe.prototype,"nodesMap",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"nodesMap"),xe.prototype),Et(xe.prototype,"edgesMap",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"edgesMap"),xe.prototype),Et(xe.prototype,"modelsMap",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"modelsMap"),xe.prototype),Et(xe.prototype,"sortElements",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"sortElements"),xe.prototype),Et(xe.prototype,"textEditElement",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"textEditElement"),xe.prototype),Et(xe.prototype,"selectElements",[y.m],Object.getOwnPropertyDescriptor(xe.prototype,"selectElements"),xe.prototype),Et(xe.prototype,"setFakerNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setFakerNode"),xe.prototype),Et(xe.prototype,"removeFakerNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"removeFakerNode"),xe.prototype),Et(xe.prototype,"setModel",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setModel"),xe.prototype),Et(xe.prototype,"toFront",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"toFront"),xe.prototype),Et(xe.prototype,"setElementZIndex",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementZIndex"),xe.prototype),Et(xe.prototype,"deleteNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteNode"),xe.prototype),Et(xe.prototype,"addNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"addNode"),xe.prototype),Et(xe.prototype,"cloneNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"cloneNode"),xe.prototype),Et(xe.prototype,"moveNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode"),xe.prototype),Et(xe.prototype,"moveNode2Coordinate",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNode2Coordinate"),xe.prototype),Et(xe.prototype,"editText",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"editText"),xe.prototype),Et(xe.prototype,"addEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"addEdge"),xe.prototype),Et(xe.prototype,"moveEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveEdge"),xe.prototype),Et(xe.prototype,"deleteEdgeBySourceAndTarget",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySourceAndTarget"),xe.prototype),Et(xe.prototype,"deleteEdgeById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeById"),xe.prototype),Et(xe.prototype,"deleteEdgeBySource",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeBySource"),xe.prototype),Et(xe.prototype,"deleteEdgeByTarget",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteEdgeByTarget"),xe.prototype),Et(xe.prototype,"setElementStateById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementStateById"),xe.prototype),Et(xe.prototype,"updateText",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateText"),xe.prototype),Et(xe.prototype,"selectNodeById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectNodeById"),xe.prototype),Et(xe.prototype,"selectEdgeById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectEdgeById"),xe.prototype),Et(xe.prototype,"selectElementById",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"selectElementById"),xe.prototype),Et(xe.prototype,"clearSelectElements",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearSelectElements"),xe.prototype),Et(xe.prototype,"moveNodes",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveNodes"),xe.prototype),Et(xe.prototype,"setDefaultEdgeType",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setDefaultEdgeType"),xe.prototype),Et(xe.prototype,"changeNodeType",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeNodeType"),xe.prototype),Et(xe.prototype,"changeEdgeType",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeEdgeType"),xe.prototype),Et(xe.prototype,"getNodeIncomingEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingEdge"),xe.prototype),Et(xe.prototype,"getNodeOutgoingEdge",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingEdge"),xe.prototype),Et(xe.prototype,"getNodeIncomingNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeIncomingNode"),xe.prototype),Et(xe.prototype,"getNodeOutgoingNode",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"getNodeOutgoingNode"),xe.prototype),Et(xe.prototype,"setTheme",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"setTheme"),xe.prototype),Et(xe.prototype,"resize",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"resize"),xe.prototype),Et(xe.prototype,"clearData",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"clearData"),xe.prototype),Et(xe.prototype,"translateCenter",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"translateCenter"),xe.prototype),Et(xe.prototype,"fitView",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"fitView"),xe.prototype),Et(xe.prototype,"openEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"openEdgeAnimation"),xe.prototype),Et(xe.prototype,"closeEdgeAnimation",[y.k],Object.getOwnPropertyDescriptor(xe.prototype,"closeEdgeAnimation"),xe.prototype),xe),$0=Kh;function Bu(e){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rf(){return Rf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Rf.apply(this,arguments)}function Zh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K0(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return(If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function V0(e){var r=function J0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=zu(e);if(r){var i=zu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Z0(this,o)}}function Z0(e,r){if(r&&("object"===Bu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zu(e){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function fo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jh,Q0=Dn(Vh=function(e){K0(t,e);var r=V0(t);function t(n){var o;(function Y0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),fo(kn(o=r.call(this)),"stepDrag",void 0),fo(kn(o),"stepScrollX",0),fo(kn(o),"stepScrollY",0),fo(kn(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY;o.setState({isDraging:!0});var R=o.props.graphModel;R.editConfigModel.stopMoveGraph||R.transformModel.translate(E,T)}),fo(kn(o),"onDragEnd",function(){o.setState({isDraging:!1})}),fo(kn(o),"zoomHandler",function(g){var E=o.props,T=E.graphModel,R=T.editConfigModel,k=T.transformModel,V=T.gridSize,ue=E.graphModel,ce=g.deltaX,ye=g.deltaY;if(R.stopScrollGraph||!0===g.ctrlKey){if(!R.stopZoomGraph){g.preventDefault();var qe=ue.getPointByClient({x:g.clientX,y:g.clientY}).canvasOverlayPosition;k.zoom(g.deltaY<0,[qe.x,qe.y])}}else{if(g.preventDefault(),o.stepScrollX+=ce,o.stepScrollY+=ye,Math.abs(o.stepScrollX)>=V){var pe=o.stepScrollX%V;k.translate(-(o.stepScrollX-pe)*k.SCALE_X,0),o.stepScrollX=pe}if(Math.abs(o.stepScrollY)>=V){var Le=o.stepScrollY%V;k.translate(0,-(o.stepScrollY-Le)*k.SCALE_Y),o.stepScrollY=Le}}}),fo(kn(o),"clickHandler",function(g){if("canvas-overlay"===g.target.getAttribute("name")){var T=o.props.graphModel;T.selectElements.size>0&&T.clearSelectElements(),T.eventCenter.emit(At.BLANK_CLICK,{e:g})}}),fo(kn(o),"handleContextMenu",function(g){if("canvas-overlay"===g.target.getAttribute("name")){g.preventDefault();var T=o.props.graphModel,R=T.getPointByClient({x:g.clientX,y:g.clientY});T.eventCenter.emit(At.BLANK_CONTEXTMENU,{e:g,position:R})}}),fo(kn(o),"mouseDownHandler",function(g){var E=o.props.graphModel,T=E.eventCenter,R=E.editConfigModel,k=E.transformModel.SCALE_X,V=E.gridSize,ce=!R.adjustEdge&&!R.adjustNodePosition;("canvas-overlay"===g.target.getAttribute("name")||ce)&&(R.stopMoveGraph?T.emit(At.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep(V*k),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var i=n.graphModel;return o.stepDrag=new oi({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:i.gridSize,eventType:"BLANK",isStopPropagation:!1,eventCenter:i.eventCenter,model:null}),o.state={isDraging:!1},o}return function W0(e,r,t){return r&&Zh(e.prototype,r),t&&Zh(e,t),e}(t,[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props,g=c.children,E=c.dnd,T=this.state.isDraging;return Object(Ee.g)("svg",Rf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(Ee.g)("g",{transform:s},g))}}]),t}(Ee.a))||Vh,_0=Q0;function Fu(e){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function q0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return(Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function rM(e){var r=function oM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Gu(e);if(r){var i=Gu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return nM(this,o)}}function nM(e,r){if(r&&("object"===Fu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _h(e)}function _h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function iM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var aM=Dn(Jh=function(e){tM(t,e);var r=rM(t);function t(){var n;q0(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return iM(_h(n=r.call.apply(r,[this].concat(i))),"setToolOverlayRef",function(c){var E=n.props.tool.getInstance();E.components.forEach(function(T){return T(E,c)}),E.components=[]}),n}return function eM(e,r,t){return r&&Qh(e.prototype,r),t&&Qh(e,t),e}(t,[{key:"getTools",value:function(){var o=this.props,i=o.tool,s=o.graphModel,g=i.getTools().map(function(E){return Object(Ee.g)(E,{graphModel:s,logicFlow:i.instance})});return i.components=g,g}},{key:"render",value:function(){return Object(Ee.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(Ee.a))||Jh;function Hu(e){return(Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return(Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function fM(e){var r=function pM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=ku(e);if(r){var i=ku(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return cM(this,o)}}function cM(e,r){if(r&&("object"===Hu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function dM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ev,hM=function(e){lM(t,e);var r=fM(t);function t(){return uM(this,t),r.apply(this,arguments)}return function sM(e,r,t){return r&&qh(e.prototype,r),t&&qh(e,t),e}(t,[{key:"render",value:function(){var o=this.props.background;return Object(Ee.g)("div",{className:"lf-background"},Object(Ee.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(Ee.a);function Xu(e){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return(zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function mM(e){var r=function OM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Uu(e);if(r){var i=Uu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return bM(this,o)}}function bM(e,r){if(r&&("object"===Xu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return rv(e)}function rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function EM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nv=Dn(ev=function(e){gM(t,e);var r=mM(t);function t(){var n;vM(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return EM(rv(n=r.call.apply(r,[this].concat(i))),"id",ni()),n}return function yM(e,r,t){return r&&tv(e.prototype,r),t&&tv(e,t),e}(t,[{key:"renderDot",value:function(){var o=this.props,i=o.config,s=i.color,c=i.thickness,E=o.size,T=o.visible,R=Math.min(Math.max(2,void 0===c?2:c),E/2),k=1;return T||(k=0),Object(Ee.g)("rect",{width:R,height:R,rx:R/2,ry:R/2,fill:s,opacity:k})}},{key:"renderMesh",value:function(){var o=this.props,i=o.config,s=i.color,c=i.thickness,E=o.size,T=o.visible,R=Math.min(Math.max(1,void 0===c?1:c),E/2),k="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),V=1;return T||(V=0),Object(Ee.g)("path",{d:k,stroke:s,strokeWidth:R,opacity:V})}},{key:"render",value:function(){var o=this.props,i=o.type,s=o.size,c=o.graphModel.transformModel,ue=[c.SCALE_X,c.SKEW_Y,c.SKEW_X,c.SCALE_Y,c.TRANSLATE_X,c.TRANSLATE_Y].join(","),ce="matrix(".concat(ue,")");return Object(Ee.g)("div",{className:"lf-grid"},Object(Ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Ee.g)("defs",null,Object(Ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ce,x:"0",y:"0",width:s,height:s},"dot"===i&&this.renderDot(),"mesh"===i&&this.renderMesh())),Object(Ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(Ee.a))||ev;function $u(e){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xM(e,r){return function wM(e){if(Array.isArray(e))return e}(e)||function MM(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function PM(e,r){if(e){if("string"==typeof e)return ov(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ov(e,r)}}(e,r)||function SM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ov(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}nv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(52);var iv,ii=function TM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=xM(t,2),o=n[0],i=n[1];("style"===o||"object"!==$u(i))&&(r[o]=i)}),Object(Ee.g)("line",r)};function Yu(e){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function av(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wu(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?av(Object(t),!0).forEach(function(n){AM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):av(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function AM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function NM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ff(e,r)}function Ff(e,r){return(Ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function CM(e){var r=function LM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ku(e);if(r){var i=Ku(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return RM(this,o)}}function RM(e,r){if(r&&("object"===Yu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function IM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ku(e){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var lv,BM=Dn(iv=function(e){jM(t,e);var r=CM(t);function t(){return NM(this,t),r.apply(this,arguments)}return function DM(e,r,t){return r&&uv(e.prototype,r),t&&uv(e,t),e}(t,[{key:"render",value:function(){var o=this.props.snaplineModel,i=o.position,s=o.isShowHorizontal,c=o.isShowVertical,g=o.getStyle(),E=i.x,T=void 0===E?0:E,R=i.y,k=void 0===R?0:R,V=Wu(Wu({x1:-1e5,y1:k,x2:1e5,y2:k},g),{},{stroke:s?g.stroke:"none"}),ue=Wu(Wu({x1:T,y1:-1e5,x2:T,y2:1e5},g),{},{stroke:c?g.stroke:"none"});return Object(Ee.g)("g",{className:"lf-snapline"},Object(Ee.g)(ii,V),Object(Ee.g)(ii,ue))}}]),t}(Ee.a))||iv;function Vu(e){return(Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zM(e,r){return function kM(e){if(Array.isArray(e))return e}(e)||function HM(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function GM(e,r){if(e){if("string"==typeof e)return sv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sv(e,r)}}(e,r)||function FM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function jo(e){var i=e.className,s=e.radius,c=e.x-e.width/2,g=e.y-e.height/2,E={};return Object.entries(e).forEach(function(T){var R=zM(T,2),k=R[0],V=R[1];"object"!==Vu(V)&&(E[k]=V)}),E.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",s&&(E.rx=s,E.ry=s),E.x=c,E.y=g,Object(Ee.g)("rect",E)}function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ui(){return Ui=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ui.apply(this,arguments)}function fv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function cv(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fv(Object(t),!0).forEach(function(n){XM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function XM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function UM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YM(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return(Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function WM(e){var r=function ZM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ju(e);if(r){var i=Ju(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return KM(this,o)}}function KM(e,r){if(r&&("object"===Zu(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function VM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}jo.defaultProps={className:"",radius:""};var hv,JM=Dn(lv=function(e){YM(t,e);var r=WM(t);function t(){return UM(this,t),r.apply(this,arguments)}return function $M(e,r,t){return r&&dv(e.prototype,r),t&&dv(e,t),e}(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,s=o.editConfigModel,c=s.hoverOutline,g=s.nodeSelectedOutline,E=[];return o.nodes.forEach(function(T){if(T.isHovered||T.isSelected){var R=T.isHovered,V=T.x,ue=T.y,ce=T.width,ye=T.height;if(g&&T.isSelected||c&&R){var pe=T.getOutlineStyle(),Ge={};if(Object.keys(pe).forEach(function(Be){"hover"!==Be&&(Ge[Be]=pe[Be])}),R){var Le=pe.hover;Ge=cv(cv({},Ge),Le)}E.push(Object(Ee.g)(jo,Ui({className:"lf-outline-node",x:V,y:ue,width:ce+10,height:ye+10},Ge)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,i=o.edges,s=o.editConfigModel,c=s.edgeSelectedOutline,g=s.hoverOutline,E=[],T=0;T<i.length;T++){var R=i[T];(c&&R.isSelected||g&&R.isHovered)&&(R.modelType===Ht.LINE_EDGE?E.push(this.getLineOutline(R)):R.modelType===Ht.POLYLINE_EDGE?E.push(this.getPolylineOutline(R)):R.modelType===Ht.BEZIER_EDGE&&E.push(this.getBezierOutline(R)))}return E}},{key:"getLineOutline",value:function(o){var i=o.startPoint,s=o.endPoint,c=(i.x+s.x)/2,g=(i.y+s.y)/2,E=Math.abs(i.x-s.x)+10,T=Math.abs(i.y-s.y)+10,R=o.getOutlineStyle();return Object(Ee.g)(jo,Ui({className:"lf-outline-edge",x:c,y:g,width:E,height:T},R))}},{key:"getPolylineOutline",value:function(o){var s=Hi(o.points),c=Ra(s,8),g=c.x,E=c.y,T=c.width,R=c.height,k=o.getOutlineStyle();return Object(Ee.g)(jo,Ui({className:"lf-outline",x:g,y:E,width:T,height:R},k))}},{key:"getBezierOutline",value:function(o){var s=Cu(o.path),c=Ra(s,8),g=c.x,E=c.y,T=c.width,R=c.height,k=o.getOutlineStyle();return Object(Ee.g)(jo,Ui({className:"lf-outline",x:g,y:E,width:T,height:R},k))}},{key:"render",value:function(){return Object(Ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(Ee.a))||lv;function Qu(e){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function QM(e,r){return function tw(e){if(Array.isArray(e))return e}(e)||function ew(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function qM(e,r){if(e){if("string"==typeof e)return pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pv(e,r)}}(e,r)||function _M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ba(e){var r=e.x,n=e.y,i=e.r,c=e.className,g={cx:void 0===r?0:r,cy:void 0===n?0:n,r:void 0===i?4:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var T=QM(E,2),R=T[0],k=T[1];"object"!==Qu(k)&&(g[R]=k)}),g.className=c?"lf-basic-shape ".concat(c):"lf-basic-shape",Object(Ee.g)("circle",g)}function _u(e){return(_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rw(e,r){return function aw(e){if(Array.isArray(e))return e}(e)||function iw(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function ow(e,r){if(e){if("string"==typeof e)return vv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vv(e,r)}}(e,r)||function nw(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function za(){return za=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},za.apply(this,arguments)}function yv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mv(e,r,t){return r&&gv(e.prototype,r),t&&gv(e,t),e}function bv(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return(Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function Ov(e){var r=function sw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=es(e);if(r){var i=es(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return uw(this,o)}}function uw(e,r){if(r&&("object"===_u(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return qu(e)}function qu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var xv,Ev=function(e){bv(t,e);var r=Ov(t);function t(){var n;return yv(this,t),kf(qu(n=r.call(this)),"dragHandler",void 0),kf(qu(n),"onDraging",function(o){var i=o.event,s=n.props,g=s.bezierModel,E=s.type,R=s.graphModel.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition;g.updateAdjustAnchor({x:R.x,y:R.y},E)}),kf(qu(n),"onDragEnd",function(){n.props.bezierModel.isDragging=!1}),n.dragHandler=new oi({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return mv(t,[{key:"render",value:function(){var o=this,i=this.props.position,s=i.x,c=i.y,T=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(Ee.g)(Ba,za({className:"lf-bezier-adjust-anchor",x:s,y:c},T,{onMouseDown:function(k){o.dragHandler.handleMouseDown(k)}}))}}]),t}(Ee.a),lw=Dn(hv=function(e){bv(t,e);var r=Ov(t);function t(){return yv(this,t),r.apply(this,arguments)}return mv(t,[{key:"getBezierAdjust",value:function(o,i){var c=o.id,E=rw(Cu(o.path),4),T=E[0],R=E[1],k=E[2],V=E[3],ce=o.getEdgeStyle().adjustLine,ye=[];return ye.push(Object(Ee.g)(ii,za({x1:T.x,y1:T.y,x2:R.x,y2:R.y},ce))),ye.push(Object(Ee.g)(Ev,{position:R,bezierModel:o,graphModel:i,key:"".concat(c,"_ePre"),type:"sNext"})),ye.push(Object(Ee.g)(ii,za({x1:V.x,y1:V.y,x2:k.x,y2:k.y},ce))),ye.push(Object(Ee.g)(Ev,{position:k,bezierModel:o,graphModel:i,key:"".concat(c,"_sNext"),type:"ePre"})),ye}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,i=o.edges,s=[],c=0;c<i.length;c++){var g=i[c];g.isSelected&&g.modelType===Ht.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,o))}return s}},{key:"render",value:function(){return Object(Ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(Ee.a))||hv;function ts(e){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dw(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return(Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function pw(e){var r=function yw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=rs(e);if(r){var i=rs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return hw(this,o)}}function hw(e,r){if(r&&("object"===ts(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function vw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rs(e){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Pv,gw=Dn(xv=function(e){dw(t,e);var r=pw(t);function t(){return fw(this,t),r.apply(this,arguments)}return function cw(e,r,t){return r&&Sv(e.prototype,r),t&&Sv(e,t),e}(t,[{key:"render",value:function(){var s=this.props.graphModel.transformModel.getTransformStyle().transform,c=this.props.children;return Object(Ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Ee.g)("g",{transform:s},c))}}]),t}(Ee.a))||xv;function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Uf(){return Uf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Uf.apply(this,arguments)}function mw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ow(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$f(e,r)}function $f(e,r){return($f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function Ew(e){var r=function Pw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=os(e);if(r){var i=os(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return xw(this,o)}}function xw(e,r){if(r&&("object"===ns(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function Sw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function os(e){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Mw=Dn(Pv=function(e){Ow(t,e);var r=Ew(t);function t(){return mw(this,t),r.apply(this,arguments)}return function bw(e,r,t){return r&&Mv(e.prototype,r),t&&Mv(e,t),e}(t,[{key:"getComponent",value:function(o,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",g=(0,this.props.getView)(o.type);return Object(Ee.g)(g,{key:o.id,model:o,graphModel:i,overlay:s})}},{key:"render",value:function(){var o=this,i=this.props,s=i.graphModel,c=i.tool,g=i.options,E=i.dnd,T=i.snaplineModel,R={};g.width&&(R.width="".concat(s.width,"px")),g.height&&(R.height="".concat(s.height,"px"));var k=s.fakerNode,ue=s.editConfigModel.adjustEdge;return Object(Ee.g)("div",{className:"lf-graph",style:R},Object(Ee.g)(_0,{graphModel:s,dnd:E},Object(Ee.g)("g",{className:"lf-base"},fu(s.sortElements,function(ce){return o.getComponent(ce,s)})),k?this.getComponent(k,s):""),Object(Ee.g)(gw,{graphModel:s},Object(Ee.g)(JM,{graphModel:s}),ue?Object(Ee.g)(lw,{graphModel:s}):"",!1!==g.snapline?Object(Ee.g)(BM,{snaplineModel:T}):""),Object(Ee.g)(aM,{graphModel:s,tool:c}),g.background&&Object(Ee.g)(hM,{background:g.background}),g.grid&&Object(Ee.g)(nv,Uf({},g.grid,{graphModel:s})))}}]),t}(Ee.a))||Pv,ww=Mw;function wv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function is(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?wv(Object(t),!0).forEach(function(n){co(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Tv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function co(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Nw=function(){function e(r){var t=this;(function Tw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),co(this,"nodeConfig",void 0),co(this,"lf",void 0),co(this,"fakerNode",void 0),co(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),co(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(is(is({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),co(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var i=t.clientToLocalPoint({x:o.clientX,y:o.clientY});t.fakerNode.moveTo(i.x,i.y);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(At.NODE_DND_DRAG,{data:g})}return!1}),co(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),co(this,"onDrop",function(o){if(t.lf.graphModel&&o&&t.nodeConfig){var i=t.lf.addNode(is(is({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var s=i.getData();t.lf.graphModel.eventCenter.emit(At.NODE_DND_ADD,{data:s,e:o})}}),this.lf=r.lf}return function Aw(e,r,t){return r&&Tv(e.prototype,r),t&&Tv(e,t),e}(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,i=Pd(this.lf.options,["grid","size"]),c=this.lf.graphModel.getPointByClient({x:n,y:o}).canvasOverlayPosition,E=c.y;return{x:Ao(c.x,i),y:Ao(E,i)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Av(e){var t=e.grid,n=e.width,o=e.height;if(!e.container)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");if("string"==typeof n||"string"==typeof o)throw new Error("width\u6216height\u4e0d\u652f\u6301\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u8bf7\u4f20\u6570\u5b57");return t&&(e.grid=Fr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),Fr({},Nv,e)}var Wt,Dv,Nv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yf(e,r){return function Rw(e){if(Array.isArray(e))return e}(e)||function Cw(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function jw(e,r){if(e){if("string"==typeof e)return jv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jv(e,r)}}(e,r)||function Dw(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jv(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Cv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function us(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Cv(Object(t),!0).forEach(function(n){Iv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Iw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Lw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $i(){return $i=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=zw(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},$i.apply(this,arguments)}function zw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Co(e)););return e}function Fw(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wf(e,r)}function Wf(e,r){return(Wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function Gw(e){var r=function kw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Co(e);if(r){var i=Co(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Hw(this,o)}}function Hw(e,r){if(r&&("object"===as(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ss(e)}function ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Iv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Sn(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Kf=(Wt=function(e){Fw(t,e);var r=Gw(t);function t(){var n;Lw(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Iv(ss(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.BEZIER_EDGE),Iw(ss(n),"path",Dv,ss(n)),n}return function Bw(e,r,t){return r&&Rv(e.prototype,r),t&&Rv(e,t),e}(t,[{key:"initEdgeData",value:function(o){this.offset=100,$i(Co(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return us(us({},$i(Co(t.prototype),"getEdgeStyle",this).call(this)),or(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,i=0;return this.pointsList.forEach(function(s){o+=s.x,i+=s.y}),{x:o/this.pointsList.length,y:i/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=$i(Co(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return us(us({},o),{},{pointsList:i})}},{key:"getControls",value:function(){return Th({start:this.startPoint,end:this.endPoint,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var i=Yf(o,4),s=i[0],c=i[1],g=i[2],E=i[3];return"M ".concat(s.x," ").concat(s.y,"\n    C ").concat(c.x," ").concat(c.y,",\n    ").concat(g.x," ").concat(g.y,",\n    ").concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls();this.updatePath(o.sNext,o.ePre)}},{key:"updatePath",value:function(o,i){var s={x:this.startPoint.x,y:this.startPoint.y},c={x:this.endPoint.x,y:this.endPoint.y};if(!o||!i){var g=this.getControls();o=g.sNext,i=g.ePre}this.pointsList=[s,o,i,c],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i;var s=Yf(this.pointsList,3),c=s[1],g=s[2];c.x+=o,c.y+=i,this.updatePath(c,g)}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i;var s=Yf(this.pointsList,3),c=s[1],g=s[2];g.x+=o,g.y+=i,this.updatePath(c,g)}},{key:"updateAdjustAnchor",value:function(o,i){"sNext"===i?this.pointsList[1]=o:"ePre"===i&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,s=o.endPoint,E=Th({start:i,end:s,sourceNode:o.sourceNode,targetNode:o.targetNode,offset:this.offset});this.pointsList=[i,E.sNext,E.ePre,s],this.initPoints()}}]),t}(xf),Dv=Sn(Wt.prototype,"path",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sn(Wt.prototype,"initPoints",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"initPoints"),Wt.prototype),Sn(Wt.prototype,"updatePoints",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updatePoints"),Wt.prototype),Sn(Wt.prototype,"updateStartPoint",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateStartPoint"),Wt.prototype),Sn(Wt.prototype,"updateEndPoint",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateEndPoint"),Wt.prototype),Sn(Wt.prototype,"moveStartPoint",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveStartPoint"),Wt.prototype),Sn(Wt.prototype,"moveEndPoint",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"moveEndPoint"),Wt.prototype),Sn(Wt.prototype,"updateAdjustAnchor",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateAdjustAnchor"),Wt.prototype),Sn(Wt.prototype,"getAdjustStart",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustStart"),Wt.prototype),Sn(Wt.prototype,"getAdjustEnd",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"getAdjustEnd"),Wt.prototype),Sn(Wt.prototype,"updateAfterAdjustStartAndEnd",[y.k],Object.getOwnPropertyDescriptor(Wt.prototype,"updateAfterAdjustStartAndEnd"),Wt.prototype),Wt);var _e,Lv,Bv,zv,Fv,Gv,Hv,kv,Xv,Uv,$v,Yv,Wv,Kv,Vv,Zv,Jv,Qv,_v,qv,Uw=function Xw(e){return null==e};function ls(e){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $w(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function Yw(e,r){if(e){if("string"==typeof e)return ey(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ey(e,r)}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return i=E.done,E},e:function(E){s=!0,c=E},f:function(){try{!i&&null!=t.return&&t.return()}finally{if(s)throw c}}}}function ey(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ty(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Hr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ty(Object(t),!0).forEach(function(n){Kr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ty(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ry(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function It(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var ho,ny,po=(_e=function(){function e(r,t){(function Ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Kr(this,"id",ni()),mr(this,"type",Lv,this),mr(this,"x",Bv,this),mr(this,"y",zv,this),mr(this,"text",Fv,this),mr(this,"properties",Gv,this),mr(this,"_width",Hv,this),mr(this,"_height",kv,this),mr(this,"anchorsOffset",Xv,this),mr(this,"isSelected",Uv,this),mr(this,"isHovered",$v,this),mr(this,"isShowAnchor",Yv,this),mr(this,"isDragging",Wv,this),mr(this,"isHitable",Kv,this),mr(this,"draggable",Vv,this),mr(this,"visible",Zv,this),Kr(this,"virtual",!1),Kr(this,"graphModel",void 0),mr(this,"zIndex",Jv,this),mr(this,"state",Qv,this),mr(this,"autoToFront",_v,this),mr(this,"style",qv,this),Kr(this,"BaseType",pr.NODE),Kr(this,"modelType",Ht.NODE),Kr(this,"additionStateData",void 0),Kr(this,"targetRules",[]),Kr(this,"sourceRules",[]),Kr(this,"moveRules",[]),Kr(this,"hasSetTargetRules",!1),Kr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return function Kw(e,r,t){return r&&ry(e.prototype,r),t&&ry(e,t),e}(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}this.formatText(t),Fr(this,Ta(t,["id","type","x","y","text","properties","virtual"])),this.graphModel.overlapMode===Wr.INCREASE&&(this.zIndex=t.zIndex||Of())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,i=t.value,s=this.properties;Object(y.x)(s)&&(s=Object(y.I)(s));var c={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===Wr.INCREASE&&(c.zIndex=this.zIndex),i&&(c.text={x:n,y:o,value:i}),c}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(y.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Hr(Hr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){return or(this.graphModel.theme.nodeText)}},{key:"getAnchorStyle",value:function(t){return or(this.graphModel.theme.anchor)}},{key:"getAnchorLineStyle",value:function(t){return or(this.graphModel.theme.anchorLine)}},{key:"getOutlineStyle",value:function(){return or(this.graphModel.theme.outline)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var c,s=!0,g=0;g<i.length;g++){var E=i[g];if(!E.validate.call(this,this,t,n,o)){s=!1,c=E.message;break}}return{isAllPass:s,msg:c}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var c,s=!0,g=0;g<i.length;g++){var E=i[g];if(!E.validate.call(this,t,this,n,o)){s=!1,c=E.message;break}}return{isAllPass:s,msg:c}}},{key:"isAllowMoveNode",value:function(t,n){var g,o=!0,i=!0,c=$w(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(c.s();!(g=c.n()).done;){var T=(0,g.value)(this,t,n);if(!T)return!1;if("object"===ls(T)){if(!1===T.x&&!1===T.y)return!1;o=o&&T.x,i=i&&T.y}}}catch(k){c.e(k)}finally{c.f()}return{x:o,y:i}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,i=this.y;return t&&t.length>0?t.map(function(s,c){return s.length?{id:"".concat(n,"_").concat(c),x:o+s[0],y:i+s[1]}:Hr(Hr({},s),{},{x:o+s.x,y:i+s.y,id:s.id||"".concat(n,"_").concat(c)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Uw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var i=!1,s=!1;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])i=!0,s=!0;else{var c=this.isAllowMoveNode(t,n);"boolean"==typeof c?(i=c,s=c):(i=c.x,s=c.y)}return i&&(this.x=this.x+t,this.text&&this.moveText(t,0)),s&&(this.y=this.y+n,this.text&&this.moveText(0,n)),i||s}},{key:"getMoveDistance",value:function(t,n){var i=!1,s=!1,c=0,g=0;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])i=!0,s=!0;else{var E=this.isAllowMoveNode(t,n);"boolean"==typeof E?(i=E,s=E):(i=E.x,s=E.y)}return i&&t&&(this.x=this.x+t,this.text&&this.moveText(t,0),c=t),s&&n&&(this.y=this.y+n,this.text&&this.moveText(0,n),g=n),[c,g]}},{key:"moveTo",value:function(t,n){var i=t-this.x,s=n-this.y;return!!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.isAllowMoveNode(i,s))&&(this.text&&this.text&&this.moveText(i,s),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text;this.text={value:o.value,editable:o.editable,draggable:o.draggable,x:o.x+t,y:o.y+n}}},{key:"updateText",value:function(t){this.text=Hr(Hr({},this.text),{},{value:t})}},{key:"setSelected",value:function(){this.isSelected=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){this.isShowAnchor=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=Hr(Hr({},this.properties),{},Kr({},t,Dr(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Hr(Hr({},this.properties),Dr(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=Hr(Hr({},this.style),{},Kr({},t,Dr(n)))}},{key:"setStyles",value:function(t){this.style=Hr(Hr({},this.style),Dr(t))}},{key:"updateStyles",value:function(t){this.style=Hr({},Dr(t))}},{key:"setZIndex",value:function(){this.zIndex=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}},{key:"updateAttributes",value:function(t){Fr(this,t)}}]),e}(),Lv=It(_e.prototype,"type",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bv=It(_e.prototype,"x",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zv=It(_e.prototype,"y",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fv=It(_e.prototype,"text",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Gv=It(_e.prototype,"properties",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Hv=It(_e.prototype,"_width",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),kv=It(_e.prototype,"_height",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Xv=It(_e.prototype,"anchorsOffset",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Uv=It(_e.prototype,"isSelected",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$v=It(_e.prototype,"isHovered",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yv=It(_e.prototype,"isShowAnchor",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wv=It(_e.prototype,"isDragging",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kv=It(_e.prototype,"isHitable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vv=It(_e.prototype,"draggable",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zv=It(_e.prototype,"visible",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jv=It(_e.prototype,"zIndex",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qv=It(_e.prototype,"state",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_v=It(_e.prototype,"autoToFront",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qv=It(_e.prototype,"style",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),It(_e.prototype,"incoming",[y.m],Object.getOwnPropertyDescriptor(_e.prototype,"incoming"),_e.prototype),It(_e.prototype,"outgoing",[y.m],Object.getOwnPropertyDescriptor(_e.prototype,"outgoing"),_e.prototype),It(_e.prototype,"addNodeMoveRules",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"addNodeMoveRules"),_e.prototype),It(_e.prototype,"move",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"move"),_e.prototype),It(_e.prototype,"getMoveDistance",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"getMoveDistance"),_e.prototype),It(_e.prototype,"moveTo",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveTo"),_e.prototype),It(_e.prototype,"moveText",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveText"),_e.prototype),It(_e.prototype,"updateText",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateText"),_e.prototype),It(_e.prototype,"setSelected",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setSelected"),_e.prototype),It(_e.prototype,"setHovered",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setHovered"),_e.prototype),It(_e.prototype,"setIsShowAnchor",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setIsShowAnchor"),_e.prototype),It(_e.prototype,"setHitable",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setHitable"),_e.prototype),It(_e.prototype,"setElementState",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setElementState"),_e.prototype),It(_e.prototype,"setProperty",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setProperty"),_e.prototype),It(_e.prototype,"setProperties",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setProperties"),_e.prototype),It(_e.prototype,"deleteProperty",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"deleteProperty"),_e.prototype),It(_e.prototype,"setStyle",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setStyle"),_e.prototype),It(_e.prototype,"setStyles",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setStyles"),_e.prototype),It(_e.prototype,"updateStyles",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateStyles"),_e.prototype),It(_e.prototype,"setZIndex",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"setZIndex"),_e.prototype),It(_e.prototype,"updateAttributes",[y.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateAttributes"),_e.prototype),_e);function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function iy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?oy(Object(t),!0).forEach(function(n){uy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Zw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ay(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cs(){return cs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=Qw(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},cs.apply(this,arguments)}function Qw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Yi(e)););return e}function _w(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vf(e,r)}function Vf(e,r){return(Vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function qw(e){var r=function tT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Yi(e);if(r){var i=Yi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return eT(this,o)}}function eT(e,r){if(r&&("object"===fs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ds(e)}function ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function uy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Zf(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var jr,sy,ly,ps=(ho=function(e){_w(t,e);var r=qw(t);function t(){var n;Zw(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return uy(ds(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.CIRCLE_NODE),Vw(ds(n),"r",ny,ds(n)),n}return function Jw(e,r,t){return r&&ay(e.prototype,r),t&&ay(e,t),e}(t,[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=cs(Yi(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.circle;return iy(iy({},o),or(i))}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.r;return[{x:o,y:i-s,id:"".concat(this.id,"_0")},{x:o+s,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+s,id:"".concat(this.id,"_2")},{x:o-s,y:i,id:"".concat(this.id,"_3")}]}}]),t}(po),ny=Zf(ho.prototype,"r",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Zf(ho.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(ho.prototype,"width"),ho.prototype),Zf(ho.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(ho.prototype,"height"),ho.prototype),ho);function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jf(e,r){return function iT(e){if(Array.isArray(e))return e}(e)||function oT(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function nT(e,r){if(e){if("string"==typeof e)return fy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fy(e,r)}}(e,r)||function rT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fy(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function dy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?cy(Object(t),!0).forEach(function(n){vy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function py(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function aT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vs(){return vs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=sT(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},vs.apply(this,arguments)}function sT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Ki(e)););return e}function lT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qf(e,r)}function Qf(e,r){return(Qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function fT(e){var r=function dT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ki(e);if(r){var i=Ki(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return cT(this,o)}}function cT(e,r){if(r&&("object"===hs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Wi(e)}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Vi(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}a(127);var Xn,yy,gy,ys=(jr=function(e){lT(t,e);var r=fT(t);function t(){var n;aT(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return vy(Wi(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.DIAMOND_NODE),py(Wi(n),"rx",sy,Wi(n)),py(Wi(n),"ry",ly,Wi(n)),n}return function uT(e,r,t){return r&&hy(e.prototype,r),t&&hy(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=vs(Ki(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.diamond;return dy(dy({},o),or(i))}},{key:"points",get:function(){var o=this.x,i=this.y,s=this.rx,c=this.ry;return[[o,i-c],[o+s,i],[o,i+c],[o-s,i]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=Jf(s,1)[0];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=Jf(s,2)[1];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(i,s){var c=Jf(i,2);return{x:c[0],y:c[1],id:"".concat(o.id,"_").concat(s)}})}}]),t}(po),sy=Vi(jr.prototype,"rx",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ly=Vi(jr.prototype,"ry",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Vi(jr.prototype,"points",[y.m],Object.getOwnPropertyDescriptor(jr.prototype,"points"),jr.prototype),Vi(jr.prototype,"pointsPosition",[y.m],Object.getOwnPropertyDescriptor(jr.prototype,"pointsPosition"),jr.prototype),Vi(jr.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(jr.prototype,"width"),jr.prototype),Vi(jr.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(jr.prototype,"height"),jr.prototype),jr);function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function my(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function by(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?my(Object(t),!0).forEach(function(n){xy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):my(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Oy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function pT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ey(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ms(){return ms=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=vT(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},ms.apply(this,arguments)}function vT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Ji(e)););return e}function yT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return(_f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function gT(e){var r=function bT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ji(e);if(r){var i=Ji(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return mT(this,o)}}function mT(e,r){if(r&&("object"===gs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Zi(e)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bs(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var hn,Sy,Os=(Xn=function(e){yT(t,e);var r=gT(t);function t(){var n;pT(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return xy(Zi(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.ELLIPSE_NODE),Oy(Zi(n),"rx",yy,Zi(n)),Oy(Zi(n),"ry",gy,Zi(n)),n}return function hT(e,r,t){return r&&Ey(e.prototype,r),t&&Ey(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=ms(Ji(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.ellipse;return by(by({},o),or(i))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.rx,c=this.ry;return[{x:o,y:i-c,id:"".concat(this.id,"_0")},{x:o+s,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c,id:"".concat(this.id,"_2")},{x:o-s,y:i,id:"".concat(this.id,"_3")}]}}]),t}(po),yy=bs(Xn.prototype,"rx",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),gy=bs(Xn.prototype,"ry",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),bs(Xn.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(Xn.prototype,"width"),Xn.prototype),bs(Xn.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(Xn.prototype,"height"),Xn.prototype),Xn);function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qf(e,r){return function ST(e){if(Array.isArray(e))return e}(e)||function xT(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function ET(e,r){if(e){if("string"==typeof e)return Py(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Py(e,r)}}(e,r)||function OT(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Py(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function My(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?My(Object(t),!0).forEach(function(n){Ay(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):My(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PT(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function MT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xs(){return xs=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=TT(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},xs.apply(this,arguments)}function TT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=Qi(e)););return e}function AT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ec(e,r)}function ec(e,r){return(ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function NT(e){var r=function jT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Qi(e);if(r){var i=Qi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return DT(this,o)}}function DT(e,r){if(r&&("object"===Es(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Ss(e)}function Ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ay(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ps(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var tc,Ny,Ms=(hn=function(e){AT(t,e);var r=NT(t);function t(){var n;MT(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Ay(Ss(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.POLYGON_NODE),PT(Ss(n),"points",Sy,Ss(n)),n}return function wT(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}(t,[{key:"getNodeStyle",value:function(){var o=xs(Qi(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.polygon;return wy(wy({},o),or(i))}},{key:"pointsPosition",get:function(){var o=this.x,i=this.y,s=this.width,c=this.height;return this.points.map(function(E){return{x:E[0]+o-s/2,y:E[1]+i-c/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=qf(s,1)[0];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var g=qf(s,2)[1];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this,i=this.x,s=this.y,c=this.width,g=this.height;return this.points.map(function(T,R){var k=qf(T,2);return{x:i+k[0]-c/2,y:s+k[1]-g/2,id:"".concat(o.id,"_").concat(R)}})}}]),t}(po),Sy=Ps(hn.prototype,"points",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ps(hn.prototype,"pointsPosition",[y.m],Object.getOwnPropertyDescriptor(hn.prototype,"pointsPosition"),hn.prototype),Ps(hn.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Ps(hn.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function jy(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Dy(Object(t),!0).forEach(function(n){Ry(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function CT(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function RT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ts(){return Ts=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=LT(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Ts.apply(this,arguments)}function LT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=_i(e)););return e}function BT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return(rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function zT(e){var r=function GT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=_i(e);if(r){var i=_i(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return FT(this,o)}}function FT(e,r){if(r&&("object"===ws(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return As(e)}function As(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ry(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ro,Ns=(tc=function(e){BT(t,e);var r=zT(t);function t(){var n;RT(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Ry(As(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.RECT_NODE),CT(As(n),"radius",Ny,As(n)),n}return function IT(e,r,t){return r&&Cy(e.prototype,r),t&&Cy(e,t),e}(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.width,c=this.height;return[{x:o,y:i-c/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:i,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Ts(_i(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.rect;return jy(jy({},o),or(i))}}]),t}(po),Ny=function HT(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}(tc.prototype,"radius",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tc);function Ds(e){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Iy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ly(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Iy(Object(t),!0).forEach(function(n){Fy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Iy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function By(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function js(){return js=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,t,n){var o=UT(r,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},js.apply(this,arguments)}function UT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&null!==(e=qi(e)););return e}function $T(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return(nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function YT(e){var r=function KT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=qi(e);if(r){var i=qi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return WT(this,o)}}function WT(e,r){if(r&&("object"===Ds(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return zy(e)}function zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e){return(qi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gy(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Cs=(Ro=function(e){$T(t,e);var r=YT(t);function t(){var n;kT(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Fy(zy(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.TEXT_NODE),n}return function XT(e,r,t){return r&&By(e.prototype,r),t&&By(e,t),e}(t,[{key:"getTextStyle",value:function(){var o=js(qi(t.prototype),"getTextStyle",this).call(this),i=this.graphModel.theme.text;return Ly(Ly({},o),or(i))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle();return bf({rows:o,fontSize:i.fontSize,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle();return bf({rows:o,fontSize:i.fontSize,rowsLength:o.length}).height}}]),t}(po),Gy(Ro.prototype,"width",[y.m],Object.getOwnPropertyDescriptor(Ro.prototype,"width"),Ro.prototype),Gy(Ro.prototype,"height",[y.m],Object.getOwnPropertyDescriptor(Ro.prototype,"height"),Ro.prototype),Ro);function Rs(e){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function VT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JT(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return(oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function QT(e){var r=function qT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Is(e);if(r){var i=Is(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return _T(this,o)}}function _T(e,r){if(r&&("object"===Rs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ky(e)}function ky(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function eA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Pn,Xy,Uy,$y,Ls=function(e){JT(t,e);var r=QT(t);function t(){var n;VT(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return eA(ky(n=r.call.apply(r,[this].concat(i))),"modelType",Ht.HTML_NODE),n}return function ZT(e,r,t){return r&&Hy(e.prototype,r),t&&Hy(e,t),e}(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,s=this.width,c=this.height;return[{x:o,y:i-c/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:i,id:"".concat(this.id,"_3")}]}}]),t}(po);function Yy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ic(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Wy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ky(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fa(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(s){i[s]=n[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(s,c){return c(e,r,s)||s},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}var Vy=(Pn=function(){function e(r){(function rA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Ky(this,"graphModel",void 0),ic(this,"isShowHorizontal",Xy,this),ic(this,"isShowVertical",Uy,this),ic(this,"position",$y,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return function nA(e,r,t){return r&&Wy(e.prototype,r),t&&Wy(e,t),e}(e,[{key:"getStyle",value:function(){return function tA(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Yy(Object(t),!0).forEach(function(n){Ky(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,i=t.y,s=!1,c=!1,g=0;g<n.length;g++){var E=n[g];if(E.id!==t.id&&(o===E.x&&(s=!0),i===E.y&&(c=!0),s&&c))break}return{isShowVertical:s,isShowHorizontal:c,position:{x:o,y:i}}}},{key:"getHorizontalSnapline",value:function(t,n){var i,c,o=!1,s=t.id;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)c=Jr(g);else{var E=this.graphModel.getNodeModelById(s);c=Jr(E)}}for(var T=0;T<n.length;T++){var R=n[T];if(R.id!==t.id){var k=Jr(R);if(k.minY===c.minY||k.maxY===c.minY){o=!0,i=c.minY;break}if(k.minY===c.maxY||k.maxY===c.maxY){o=!0,i=c.maxY;break}}}return Fr({isShowHorizontal:o,position:{y:i}})}},{key:"getVerticalSnapline",value:function(t,n){var i,c,o=!1,s=t.id;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)c=Jr(g);else{var E=this.graphModel.getNodeModelById(s);c=Jr(E)}}for(var T=0;T<n.length;T++){var R=n[T];if(R.id!==t.id){var k=Jr(R);if(k.minX===c.minX||k.maxX===c.minX){o=!0,i=c.minX;break}if(k.minX===c.maxX||k.maxX===c.maxX){o=!0,i=c.maxX;break}}}return Fr({isShowVertical:o,position:{x:i}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),s=o.isShowVertical;if(!o.isShowHorizontal){var c=this.getHorizontalSnapline(t,n);c.isShowHorizontal&&(o.isShowHorizontal=c.isShowHorizontal,o.position.y=c.position.y)}if(!s){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical;this.position=t.position,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var o=this.getSnapLinePosition(t,this.graphModel.nodes);this.setSnaplineInfo(o)}}]),e}(),Xy=Fa(Pn.prototype,"isShowHorizontal",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uy=Fa(Pn.prototype,"isShowVertical",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$y=Fa(Pn.prototype,"position",[y.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa(Pn.prototype,"clearSnapline",[y.k],Object.getOwnPropertyDescriptor(Pn.prototype,"clearSnapline"),Pn.prototype),Fa(Pn.prototype,"setNodeSnapLine",[y.k],Object.getOwnPropertyDescriptor(Pn.prototype,"setNodeSnapLine"),Pn.prototype),Pn),Ga=new Map,Zy=function(r){var t=ni();var o=window.requestAnimationFrame(function n(){if(r(),Ga.get(t)){var s=window.requestAnimationFrame(n);Ga.set(t,s)}});return Ga.set(t,o),t},Bs=function(r){var t=Ga.get(r);t&&(window.cancelAnimationFrame(t),Ga.delete(r))};function zs(e){return(zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ha(){return Ha=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ha.apply(this,arguments)}function Jy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Fs(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Jy(Object(t),!0).forEach(function(n){$n(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oA(e,r){return function sA(e){if(Array.isArray(e))return e}(e)||function uA(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function aA(e,r){if(e){if("string"==typeof e)return Qy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qy(e,r)}}(e,r)||function iA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ac(e,r)}function ac(e,r){return(ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function dA(e){var r=function hA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Gs(e);if(r){var i=Gs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return pA(this,o)}}function pA(e,r){if(r&&("object"===zs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gs(e){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vA=function(e){cA(t,e);var r=dA(t);function t(){var n;return function lA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),$n(Un(n=r.call(this)),"preTargetNode",void 0),$n(Un(n),"sourceRuleResults",void 0),$n(Un(n),"targetRuleResults",void 0),$n(Un(n),"dragHandler",void 0),$n(Un(n),"t",void 0),$n(Un(n),"onDragStart",function(o){var i=o.event,s=n.props,c=s.anchorData,g=s.nodeModel,E=s.graphModel,T=E.overlapMode;E.selectNodeById(g.id),T!==Wr.INCREASE&&g.autoToFront&&E.toFront(g.id),E.eventCenter.emit(At.ANCHOR_DRAGSTART,{data:c,e:i,nodeModel:g}),n.setState({startX:c.x,startY:c.y,endX:c.x,endY:c.y})}),$n(Un(n),"onDraging",function(o){var i=o.event,s=n.props,c=s.graphModel,g=s.nodeModel,E=s.anchorData,T=c.transformModel,R=c.eventCenter,k=c.width,V=c.height,ue=c.editConfigModel,ce=ue.autoExpand,ye=ue.stopMoveGraph,Le=c.getPointByClient({x:i.clientX,y:i.clientY}),Be=Le.domOverlayPosition,lt=Be.x,qe=Be.y,St=Le.canvasOverlayPosition,jt=St.x,yt=St.y;n.t&&Bs(n.t);var Lt=[];lt<10?Lt=[10,0]:lt+10>k?Lt=[-10,0]:qe<10?Lt=[0,10]:qe+10>V&&(Lt=[0,-10]),n.setState({endX:jt,endY:yt,draging:!0}),n.moveAnchorEnd(jt,yt),Lt.length>0&&!ye&&ce&&(n.t=Zy(function(){var Vn=oA(Lt,2),Zn=Vn[0],li=Vn[1];T.translate(Zn,li);var na=n.state,Bo=na.endX,oa=na.endY;n.setState({endX:Bo-Zn,endY:oa-li}),n.moveAnchorEnd(Bo-Zn,oa-li)})),R.emit(At.ANCHOR_DRAG,{data:E,e:i,nodeModel:g})}),$n(Un(n),"onDragEnd",function(o){n.t&&Bs(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var i=n.props;i.graphModel.eventCenter.emit(At.ANCHOR_DRAGEND,{data:i.anchorData,e:o,nodeModel:i.nodeModel})}),$n(Un(n),"checkEnd",function(o){var i=n.props,s=i.graphModel,c=i.nodeModel,g=i.anchorData,E=g.x,T=g.y,R=g.id,V=n.state,ye=V.draging,pe=gu({x:V.endX,y:V.endY},s);if(n.preTargetNode&&n.preTargetNode.state!==Kt.DEFAULT&&n.preTargetNode.setElementState(Kt.DEFAULT),ye&&pe&&pe.node){var Ge=pe.node,Le=pe.anchor.id,Be="".concat(c.id,"_").concat(Ge.id,"_").concat(Le,"_").concat(R),lt=n.sourceRuleResults.get(Be)||{},qe=lt.isAllPass,St=lt.msg,jt=n.targetRuleResults.get(Be)||{},Lt=jt.msg;if(qe&&jt.isAllPass){Ge.setElementState(Kt.DEFAULT);var Sr=s.edgeGenerator(c.getData(),s.getNodeModelById(pe.node.id).getData()),_r=s.addEdge(Fs(Fs({},Sr),{},{sourceNodeId:c.id,sourceAnchorId:R,startPoint:{x:E,y:T},targetNodeId:pe.node.id,targetAnchorId:pe.anchor.id,endPoint:{x:pe.anchor.x,y:pe.anchor.y}}));s.eventCenter.emit(At.ANCHOR_DROP,{data:n.props.anchorData,e:o,nodeModel:c,edgeModel:_r})}else{var Zn=Ge.getData();s.eventCenter.emit(At.CONNECTION_NOT_ALLOWED,{data:Zn,msg:Lt||St})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new oi({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return function fA(e,r,t){return r&&_y(e.prototype,r),t&&_y(e,t),e}(t,[{key:"getAnchorShape",value:function(){var o=this.props,i=o.anchorData,s=o.style,g=o.node.getAnchorShape(i);if(g)return g;var E=i.x,T=i.y,R=Fs(Fs({},s),s.hover);return Object(Ee.g)("g",null,Object(Ee.g)(Ba,Ha({className:"lf-node-anchor-hover"},R,{x:E,y:T})),Object(Ee.g)(Ba,Ha({className:"lf-node-anchor"},s,{x:E,y:T})))}},{key:"moveAnchorEnd",value:function(o,i){var s=this.props,g=s.nodeModel,E=s.anchorData,T=gu({x:o,y:i},s.graphModel);if(T){var R=T.node,k=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(Kt.DEFAULT),E.id===k)return;this.preTargetNode=R;var V="".concat(g.id,"_").concat(R.id,"_").concat(k,"_").concat(E.id);if(!this.targetRuleResults.has(V)){var ue=T.anchor,ce=g.isAllowConnectedAsSource(R,E,ue),ye=R.isAllowConnectedAsTarget(g,E,ue);this.sourceRuleResults.set(V,bu(ce)),this.targetRuleResults.set(V,bu(ye))}var Ge=this.sourceRuleResults.get(V).isAllPass,Le=this.targetRuleResults.get(V);R.setElementState(Ge&&Le.isAllPass?Kt.ALLOW_CONNECT:Kt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Kt.DEFAULT&&this.preTargetNode.setElementState(Kt.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state;return Fn(o.startX,o.startY,o.endX,o.endY)>10}},{key:"render",value:function(){var o=this,i=this.state,s=i.startX,c=i.startY,g=i.endX,E=i.endY,T=this.props,R=T.anchorData.edgeAddable,k=T.edgeStyle;return Object(Ee.g)("g",{className:"lf-anchor"},Object(Ee.g)("g",{onMouseDown:function(ue){!1!==R&&o.dragHandler.handleMouseDown(ue)}},this.getAnchorShape()),this.isShowLine()&&Object(Ee.g)(ii,Ha({x1:s,y1:c,x2:g,y2:E},k,{"pointer-events":"none"})))}}]),t}(Ee.a),yA=vA;function qy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gA(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?qy(Object(t),!0).forEach(function(n){mA(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bA(e,r){return function SA(e){if(Array.isArray(e))return e}(e)||function xA(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function EA(e,r){if(e){if("string"==typeof e)return eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eg(e,r)}}(e,r)||function OA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tg(e){var r=e.x,t=void 0===r?0:r,n=e.y,o=void 0===n?0:n,i=e.value,s=e.fontSize,c=e.fill,E=e.overflowMode,T=void 0===E?"default":E,R=e.textWidth,k=void 0===R?"":R,V=e.model,ue={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:void 0===c?"currentColor":c};if(Object.entries(e).forEach(function(Be){var lt=bA(Be,2),qe=lt[0],St=lt[1];"object"!==Hs(St)&&(ue[qe]=St)}),i){var ce=String(i).split(/[\r\n]/g),ye=ce.length;if("default"!==T){var pe=V.BaseType;if(pe===pr.NODE&&V.modelType!==Ht.TEXT_NODE||pe===pr.EDGE&&k)return function PA(e){var t=e.fontSize,n=e.model,o=e.fontFamily,i=void 0===o?"":o,s=e.lineHeight,c=e.wrapPadding,g=void 0===c?"0, 0":c,E=e.overflowMode,T=e.x,R=e.y,V=n.textHeight,ue=e.textWidth||n.width,ce=String(e.value).split(/[\r\n]/g),ye=ce.length,pe=Lp({rows:ce,style:{fontSize:"".concat(t,"px"),width:"".concat(ue,"px"),fontFamily:i,lineHeight:s,padding:g},rowsLength:ye,className:"lf-get-text-height"}),Ge=n.height>pe?n.height:pe;V&&(Ge=V);var Le="ellipsis"===E;return Object(Ee.g)("g",null,Object(Ee.g)("foreignObject",{width:ue,height:Ge,x:T-ue/2,y:R-Ge/2},Object(Ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ge,width:ue,padding:g}},Object(Ee.g)("div",{className:Le?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:gA({},e)},ce.map(function(Be){return Object(Ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},Be)})))))}(e)}if(ye>1){var Le=ce.map(function(Be,lt){var St=(lt-(ye-1)/2)*(s+2);return Object(Ee.g)("tspan",{className:"lf-text-tspan",x:t,y:o+St},Be)});return Object(Ee.g)("text",ue,Le)}return Object(Ee.g)("text",ue,i)}}function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uc(){return uc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},uc.apply(this,arguments)}function MA(e,r){return function NA(e){if(Array.isArray(e))return e}(e)||function AA(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function TA(e,r){if(e){if("string"==typeof e)return rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rg(e,r)}}(e,r)||function wA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return(sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function RA(e){var r=function LA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Xs(e);if(r){var i=Xs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return IA(this,o)}}function IA(e,r){if(r&&("object"===ks(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xs(e){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ai(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}a(63);var og=function(e){CA(t,e);var r=RA(t);function t(n){var o;return function DA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),ai(Io(o=r.call(this)),"dragHandler",void 0),ai(Io(o),"sumDeltaX",0),ai(Io(o),"sumDeltaY",0),ai(Io(o),"stepDrag",void 0),ai(Io(o),"onDraging",function(c){var T=o.props,R=T.model,ue=MA(T.graphModel.transformModel.fixDeltaXY(c.deltaX,c.deltaY),2);R.moveText(ue[0],ue[1])}),ai(Io(o),"dblClickHandler",function(){o.props.editable&&o.props.model.setElementState(Kt.TEXT_EDIT)}),ai(Io(o),"mouseDownHandle",function(c){var g=o.props;(g.draggable||g.graphModel.editConfigModel.nodeTextDraggable)&&o.stepDrag.handleMouseDown(c)}),o.stepDrag=new oi({onDraging:o.onDraging,step:1,model:n.model,isStopPropagation:n.draggable}),o}return function jA(e,r,t){return r&&ng(e.prototype,r),t&&ng(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props,i=o.model,c=i.text,ue={x:c.x,y:c.y,className:"",value:c.value};ue.className=c.editable?"lf-element-text":c.draggable||o.graphModel.editConfigModel.nodeTextDraggable?"lf-text-draggable":"lf-text-disabled";var ce=i.getTextStyle();return Object(Ee.g)(tg,uc({},ue,ce,{model:i}))}},{key:"render",value:function(){if(this.props.model.text)return Object(Ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(Ee.a),BA=null!==window.navigator.userAgent.match(/MSIE|Trident/);function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $s(e,r){return function HA(e){if(Array.isArray(e))return e}(e)||function GA(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function FA(e,r){if(e){if("string"==typeof e)return ig(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ig(e,r)}}(e,r)||function zA(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ig(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return(lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function $A(e){var r=function WA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ys(e);if(r){var i=Ys(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return YA(this,o)}}function YA(e,r){if(r&&("object"===Us(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Cr(e)}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ys(e){return(Ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vo=function(e){UA(t,e);var r=$A(t);function t(n){var o;(function kA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),kr(Cr(o=r.call(this)),"t",void 0),kr(Cr(o),"moveOffset",void 0),kr(Cr(o),"stepDrag",void 0),kr(Cr(o),"contextMenuTime",void 0),kr(Cr(o),"startTime",void 0),kr(Cr(o),"clickTimer",void 0),kr(Cr(o),"onDragStart",function(E){var T=E.event,V=o.props,ue=V.model,pe=V.graphModel.getPointByClient({x:T.clientX,y:T.clientY}).canvasOverlayPosition;o.moveOffset={x:ue.x-pe.x,y:ue.y-pe.y}}),kr(Cr(o),"onDraging",function(E){var T=E.event,R=o.props,k=R.model,V=R.graphModel,ue=V.editConfigModel,ce=ue.stopMoveGraph,ye=ue.autoExpand,pe=V.transformModel,Ge=V.width,Le=V.height,Be=V.gridSize;k.isDragging=!0;var jt=V.getPointByClient({x:T.clientX,y:T.clientY}).canvasOverlayPosition,yt=jt.x,Lt=jt.y,_r=$s(pe.CanvasPointToHtmlPoint([yt,Lt]),2),Vn=_r[0],Zn=_r[1];if(Lt+=o.moveOffset.y,yt=Ao(yt+=o.moveOffset.x,Be),Lt=Ao(Lt,Be),Ge&&Le){if(!ye||ce||!(Vn<0||Zn<0||Vn>Ge||Zn>Le)){var Bo=$s(pe.CanvasPointToHtmlPoint([yt-k.width/2,Lt-k.height/2]),2),oa=Bo[0],_c=Bo[1],sm=$s(pe.CanvasPointToHtmlPoint([yt+k.width/2,Lt+k.height/2]),2),Ij=sm[0],Lj=sm[1],zl=Math.max(Be,20),ia=[];oa<0?ia=[zl,0]:Ij>V.width?ia=[-zl,0]:_c<0?ia=[0,zl]:Lj>V.height&&(ia=[0,-zl]),o.t&&Bs(o.t),ia.length>0&&!ce&&ye?o.t=Zy(function(){var lm=$s(ia,2),fm=lm[0],cm=lm[1];pe.translate(fm,cm),V.moveNode(k.id,-fm/pe.SCALE_X,-cm/pe.SCALE_X)}):V.moveNode2Coordinate(k.id,yt,Lt)}}else V.moveNode2Coordinate(k.id,yt,Lt)}),kr(Cr(o),"onDragEnd",function(){o.t&&Bs(o.t),o.props.model.isDragging=!1}),kr(Cr(o),"handleClick",function(E){if(o.startTime&&!((new Date).getTime()-o.startTime>200)){var R=o.props,k=R.model,V=R.graphModel,ye={data:k.getData(),e:E,position:V.getPointByClient({x:E.clientX,y:E.clientY})},Ge=2===E.detail;if(2!==E.button){var Le=V.editConfigModel;V.selectNodeById(k.id,Ap(E,Le)),o.toFront(),Ge?(Le.nodeTextEdit&&k.text.editable&&(k.setSelected(!1),V.setElementStateById(k.id,Kt.TEXT_EDIT)),V.eventCenter.emit(At.NODE_DBCLICK,ye)):(V.eventCenter.emit(At.ELEMENT_CLICK,ye),V.eventCenter.emit(At.NODE_CLICK,ye))}}}),kr(Cr(o),"handleContextMenu",function(E){E.preventDefault();var T=o.props,R=T.model,k=T.graphModel,V=R.getData(),ue=k.getPointByClient({x:E.clientX,y:E.clientY});k.setElementStateById(R.id,Kt.SHOW_MENU,ue.domOverlayPosition),k.selectNodeById(R.id),k.eventCenter.emit(At.NODE_CONTEXTMENU,{data:V,e:E,position:ue}),o.toFront()}),kr(Cr(o),"handleMouseDown",function(E){var T=o.props,R=T.model,k=T.graphModel;o.startTime=(new Date).getTime(),k.editConfigModel.adjustNodePosition&&R.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),kr(Cr(o),"setHoverON",function(E){var T=o.props,R=T.model,k=T.graphModel;if(!R.isHovered){var V=R.getData();R.setHovered(!0),k.eventCenter.emit(At.NODE_MOUSEENTER,{data:V,e:E})}}),kr(Cr(o),"setHoverOFF",function(E){var T=o.props,R=T.model,k=T.graphModel,V=R.getData();!R.isHovered||(R.setHovered(!1),k.eventCenter.emit(At.NODE_MOUSELEAVE,{data:V,e:E}))}),kr(Cr(o),"onMouseOut",function(E){BA&&o.setHoverOFF(E)});var i=n.graphModel;return o.stepDrag=new oi({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:i.gridSize,eventType:"NODE",isStopPropagation:!1,eventCenter:i.eventCenter,model:n.model}),o}return function XA(e,r,t){return r&&ag(e.prototype,r),t&&ag(e,t),e}(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,i=this.props,s=i.model,c=i.graphModel;return s.isHitable&&(s.isSelected||s.isShowAnchor)&&!s.isDragging?fu(s.anchors,function(k,V){var ue=s.getAnchorLineStyle(k),ce=s.getAnchorStyle(k);return Object(Ee.g)(yA,{anchorData:k,node:o,style:ce,edgeStyle:ue,anchorIndex:V,nodeModel:s,graphModel:c,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,i=o.model,s=o.graphModel;if(i.state===Kt.TEXT_EDIT)return"";if(i.text){var c=s.editConfigModel,g=!1;return(i.text.draggable||c.nodeTextDraggable)&&(g=!0),Object(Ee.g)(og,{editable:c.nodeTextEdit&&i.text.editable,model:i,graphModel:s,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,s=o.isDraging,c=o.isSelected,g="lf-node";switch(o.state){case Kt.ALLOW_CONNECT:g+=" lf-node-allow";break;case Kt.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default"}return s&&(g+=" lf-isDragging"),c&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,i=o.model,s=o.graphModel;s.overlapMode!==Wr.INCREASE&&i.autoToFront&&s.toFront(i.id)}},{key:"render",value:function(){var ce,o=this.props,i=o.model,s=o.graphModel,c=s.editConfigModel,g=c.hideAnchors,E=c.adjustNodePosition,T=s.gridSize,R=s.transformModel.SCALE_X,k=i.isHitable,V=i.draggable,ue=Object(Ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors());return k?(E&&V&&this.stepDrag.setStep(T*R),ce=Object(Ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ue)):ce=Object(Ee.g)("g",{className:this.getStateClassName()},ue),ce}}],[{key:"getModel",value:function(o){return o}}]),t}(Ee.a);function Ws(e){return(Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fc(){return fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fc.apply(this,arguments)}function KA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZA(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return(cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function JA(e){var r=function qA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Ks(e);if(r){var i=Ks(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return QA(this,o)}}function QA(e,r){if(r&&("object"===Ws(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ks(e){return(Ks=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dc=function(e){ZA(t,e);var r=JA(t);function t(){return KA(this,t),r.apply(this,arguments)}return function VA(e,r,t){return r&&ug(e.prototype,r),t&&ug(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ee.g)(jo,fc({},i,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vo);function Vs(e){return(Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pc(){return pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pc.apply(this,arguments)}function eN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return(hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function nN(e){var r=function aN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Zs(e);if(r){var i=Zs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return oN(this,o)}}function oN(e,r){if(r&&("object"===Vs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function iN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zs(e){return(Zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var vc=function(e){rN(t,e);var r=nN(t);function t(){return eN(this,t),r.apply(this,arguments)}return function tN(e,r,t){return r&&sg(e.prototype,r),t&&sg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,s=o.y,c=o.r,g=o.getNodeStyle();return Object(Ee.g)(Ba,pc({},g,{x:i,y:s,r:c}))}}]),t}(vo);function Js(e){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uN(e,r){return function cN(e){if(Array.isArray(e))return e}(e)||function fN(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function lN(e,r){if(e){if("string"==typeof e)return lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lg(e,r)}}(e,r)||function sN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var i=uN(o,2),s=i[0],c=i[1];"object"!==Js(c)&&(n[s]=c)}),n.className=t?"lf-basic-shape ".concat(t):"lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(Ee.g)("polygon",n)}function Qs(e){return(Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function yc(){return yc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yc.apply(this,arguments)}function dN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gc(e,r)}function gc(e,r){return(gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function vN(e){var r=function mN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=_s(e);if(r){var i=_s(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return yN(this,o)}}function yN(e,r){if(r&&("object"===Qs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function gN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _s(e){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mc=function(e){hN(t,e);var r=vN(t);function t(){return dN(this,t),r.apply(this,arguments)}return function pN(e,r,t){return r&&cg(e.prototype,r),t&&cg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,s=o.y,c=o.width,g=o.height,E=o.points,T=o.getNodeStyle(),R={transform:"matrix(1 0 0 1 ".concat(i-c/2," ").concat(s-g/2,")")};return Object(Ee.g)("g",R,Object(Ee.g)(fg,yc({},T,{points:E,x:i,y:s})))}}]),t}(vo);function qs(e){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bc(){return bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bc.apply(this,arguments)}function bN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Oc(e,r)}function Oc(e,r){return(Oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function xN(e){var r=function MN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=el(e);if(r){var i=el(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return SN(this,o)}}function SN(e,r){if(r&&("object"===qs(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function PN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ec=function(e){EN(t,e);var r=xN(t);function t(){return bN(this,t),r.apply(this,arguments)}return function ON(e,r,t){return r&&dg(e.prototype,r),t&&dg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(fg,bc({},i,{points:o.points,x:o.x,y:o.y})))}}]),t}(vo);function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wN(e,r){return function DN(e){if(Array.isArray(e))return e}(e)||function NN(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function AN(e,r){if(e){if("string"==typeof e)return pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pg(e,r)}}(e,r)||function TN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function jN(e){var r=e.x,n=e.y,i=e.rx,c=e.ry,E=e.className,T={cx:void 0===r?0:r,cy:void 0===n?0:n,rx:void 0===i?4:i,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(R){var k=wN(R,2),V=k[0],ue=k[1];"object"!==tl(ue)&&(T[V]=ue)}),T.className=E?"lf-basic-shape ".concat(E):"lf-basic-shape",Object(Ee.g)("ellipse",T)}function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xc(){return xc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xc.apply(this,arguments)}function CN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sc(e,r)}function Sc(e,r){return(Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function LN(e){var r=function FN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=nl(e);if(r){var i=nl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return BN(this,o)}}function BN(e,r){if(r&&("object"===rl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function zN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nl(e){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Pc=function(e){IN(t,e);var r=LN(t);function t(){return CN(this,t),r.apply(this,arguments)}return function RN(e,r,t){return r&&hg(e.prototype,r),t&&hg(e,t),e}(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(Ee.g)(jN,xc({},i,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vo);function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yg(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?vg(Object(t),!0).forEach(function(n){GN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function GN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function HN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mc(e,r)}function Mc(e,r){return(Mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function UN(e){var r=function WN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=il(e);if(r){var i=il(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return $N(this,o)}}function $N(e,r){if(r&&("object"===ol(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function YN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var wc=function(e){XN(t,e);var r=UN(t);function t(){return HN(this,t),r.apply(this,arguments)}return function kN(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}(t,[{key:"getBackground",value:function(){var o=this.props.model,i=o.getTextStyle(),s=o.text;if(s&&s.value&&i.background&&"transparnet"!==i.background.fill){var c=s.x,g=s.y,E=o.width,T=o.height,R=yg(yg({},i.background),{},{x:c,y:g-1,width:E,height:T});return Object(Ee.g)(jo,R)}}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getBackground())}}]),t}(vo);function al(e){return(al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function KN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZN(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ac(e,r)}function Ac(e,r){return(Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function JN(e){var r=function _N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=ul(e);if(r){var i=ul(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return QN(this,o)}}function QN(e,r){if(r&&("object"===al(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ka(e)}function ka(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ul(e){return(ul=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Nc=function(e){ZN(t,e);var r=JN(t);function t(){var n;KN(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return sl(ka(n=r.call.apply(r,[this].concat(i))),"ref",void 0),sl(ka(n),"currentProperties",void 0),sl(ka(n),"preProperties",void 0),sl(ka(n),"setRef",function(c){n.ref=c}),n}return function VN(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currentProperties)return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,i=o.x,s=o.y,c=o.height,g=o.width,E=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(Ee.g)("foreignObject",Tc({},E,{x:i-g/2,y:s-c/2,width:g,height:c,ref:this.setRef}))}}]),t}(vo);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dc(){return Dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dc.apply(this,arguments)}function bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ui(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?bg(Object(t),!0).forEach(function(n){Rc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return(jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function rD(e){var r=function oD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=fl(e);if(r){var i=fl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return nD(this,o)}}function nD(e,r){if(r&&("object"===ll(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Cc(e)}function Cc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fl(e){return(fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Rc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var iD=function(e){tD(t,e);var r=rD(t);function t(n){var o;return function qN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),Rc(Cc(o=r.call(this,n)),"setHoverON",function(){o.setState({isHoverd:!0})}),Rc(Cc(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return function eD(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}(t,[{key:"getBackground",value:function(){var o=this.props.model,i=o.getTextStyle(),s=o.text,c=i.background||{};if(this.state.isHoverd&&i.hover&&i.hover.background&&(c=ui(ui({},c),i.hover.background)),s&&s.value&&"transparent"!==c.fill){var Le,E=i.fontSize,T=i.overflowMode,R=i.lineHeight,k=i.wrapPadding,V=i.textWidth,ce=s.x,ye=s.y,pe=String(s.value).split(/[\r\n]/g),Ge=pe.length;if("autoWrap"===T&&V){var Be=Lp({rows:pe,style:{fontSize:"".concat(E,"px"),width:"".concat(V,"px"),lineHeight:R,padding:k},rowsLength:Ge,className:"lf-get-text-height"});Le=ui(ui({},c),{},{x:ce-1,y:ye-1,width:V,height:Be})}else{var lt=0;pe&&pe.forEach(function(Lt){var Sr=wh(Lt);lt=Sr>lt?Sr:lt});var qe=bf({rows:pe,fontSize:E,rowsLength:Ge}),St=qe.width,jt=qe.height;if("string"==typeof c.wrapPadding){var yt=c.wrapPadding.split(",").filter(function(Lt){return Lt.trim()}).map(function(Lt){return parseFloat(Lt.trim())});yt.length>0&&yt.length<=4&&(1===yt.length?yt=[yt[0],yt[0],yt[0],yt[0]]:2===yt.length?yt=[yt[0],yt[1],yt[0],yt[1]]:3===yt.length&&(yt=[yt[0],yt[1],yt[2],yt[1]]),St+=yt[1]+yt[3],jt+=yt[0]+yt[2],ce+=(yt[1]-yt[3])/2,ye+=(yt[2]-yt[0])/2)}Le=ui(ui({},c),{},{x:ce-1,y:ye-1,width:St,height:jt})}return Object(Ee.g)(jo,Le)}}},{key:"getShape",value:function(){var o=this.props.model,i=o.text,s=i.value;if(s){var T=ui({x:i.x,y:i.y,className:"lf-element-text",value:s},o.getTextStyle());return Object(Ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(Ee.g)(tg,Dc({},T,{model:o})))}}}]),t}(og);function cl(e){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ic(){return Ic=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ic.apply(this,arguments)}function Eg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yo(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Eg(Object(t),!0).forEach(function(n){wn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function aD(e,r){return function fD(e){if(Array.isArray(e))return e}(e)||function lD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function sD(e,r){if(e){if("string"==typeof e)return xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xg(e,r)}}(e,r)||function uD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lc(e,r)}function Lc(e,r){return(Lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function hD(e){var r=function yD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=dl(e);if(r){var i=dl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return vD(this,o)}}function vD(e,r){if(r&&("object"===cl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Mn(e)}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function wn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Tn=(()=>(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Tn||(Tn={})),Tn))(),Pg=function(e){pD(t,e);var r=hD(t);function t(){var n;return function cD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),wn(Mn(n=r.call(this)),"dragHandler",void 0),wn(Mn(n),"oldEdge",void 0),wn(Mn(n),"preTargetNode",void 0),wn(Mn(n),"targetRuleResults",void 0),wn(Mn(n),"sourceRuleResults",void 0),wn(Mn(n),"onDragStart",function(){var o=n.props,i=o.x,s=o.y,c=o.edgeModel;n.oldEdge={startPoint:c.startPoint,endPoint:c.endPoint,pointsList:c.pointsList},n.setState({endX:i,endY:s,draging:!0}),c.isHitable=!1}),wn(Mn(n),"onDraging",function(o){var c=n.state,g=c.endX,E=c.endY,T=n.props,R=T.graphModel,k=T.type,ce=aD(R.transformModel.moveCanvasPointByHtml([g,E],o.deltaX,o.deltaY),2),ye=ce[0],pe=ce[1];n.setState({endX:ye,endY:pe,draging:!0});var Ge=n.props.edgeModel,Le=gu({x:g,y:E},R);if(Le&&Le.node&&n.isAllowAdjust(Le)){var Be,lt=Ge.startPoint,qe=Ge.endPoint;k===Tn.SOURCE?Be={startPoint:{x:Le.anchor.x,y:Le.anchor.y},endPoint:{x:qe.x,y:qe.y},sourceNode:Le.node,targetNode:Ge.targetNode}:k===Tn.TARGET&&(Be={startPoint:{x:lt.x,y:lt.y},endPoint:{x:Le.anchor.x,y:Le.anchor.y},sourceNode:Ge.sourceNode,targetNode:Le.node}),Ge.updateAfterAdjustStartAndEnd(Be)}else k===Tn.SOURCE?Ge.updateStartPoint({x:ye,y:pe}):k===Tn.TARGET&&Ge.updateEndPoint({x:ye,y:pe})}),wn(Mn(n),"onDragEnd",function(){var o;n.setState({draging:!1});var i=n.props,s=i.graphModel,c=i.edgeModel,g=i.type;c.isHitable=!0;var E=n.state,k=E.draging,V=gu({x:E.endX,y:E.endY},s);if(k){if(V&&V.node&&n.isAllowAdjust(V)){var ue,ce=c.getData(),ye=yo(yo({},ce),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==ce||null===(ue=ce.text)||void 0===ue?void 0:ue.value)||""});g===Tn.SOURCE?ye=yo(yo({},s.edgeGenerator(s.getNodeModelById(V.node.id).getData(),s.getNodeModelById(c.targetNodeId).getData(),ye)),{},{sourceNodeId:V.node.id,sourceAnchorId:V.anchor.id,startPoint:{x:V.anchor.x,y:V.anchor.y},targetNodeId:c.targetNodeId,endPoint:yo({},c.endPoint)}):g===Tn.TARGET&&(ye=yo(yo({},s.edgeGenerator(s.getNodeModelById(c.sourceNodeId).getData(),s.getNodeModelById(V.node.id).getData(),ye)),{},{sourceNodeId:c.sourceNodeId,startPoint:yo({},c.startPoint),targetNodeId:V.node.id,targetAnchorId:V.anchor.id,endPoint:{x:V.anchor.x,y:V.anchor.y}})),s.deleteEdgeById(c.id);var Le=s.addEdge(yo({},ye));s.eventCenter.emit(At.EDGE_EXCHANGE_NODE,{data:{newEdge:Le.getData(),oldEdge:c.getData()}})}else n.recoveryEdge();null===(o=n.preTargetNode)||void 0===o||o.setElementState(Kt.DEFAULT)}}),wn(Mn(n),"recoveryEdge",function(){var o=n.props.edgeModel,i=n.oldEdge,c=i.endPoint,g=i.pointsList;o.updateStartPoint(i.startPoint),o.updateEndPoint(c),o.modelType!==Ht.LINE_EDGE&&(o.pointsList=g,o.initPoints())}),wn(Mn(n),"getAdjustPointStyle",function(){return n.props.graphModel.theme.edgeAdjust}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Df({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return function dD(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}(t,[{key:"isAllowAdjust",value:function(o){var i=this.props,s=i.edgeModel,g=s.sourceNode,E=s.targetNode,T=s.sourceAnchorId,k=i.type,V=null,ue=null,ce=null,ye=null;if(k===Tn.SOURCE?(V=o.node,ue=E,ce=o.anchor,ye=E.getAnchorInfo(s.targetAnchorId)):(V=g,ue=o.node,ye=o.anchor,ce=g.getAnchorInfo(T)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Kt.DEFAULT),this.preTargetNode=o.node,ye.id===ce.id)return!1;var pe="".concat(V.id,"_").concat(ue.id,"_").concat(ce.id,"_").concat(ye.id);if(!this.targetRuleResults.has(pe)){var Ge=V.isAllowConnectedAsSource(ue,ce,ye),Le=ue.isAllowConnectedAsTarget(V,ce,ye);this.sourceRuleResults.set(pe,bu(Ge)),this.targetRuleResults.set(pe,bu(Le))}var lt=this.sourceRuleResults.get(pe).isAllPass,St=this.targetRuleResults.get(pe).isAllPass,jt=lt&&St?Kt.ALLOW_CONNECT:Kt.NOT_ALLOW_CONNECT;return k===Tn.SOURCE?V.setElementState(jt):ue.setElementState(jt),lt&&St}},{key:"render",value:function(){var o=this.props,i=o.x,s=o.y,c=this.state.draging,g=this.getAdjustPointStyle();return Object(Ee.g)("g",null,Object(Ee.g)(Ba,Ic({className:"lf-edge-adjust-point"},g,{x:i,y:s,onMouseDown:this.dragHandler,"pointer-events":c?"none":""})))}}]),t}(Ee.a);function pl(e){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hl(){return hl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hl.apply(this,arguments)}function Mg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Mg(Object(t),!0).forEach(function(n){Nn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bc(e,r)}function Bc(e,r){return(Bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function OD(e){var r=function xD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=vl(e);if(r){var i=vl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return ED(this,o)}}function ED(e,r){if(r&&("object"===pl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return An(e)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vl(e){return(vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Xa=function(e){bD(t,e);var r=OD(t);function t(){var n;gD(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return Nn(An(n=r.call.apply(r,[this].concat(i))),"startTime",void 0),Nn(An(n),"contextMenuTime",void 0),Nn(An(n),"clickTimer",void 0),Nn(An(n),"handleHover",function(c,g){var E=n.props,T=E.model,R=E.graphModel.eventCenter;T.setHovered(c);var k=c?At.EDGE_MOUSEENTER:At.EDGE_MOUSELEAVE,V=T.getData();R.emit(k,{data:V,e:g})}),Nn(An(n),"setHoverON",function(c){n.props.model.isHovered||n.handleHover(!0,c)}),Nn(An(n),"setHoverOFF",function(c){n.handleHover(!1,c)}),Nn(An(n),"handleContextMenu",function(c){c.preventDefault(),n.contextMenuTime=(new Date).getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,E=g.model,T=g.graphModel,R=T.getPointByClient({x:c.clientX,y:c.clientY});T.setElementStateById(E.id,Kt.SHOW_MENU,R.domOverlayPosition),n.toFront(),T.selectEdgeById(E.id);var k=E?.getData();T.eventCenter.emit(At.EDGE_CONTEXTMENU,{data:k,e:c,position:R})}),Nn(An(n),"handleMouseDown",function(c){c.stopPropagation(),n.startTime=(new Date).getTime()}),Nn(An(n),"handleMouseUp",function(c){if(n.startTime&&!((new Date).getTime()-n.startTime>200||2===c.button)){var T=2===c.detail,R=n.props,k=R.model,V=R.graphModel,ue=k?.getData(),ce=V.getPointByClient({x:c.clientX,y:c.clientY});if(T){var ye=V.editConfigModel,pe=V.textEditElement;if(pe&&pe.id===k.id&&V.setElementStateById(k.id,Kt.DEFAULT),ye.edgeTextEdit&&k.text.editable&&V.setElementStateById(k.id,Kt.TEXT_EDIT),k.modelType===Ht.POLYLINE_EDGE){var Ge=k,Be=V.getPointByClient({x:c.x,y:c.y}).canvasOverlayPosition,St=Ah({x:Be.x,y:Be.y},Ge.points);Ge.dbClickPosition=St}V.eventCenter.emit(At.EDGE_DBCLICK,{data:ue,e:c,position:ce})}else V.eventCenter.emit(At.ELEMENT_CLICK,{data:ue,e:c,position:ce}),V.eventCenter.emit(At.EDGE_CLICK,{data:ue,e:c,position:ce});V.selectEdgeById(k.id,Ap(c,V.editConfigModel)),n.toFront()}}),Nn(An(n),"getIsDragging",function(){return!1}),n}return function mD(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,i=o.model,s=o.graphModel;if(i.state===Kt.TEXT_EDIT)return"";var c=!1,g=s.editConfigModel;return(i.text.draggable||g.edgeTextDraggable)&&(c=!0),Object(Ee.g)(iD,{editable:g.edgeTextEdit&&i.text.editable,model:i,graphModel:s,draggable:c})}},{key:"getArrowInfo",value:function(){var o=this.props.model;return{start:o.startPoint,end:o.endPoint,hover:this.state.hover,isSelected:o.isSelected}}},{key:"getArrowStyle",value:function(){var o=this.props,i=o.model,s=o.graphModel,c=i.getEdgeStyle(),g=i.getEdgeAnimationStyle(),E=s.theme.arrow,T=i.isAnimation?g.stroke:c.stroke;return wg(wg({},c),{},{fill:T,stroke:T},E)}},{key:"getArrow",value:function(){var o=this.props.model.id,i=this.getArrowStyle(),s=i.refY,c=void 0===s?0:s,g=i.refX,E=void 0===g?2:g;return Object(Ee.g)("g",null,Object(Ee.g)("defs",null,Object(Ee.g)("marker",{id:"marker-start-".concat(o),refX:-E,refY:c,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(Ee.g)("marker",{id:"marker-end-".concat(o),refX:E,refY:c,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),i=o.stroke,s=o.strokeWidth,c=o.offset,g=o.verticalLength;return Object(Ee.g)("path",{stroke:i,fill:i,strokeWidth:s,d:"M 0 0 L ".concat(c," -").concat(g," L ").concat(c," ").concat(g," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),i=o.stroke,s=o.strokeWidth,c=o.offset,g=o.verticalLength;return Object(Ee.g)("path",{stroke:i,fill:i,strokeWidth:s,transform:"rotate(180)",d:"M 0 0 L ".concat(c," -").concat(g," L ").concat(c," ").concat(g," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,i=o.model,s=o.graphModel,c=i.getAdjustStart(),g=i.getAdjustEnd();return Object(Ee.g)("g",null,Object(Ee.g)(Pg,hl({type:"SOURCE"},c,{edgeModel:i,graphModel:s})),Object(Ee.g)(Pg,hl({type:"TARGET"},g,{edgeModel:i,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(Ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,i=o.graphModel;i.overlapMode!==Wr.INCREASE&&i.toFront(o.model.id)}},{key:"render",value:function(){var o=this.props,i=o.model,s=i.isSelected,c=i.isHitable,g=o.graphModel,E=this.getIsDragging(),T=g.editConfigModel.adjustEdgeStartAndEnd,k=s&&g.animation.edge&&1===g.getSelectElements().edges.length;return Object(Ee.g)("g",null,Object(Ee.g)("g",{className:["lf-edge",!c&&"pointer-none",s&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),k&&this.getAnimation(),this.getText(),this.getArrow()),T&&s&&!E?this.getAdjustPoints():"")}}]),t}(Ee.a);function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function SD(e,r){return function TD(e){if(Array.isArray(e))return e}(e)||function wD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function MD(e,r){if(e){if("string"==typeof e)return Ag(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ag(e,r)}}(e,r)||function PD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ag(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var ea=function AD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=SD(t,2),o=n[0],i=n[1],s=yl(i);("style"===o||"object"!==s)&&(r[o]=i)}),Object(Ee.g)("path",r)};function gl(e){return(gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ml(){return ml=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ml.apply(this,arguments)}function ND(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return(zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function CD(e){var r=function LD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=bl(e);if(r){var i=bl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return RD(this,o)}}function RD(e,r){if(r&&("object"===gl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ID(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bl(e){return(bl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Fc=function(e){jD(t,e);var r=CD(t);function t(){return ND(this,t),r.apply(this,arguments)}return function DD(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.startPoint,s=o.endPoint,c=o.isAnimation,g=o.arrowConfig,E=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),R=T.strokeDasharray,k=T.stroke,V=T.strokeDashoffset,ue=T.animationName,ce=T.animationDuration,ye=T.animationIterationCount,pe=T.animationTimingFunction,Ge=T.animationDirection;return Object(Ee.g)(ii,ml({},E,{x1:i.x,y1:i.y,x2:s.x,y2:s.y},g,c?{strokeDasharray:R,stroke:k,style:{strokeDashoffset:V,animationName:ue,animationDuration:ce,animationIterationCount:ye,animationTimingFunction:pe,animationDirection:Ge}}:{}))}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),s=i.stroke,c=i.className,g=i.strokeDasharray,E=o.startPoint,T=o.endPoint,R=o.getEdgeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(ii,ml({},R,{x1:E.x,y1:E.y,x2:T.x,y2:T.y,className:c,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,g=function(r){var o,t=r.start,n=r.end;if(t.x===n.x&&t.y===n.y)o="";else{var i={start:t,end:n,offset:10,verticalLength:5},s=Ca(Pu(Pu({},i),{},{type:"start"})),c=Ca(Pu(Pu({},i),{},{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY," \n    L").concat(s.rightX," ").concat(s.rightY," \n    L").concat(c.rightX," ").concat(c.rightY,"\n    L").concat(c.leftX," ").concat(c.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),E=g.d,T=g.strokeWidth,R=g.fill,k=g.strokeDasharray,V=g.stroke;return Object(Ee.g)(ea,{d:E,fill:R,strokeWidth:T,stroke:V,strokeDasharray:k})}}]),t}(Xa);function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function BD(e,r){return function HD(e){if(Array.isArray(e))return e}(e)||function GD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function FD(e,r){if(e){if("string"==typeof e)return Dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dg(e,r)}}(e,r)||function zD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var jg=function kD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=BD(t,2),o=n[0],i=n[1];("style"===o||"object"!==Ol(i))&&(r[o]=i)}),Object(Ee.g)("polyline",r)};function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xl(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Cg(Object(t),!0).forEach(function(n){Wn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sl(){return Sl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sl.apply(this,arguments)}function XD(e,r){return function WD(e){if(Array.isArray(e))return e}(e)||function YD(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function $D(e,r){if(e){if("string"==typeof e)return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}(e,r)||function UD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZD(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return(Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function JD(e){var r=function _D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Pl(e);if(r){var i=Pl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return QD(this,o)}}function QD(e,r){if(r&&("object"===El(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Yn(e)}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pl(e){return(Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Wn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Hc=function(e){ZD(t,e);var r=JD(t);function t(){var n;return function KD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),Wn(Yn(n=r.call(this)),"drag",void 0),Wn(Yn(n),"isDraging",void 0),Wn(Yn(n),"appendInfo",void 0),Wn(Yn(n),"dragHandler",void 0),Wn(Yn(n),"onDragStart",function(){n.props.model.dragAppendStart()}),Wn(Yn(n),"onDraging",function(o){var i=o.deltaX,s=o.deltaY,c=n.props,g=c.model,E=c.graphModel;n.isDraging=!0;var R=E.editConfigModel,V=XD(E.transformModel.fixDeltaXY(i,s),2),ue=V[0],ce=V[1],ye=g;n.appendInfo=R.adjustEdgeMiddle?ye.dragAppendSimple(n.appendInfo,{x:ue,y:ce}):ye.dragAppend(n.appendInfo,{x:ue,y:ce})}),Wn(Yn(n),"onDragEnd",function(){var o=n.props,s=o.graphModel.eventCenter,c=o.model;c.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,s.emit(At.EDGE_ADJUST,{data:c.getData()})}),Wn(Yn(n),"beforeDragStart",function(o,i){i.dragAble&&n.dragHandler(o),n.appendInfo=i}),Wn(Yn(n),"getIsDragging",function(){return n.isDraging}),n.drag=Df({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return function VD(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.points,s=o.isAnimation,c=o.arrowConfig,g=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,R=E.stroke,k=E.strokeDashoffset,V=E.animationName,ue=E.animationDuration,ce=E.animationIterationCount,ye=E.animationTimingFunction,pe=E.animationDirection;return Object(Ee.g)(jg,Sl({points:i},g,c,s?{strokeDasharray:T,stroke:R,style:{strokeDashoffset:k,animationName:V,animationDuration:ue,animationIterationCount:ce,animationTimingFunction:ye,animationDirection:pe}}:{}))}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),s=i.stroke,c=i.className,g=i.strokeDasharray,E=o.getEdgeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(jg,Sl({points:o.points},E,{className:c,strokeDasharray:g,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,E={start:null,end:null,hover:this.state.hover,isSelected:o.isSelected},T=Hi(o.points);return T.length>=2&&(E.start=T[T.length-2],E.end=T[T.length-1]),E}},{key:"getAppendAttributes",value:function(o){var c,i=o.start,s=o.end;if(i.x===s.x&&i.y===s.y)c="";else{var g={start:i,end:s,offset:10,verticalLength:5},E=Ca(xl(xl({},g),{},{type:"start"})),T=Ca(xl(xl({},g),{},{type:"end"}));c="M".concat(E.leftX," ").concat(E.leftY," \n      L").concat(E.rightX," ").concat(E.rightY," \n      L").concat(T.rightX," ").concat(T.rightY,"\n      L").concat(T.leftX," ").concat(T.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var i=this.getAppendAttributes(o),s=i.d,c=i.strokeWidth,g=i.fill,E=i.strokeDasharray,T=i.stroke;return Object(Ee.g)(ea,{d:s,fill:g,strokeWidth:c,stroke:T,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,i=this.props,s=i.model,c=i.graphModel,g=s.pointsList,E=s.draggable,T=[],R=g.length,k=function(ce){var ye="lf-polyline-append",pe={start:{x:g[ce].x,y:g[ce].y},end:{x:g[ce+1].x,y:g[ce+1].y},startIndex:ce,endIndex:ce+1,direction:"",dragAble:!0},Ge=Object(Ee.g)("g",{className:ye},o.getAppendShape(pe)),Le=c.editConfigModel,lt=Le.adjustEdgeMiddle;Le.adjustEdge&&E?(o.dragHandler=o.drag,pe.dragAble=!(lt&&(0===pe.startIndex||pe.endIndex===R-1)),pe.start.x===pe.end.x?(pe.dragAble&&(ye+="-ew-resize"),pe.direction=Zt.VERTICAL):pe.start.y===pe.end.y&&(pe.dragAble&&(ye+="-ns-resize"),pe.direction=Zt.HORIZONTAL),Ge=Object(Ee.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Lt){return o.beforeDragStart(Lt,pe)}},Object(Ee.g)("g",{className:ye},o.getAppendShape(pe)))):o.dragHandler=function(){},T.push(Ge)},V=0;V<R-1;V++)k(V);return Object(Ee.g)("g",null,T)}}]),t}(Xa);function Ml(e){return(Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qD(e,r){return function n1(e){if(Array.isArray(e))return e}(e)||function r1(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function t1(e,r){if(e){if("string"==typeof e)return Lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lg(e,r)}}(e,r)||function e1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function wl(){return wl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},wl.apply(this,arguments)}function o1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a1(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&kc(e,r)}function kc(e,r){return(kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function u1(e){var r=function f1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Tl(e);if(r){var i=Tl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return s1(this,o)}}function s1(e,r){if(r&&("object"===Ml(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function l1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xc=function(e){a1(t,e);var r=u1(t);function t(){return o1(this,t),r.apply(this,arguments)}return function i1(e,r,t){return r&&Bg(e.prototype,r),t&&Bg(e,t),e}(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.getEdgeStyle(),s=o.path,c=o.isAnimation,g=o.arrowConfig,E=o.getEdgeAnimationStyle(),T=E.strokeDasharray,R=E.stroke,k=E.strokeDashoffset,V=E.animationName,ue=E.animationDuration,ce=E.animationIterationCount,ye=E.animationTimingFunction,pe=E.animationDirection;return Object(Ee.g)(ea,wl({d:s},i,g,c?{strokeDasharray:T,stroke:R,style:{strokeDashoffset:k,animationName:V,animationDuration:ue,animationIterationCount:ce,animationTimingFunction:ye,animationDirection:pe}}:{}))}},{key:"getShape",value:function(){return Object(Ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),s=i.stroke,c=i.className,g=i.strokeDasharray,E=o.getEdgeStyle();return Object(Ee.g)("g",null,Object(Ee.g)(ea,wl({d:o.path},E,{className:c,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(Ee.g)(ea,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,s=this.state.hover,E=o.isSelected,R=qD(function(r){var t=Cu(r);return[t[2],t[3]]}(o.path),2);return{start:R[0],end:R[1],hover:s,isSelected:E}}}]),t}(Xa);function Al(e){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function d1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v1(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return(Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function y1(e){var r=function b1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Nl(e);if(r){var i=Nl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return g1(this,o)}}function g1(e,r){if(r&&("object"===Al(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function m1(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nl(e){return(Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var O1=function(e){v1(t,e);var r=y1(t);function t(){return p1(this,t),r.apply(this,arguments)}return function h1(e,r,t){return r&&Fg(e.prototype,r),t&&Fg(e,t),e}(t,[{key:"getArrowAttributes",value:function(){var o=this.props,i=o.arrowInfo,s=o.style,g=i.end,T=Ca({start:i.start,end:g,offset:s.offset,verticalLength:s.verticalLength,type:"end"}),k=T.leftY,V=T.rightX,ue=T.rightY;return function c1(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?zg(Object(t),!0).forEach(function(n){d1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({d:"M".concat(T.leftX," ").concat(k," L").concat(g.x," ").concat(g.y," L").concat(V," ").concat(ue," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),i=o.d,s=o.strokeWidth,c=o.stroke,g=o.fill;return Object(Ee.g)(ea,{d:i,fill:g,strokeWidth:s,stroke:c})}},{key:"render",value:function(){return Object(Ee.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(Ee.a);var Gg=function E1(e,r){return ql(e,r)};var S1=function x1(e){var r=null==e?0:e.length;return r?e[r-1]:void 0},$c=function(){return Tr.a.Date.now()},M1=/\s/;var T1=function w1(e){for(var r=e.length;r--&&M1.test(e.charAt(r)););return r},A1=/^\s+/;var D1=function N1(e){return e&&e.slice(0,T1(e)+1).replace(A1,"")},j1=/^[-+]0x[0-9a-f]+$/i,C1=/^0b[01]+$/i,R1=/^0o[0-7]+$/i,I1=parseInt;var kg=function L1(e){if("number"==typeof e)return e;if(su(e))return NaN;if(Pr(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=Pr(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=D1(e);var t=C1.test(e);return t||R1.test(e)?I1(e.slice(2),t?2:8):j1.test(e)?NaN:+e},z1=Math.max,F1=Math.min;var H1=function G1(e,r,t){var n,o,i,s,c,g,E=0,T=!1,R=!1,k=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function V(qe){var St=n,jt=o;return n=o=void 0,E=qe,s=e.apply(jt,St)}function ue(qe){return E=qe,c=setTimeout(pe,r),T?V(qe):s}function ye(qe){var St=qe-g;return void 0===g||St>=r||St<0||R&&qe-E>=i}function pe(){var qe=$c();if(ye(qe))return Ge(qe);c=setTimeout(pe,function ce(qe){var yt=r-(qe-g);return R?F1(yt,i-(qe-E)):yt}(qe))}function Ge(qe){return c=void 0,k&&n?V(qe):(n=o=void 0,s)}function lt(){var qe=$c(),St=ye(qe);if(n=arguments,o=this,g=qe,St){if(void 0===c)return ue(g);if(R)return clearTimeout(c),c=setTimeout(pe,r),V(g)}return void 0===c&&(c=setTimeout(pe,r)),s}return r=kg(r)||0,Pr(t)&&(T=!!t.leading,i=(R="maxWait"in t)?z1(kg(t.maxWait)||0,r):i,k="trailing"in t?!!t.trailing:k),lt.cancel=function Le(){void 0!==c&&clearTimeout(c),E=0,n=g=o=c=void 0},lt.flush=function Be(){return void 0===c?s:Ge($c())},lt},k1=a(166);function Xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ug,$g,Yg,$1=function(){function e(r){(function X1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Lo(this,"undos",[]),Lo(this,"redos",[]),Lo(this,"callbacks",[]),Lo(this,"stopWatch",null),Lo(this,"curData",null),Lo(this,"maxSize",50),Lo(this,"waitTime",100),Lo(this,"eventCenter",void 0),this.eventCenter=r}return function U1(e,r,t){return r&&Xg(e.prototype,r),t&&Xg(e,t),e}(e,[{key:"add",value:function(t){Gg(S1(this.undos),t)||(this.undos.push(t),Gg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(At.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=or(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=or(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(k1.a)(t,H1(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),Y1=$1;function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function W1(e,r){return function J1(e){if(Array.isArray(e))return e}(e)||function Z1(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||function V1(e,r){if(e){if("string"==typeof e)return Wg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Wg(e,r)}}(e,r)||function K1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wg(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Kg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ta(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Kg(Object(t),!0).forEach(function(n){si(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q1(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return(Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function ej(e){var r=function rj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=jl(e);if(r){var i=jl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return tj(this,o)}}function tj(e,r){if(r&&("object"===Dl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jl(e){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function si(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zg,Jg,Qg,Wc=Dn((Yg=$g=function(e){q1(t,e);var r=ej(t);function t(){var n;return function Q1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),si(ra(n=r.call(this)),"ref",Object(Ee.f)()),si(ra(n),"__prevText",{type:"",text:"",id:""}),si(ra(n),"keyupHandler",function(o){"Enter"===o.key&&o.altKey&&n.props.graphModel.textEditElement.setElementState(0)}),si(ra(n),"inputHandler",function(o){var c=n.props.graphModel.textEditElement;n.__prevText={type:c.type,text:o.target.innerText.replace(/(\r\n)+$|(\n)+$/,""),id:c.id}}),si(ra(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return function _1(e,r,t){return r&&Vg(e.prototype,r),t&&Vg(e,t),e}(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel;o.eventCenter.on("".concat(At.GRAPH_TRANSFORM,",").concat(At.NODE_CLICK,",").concat(At.BLANK_CLICK," "),function(){var c=o.editConfigModel;(c.edgeTextEdit||c.nodeTextEdit)&&o.textEditElement&&o.textEditElement.setElementState(Kt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var i=this.__prevText;o.updateText(i.id,i.text),o.eventCenter.emit(At.TEXT_UPDATE,ta({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(void 0!==window.getSelection&&void 0!==document.createRange){var i=document.createRange();i.selectNodeContents(o),i.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(i)}}},{key:"render",value:function(){var o,i=this.props.graphModel.textEditElement,s=this.state.style;return i?Object(Ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:i.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},null===(o=i.text)||void 0===o?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var E,i=o.graphModel,s=i.transformModel,c=i.theme,g=i.textEditElement;if(g){var T;if((null===(T=g.text)||void 0===T||!T.value)&&g.BaseType===pr.EDGE){var R=g.text,k=g.textPosition,ue=k.y;R.x=k.x,R.y=ue,g.setText(R)}var ce={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===pr.EDGE){var ye=c.edgeText,Ge=ye.lineHeight,Le=ye.wrapPadding,Be=ye.textWidth;Be&&"autoWrap"===ye.overflowMode&&(E=ta(ta({},ce),{},{width:Be,minWidth:Be,lineHeight:Ge,padding:Le}))}else if(g.BaseType===pr.NODE){var lt=c.nodeText,St=lt.lineHeight,jt=lt.wrapPadding,yt=lt.textWidth,Sr=g.width,_r=g.modelType;(_r!==Ht.TEXT_NODE&&"autoWrap"===lt.overflowMode||_r===Ht.TEXT_NODE&&yt)&&(E=ta(ta({},ce),{},{width:yt||Sr,minWidth:yt||Sr,lineHeight:St,padding:jt}))}var Vn=g.text,Bo=W1(s.CanvasPointToHtmlPoint([Vn.x,Vn.y]),2);return{style:ta({left:Bo[0],top:Bo[1]},E)}}}}]),t}(Ee.a),si($g,"toolName","textEdit"),Ug=Yg))||Ug,uj=function(r){return r.modelType===Ht.LINE_EDGE?function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,i=(t.y+n.y)/2,s=Math.abs(t.x-n.x)+10,c=Math.abs(t.y-n.y)+10;return{x:o-s/2,y:i-c/2,x1:o+s/2,y1:i+c/2}}(r):r.modelType===Ht.POLYLINE_EDGE?function(r){var n=Hi(r.points),o=Ra(n,8),i=o.x,s=o.y,c=o.width,g=o.height;return{x:i-c/2,y:s-g/2,x1:i+c/2,y1:s+g/2}}(r):r.modelType===Ht.BEZIER_EDGE?function(r){var n=Cu(r.path),o=Ra(n,8),i=o.x,s=o.y,c=o.width,g=o.height;return{x:i-c/2,y:s-g/2,x1:i+c/2,y1:s+g/2}}(r):void 0};function Cl(e){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _g(e,r){return function fj(e){if(Array.isArray(e))return e}(e)||function lj(e,r){var t=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,c,n=[],o=!0,i=!1;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!r||n.length!==r);o=!0);}catch(g){i=!0,c=g}finally{try{!o&&null!=t.return&&t.return()}finally{if(i)throw c}}return n}}(e,r)||qg(e,r)||function sj(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cj(e){return function hj(e){if(Array.isArray(e))return Kc(e)}(e)||function pj(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qg(e)||function dj(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qg(e,r){if(e){if("string"==typeof e)return Kc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kc(e,r)}}function Kc(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gj(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vc(e,r)}function Vc(e,r){return(Vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n})(e,r)}function mj(e){var r=function Oj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,n=Rl(e);if(r){var i=Rl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return bj(this,o)}}function bj(e,r){if(r&&("object"===Cl(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return Ua(e)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rl(e){return(Rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zc=Dn((Qg=Jg=function(e){gj(t,e);var r=mj(t);function t(n){var o;(function vj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,t),$a(Ua(o=r.call(this)),"stepDrag",void 0),$a(Ua(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),$a(Ua(o),"onDraging",function(g){var E=g.deltaX,T=g.deltaY,R=o.props.graphModel,k=R.getSelectElements(!0);R.moveNodes(k.nodes.map(function(V){return V.id}),E,T)}),$a(Ua(o),"handleContextMenu",function(g){g.preventDefault();var E=o.props,R=E.graphModel,k=R.eventCenter,V=R.selectElements,ue=E.graphModel.getPointByClient({x:g.clientX,y:g.clientY}),ce={nodes:[],edges:[]};cj(V.values()).forEach(function(pe){pe.BaseType===pr.NODE&&ce.nodes.push(pe.getData()),pe.BaseType===pr.EDGE&&ce.edges.push(pe.getData())}),k.emit(At.SELECTION_CONTEXTMENU,{data:ce,e:g,position:ue})});var i=n.graphModel;return o.stepDrag=new oi({onDraging:o.onDraging,step:i.gridSize,eventType:"SELECTION",eventCenter:i.eventCenter}),o}return function yj(e,r,t){return r&&em(e.prototype,r),t&&em(e,t),e}(t,[{key:"render",value:function(){var o=this.props.graphModel,i=o.selectElements,s=o.transformModel;if(!(i.size<=1)){var c=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;i.forEach(function(ye){var pe={x:0,y:0,x1:0,y1:0};ye.BaseType===pr.NODE&&(pe=function(r){var t=r.x,n=r.y,o=r.width,i=r.height;return{x:t-o/2,y:n-i/2,x1:t+o/2,y1:n+i/2}}(ye)),ye.BaseType===pr.EDGE&&(pe=uj(ye)),c=Math.min(c,pe.x),g=Math.min(g,pe.y),E=Math.max(E,pe.x1),T=Math.max(T,pe.y1)});var k=_g(s.CanvasPointToHtmlPoint([c,g]),2);c=k[0],g=k[1];var ue=_g(s.CanvasPointToHtmlPoint([E,T]),2);E=ue[0],T=ue[1];var ce={left:"".concat(c-10,"px"),top:"".concat(g-10,"px"),width:"".concat(E-c+20,"px"),height:"".concat(T-g+20,"px")};return Object(Ee.g)("div",{className:"lf-multiple-select",style:ce,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(Ee.a),$a(Jg,"toolName","multipleSelect"),Zg=Qg))||Zg;function tm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Il(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Sj=function(){function e(r){(function Ej(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Il(this,"tools",void 0),Il(this,"components",void 0),Il(this,"toolMap",new Map),Il(this,"instance",void 0),this.instance=r,this.isDisabledTool(Wc.toolName)||this.registerTool(Wc.toolName,Wc),this.isDisabledTool(Zc.toolName)||this.registerTool(Zc.toolName,Zc)}return function xj(e,r,t){return r&&tm(e.prototype,r),t&&tm(e,t),e}(e,[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),Pj=a(167),Mj=a.n(Pj);function rm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nm=function(){function e(r){(function wj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),Jc(this,"mousetrap",void 0),Jc(this,"options",void 0),Jc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r,this.target=r.lf.container,this.mousetrap=new Mj.a(this.target),r.keyboard.enabled&&this.enable(!0)}return function Tj(e,r,t){return r&&rm(e.prototype,r),t&&rm(e,t),e}(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;n&&(zr(n)?n.forEach(function(c){return t.on(c.keys,c.callback,c.action)}):this.on(n.keys,n.callback,n.action))}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}]),e}(),Aj=nm,Kn=null;function om(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function im(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}function Bl(e){return(Bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function am(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ya(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?am(Object(t),!0).forEach(function(n){fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):am(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function um(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=function(){function e(r){var t=this;(function jj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,e),fr(this,"container",void 0),fr(this,"width",void 0),fr(this,"height",void 0),fr(this,"graphModel",void 0),fr(this,"history",void 0),fr(this,"viewMap",new Map),fr(this,"tool",void 0),fr(this,"keyboard",void 0),fr(this,"dnd",void 0),fr(this,"options",void 0),fr(this,"snaplineModel",void 0),fr(this,"components",[]),fr(this,"plugins",void 0),fr(this,"extension",{}),fr(this,"adapterIn",void 0),fr(this,"adapterOut",void 0),fr(this,"getView",function(n){return t.viewMap.get(n)}),r=Av(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new $0(Ya({},r)),this.tool=new Sj(this),this.history=new Y1(this.graphModel.eventCenter),this.dnd=new Nw({lf:this}),this.keyboard=new Aj({lf:this,keyboard:r.keyboard}),!1!==r.snapline&&(this.snaplineModel=new Vy(this.graphModel),function Dj(e,r){e.on("node:mousemove",function(t){r.setNodeSnapLine(t.data)}),e.on("node:mouseup",function(){r.clearSnapline()})}(this.graphModel.eventCenter,this.snaplineModel)),function Nj(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(n.enabled&&!r.textEditElement){var o=e.options.guards,i=r.getSelectElements(!1);return o&&o.beforeClone&&!o.beforeClone(i)?(Kn=null,!1):((Kn=i).nodes.forEach(function(c){return om(c,40)}),Kn.edges.forEach(function(c){return im(c,40)}),!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(n.enabled&&!r.textEditElement){if(Kn&&(Kn.nodes||Kn.edges)){e.clearSelectElements();var o=e.addElements(Kn);if(!o)return;o.nodes.forEach(function(i){return e.selectElementById(i.id,!0)}),o.edges.forEach(function(i){return e.selectElementById(i.id,!0)}),Kn.nodes.forEach(function(i){return om(i,40)}),Kn.edges.forEach(function(i){return im(i,40)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(i){return e.deleteEdge(i.id)}),o.nodes.forEach(function(i){return e.deleteNode(i.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return function Cj(e,r,t){return r&&um(e.prototype,r),t&&um(e,t),e}(e,[{key:"register",value:function(t,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var i={BaseEdge:Xa,BaseEdgeModel:Ef,BaseNode:vo,BaseNodeModel:po,RectNode:dc,RectNodeModel:Ns,CircleNode:vc,CircleNodeModel:ps,PolygonNode:mc,PolygonNodeModel:Ms,TextNode:wc,TextNodeModel:Cs,LineEdge:Fc,LineEdgeModel:Da,DiamondNode:Ec,DiamondNodeModel:ys,PolylineEdge:Hc,PolylineEdgeModel:Su,BezierEdge:Xc,BezierEdgeModel:Kf,EllipseNode:Pc,EllipseNodeModel:Os,HtmlNode:Nc,HtmlNodeModel:Ls,h:Ee.g,type:t};this.viewMap.forEach(function(T){var R=T.extendKey;R&&(i[R]=T)}),this.graphModel.modelMap.forEach(function(T){var R=T.extendKey;R&&(i[R]=T)});var s=n(i),g=s.model,E=s.view;o&&!E.isObervered&&(E.isObervered=!0,E=ot(E)),this.setView(t,E),this.graphModel.setModel(t,g)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var n=t.view;!1!==t.isObserverView&&!n.isObervered&&(n.isObervered=!0,n=ot(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:dc,model:Ns,type:"rect"}),this.registerElement({type:"circle",view:vc,model:ps}),this.registerElement({type:"polygon",view:mc,model:Ms}),this.registerElement({type:"line",view:Fc,model:Da}),this.registerElement({type:"polyline",view:Hc,model:Su}),this.registerElement({type:"bezier",view:Xc,model:Kf}),this.registerElement({type:"text",view:wc,model:Cs}),this.registerElement({type:"ellipse",view:Pc,model:Os}),this.registerElement({type:"diamond",view:Ec,model:ys}),this.registerElement({type:"html",view:Nc,model:Ls})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,i=t.id;if(!o){var s=this.getNodeModelById(i);s&&(o=s.getData());var c=this.getEdgeModelById(i);c&&(o=c.textPosition)}n.focusOn(o.x,o.y,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,i,s=this.getModelById(t);return!!s&&null!==(o=null===(i=(fr(n={},pr.NODE,this.deleteNode),fr(n,pr.EDGE,this.deleteEdge),n)[s.BaseType])||void 0===i?void 0:i.call(this,t))&&void 0!==o&&o}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),i=this.options.guards,s=!i||!i.beforeDelete||i.beforeDelete(o);return s&&this.graphModel.deleteNode(t),s}},{key:"cloneNode",value:function(t){var o=this.graphModel.getNodeModelById(t).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(o))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var i=o.model.getData(),s=!n||!n.beforeDelete||n.beforeDelete(i);return s&&this.graphModel.deleteEdgeById(t),s}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n;return null===(n=this.graphModel.edgesMap[t])||void 0===n?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,i=t.targetNodeId;if(o&&i){var s=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===i&&s.push(E)}),s}if(o){var c=[];return n.forEach(function(E){E.sourceNodeId===o&&c.push(E)}),c}if(i){var g=[];return n.forEach(function(E){E.targetNodeId===i&&g.push(E)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return null===(n=this.getEdgeModelById(t))||void 0===n?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;null===(o=this.graphModel.getElement(t))||void 0===o||o.setProperties(Dr(n))}},{key:"deleteProperty",value:function(t,n){var o;null===(o=this.graphModel.getElement(t))||void 0===o||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return null===(n=this.graphModel.getElement(t))||void 0===n?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,i=t.edges,s={},c={nodes:[],edges:[]},g=0;g<o.length;g++){var E=o[g],T=E.id,R=this.addNode(E);if(!R)return;T&&(s[T]=R.id),c.nodes.push(R)}return i.forEach(function(k){var V=k.sourceNodeId,ue=k.targetNodeId;s[V]&&(V=s[V]),s[ue]&&(ue=s[ue]);var ce=n.graphModel.addEdge(Ya(Ya({},k),{},{sourceNodeId:V,targetNodeId:ue}));c.edges.push(ce)}),c}},{key:"getAreaElement",value:function(t,n){return this.graphModel.getAreaElement(t,n,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4]).map(function(c){return c.getData()})}},{key:"getSelectElements",value:function(){return this.graphModel.getSelectElements(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=Dr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=Dr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){return this.graphModel.transformModel.zoom(t,n)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,n){this.graphModel.transformModel.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel;this.translate(-t.TRANSLATE_X,-t.TRANSLATE_Y)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){void 0===n&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(null!==(t=this.plugins)&&void 0!==t?t:e.extensions).forEach(function(s){-1===o.indexOf(s.pluginName||s.name)&&n.installPlugin(s)})}},{key:"installPlugin",value:function(t){if("object"===Bl(t)){var n=t.install,o=t.render;return n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),void(this.extension[t.pluginName]=t)}var i=t,s=new i({lf:this,LogicFlow:e});s.render&&this.components.push(s.render.bind(s)),this.extension[i.pluginName]=s}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(n){var o=new n(Ya(Ya({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(t.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(Dr(t)),!1!==this.options.history&&this.history.watch(this.graphModel),Object(Ee.j)(Object(Ee.g)(ww,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(At.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8bf7\u7ed9\u63d2\u4ef6".concat(t.name||t.constructor.name,"\u6307\u5b9apluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();function Dn(e){return ot(e)}fr(Qc,"extensions",new Map),N.default=Qc}])},9336:(qc,vn,j)=>{"use strict";j.d(vn,{EV:()=>$e,t0:()=>tr,oT:()=>di,v2:()=>Qn,Ju:()=>Za,aC:()=>we});var N=j(2188),b=function a(h,f){return h(f={exports:{}},f.exports),f.exports}(function(h){var f=h.exports=function(u,d){if(d||(d=16),void 0===u&&(u=128),u<=0)return"0";for(var v=Math.log(Math.pow(2,u))/Math.log(d),m=2;v===1/0;m*=2)v=Math.log(Math.pow(2,u/m))/Math.log(d)*m;var S=v-Math.floor(v),M="";for(m=0;m<Math.floor(v);m++)M=Math.floor(Math.random()*d).toString(d)+M;if(S){var Z=Math.pow(d,S);M=Math.floor(Math.random()*Z).toString(d)+M}var F=parseInt(M,d);return F!==1/0&&F>=Math.pow(2,u)?f(u,d):M};f.rack=function(u,d,v){var m=function(M){var z=0;do{if(z++>10){if(!v)throw new Error("too many ID collisions, use more bits");u+=v}var Z=f(u,d)}while(Object.hasOwnProperty.call(S,Z));return S[Z]=M,Z},S=m.hats={};return m.get=function(M){return m.hats[M]},m.set=function(M,z){return m.hats[M]=z,m},m.bits=u||128,m.base=d||16,m}});function y(h){if(!(this instanceof y))return new y(h);this._seed=(h=h||[128,36,1]).length?b.rack(h[0],h[1],h[2]):h}y.prototype.next=function(h){return this._seed(h||!0)},y.prototype.nextPrefixed=function(h,f){var u;do{u=h+this.next(!0)}while(this.assigned(u));return this.claim(u,f),u},y.prototype.claim=function(h,f){this._seed.set(h,f||!0)},y.prototype.assigned=function(h){return this._seed.get(h)||!1},y.prototype.unclaim=function(h){delete this._seed.hats[h]},y.prototype.clear=function(){var f,h=this._seed.hats;for(f in h)this.unclaim(f)};const P=y;var A=new P([32,32,1]);function C(){return A.next()}var h,B=(h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)},function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}),L=function(h){function f(u,d){return u.id||(u.id="Event_"+C()),u.text||(u.text=""),u.text&&"string"==typeof u.text&&(u.text={value:u.text,x:u.x,y:u.y+40}),h.call(this,u,d)||this}return B(f,h),f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedTargetRules=function(){var u=h.prototype.getConnectedTargetRules.call(this);return u.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u7ec8\u70b9",validate:function(){return!1}}),u},f.extendKey="StartEventModel",f}(N.CircleNodeModel),$=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return B(f,h),f.extendKey="StartEventNode",f}(N.CircleNode);const Q={type:"bpmn:startEvent",view:$,model:L};var Y=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),J=function(){return J=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},J.apply(this,arguments)},ne=function(h){function f(u,d){return u.id||(u.id="Event_"+C()),u.text||(u.text=""),u.text&&"string"==typeof u.text&&(u.text={value:u.text,x:u.x,y:u.y+40}),h.call(this,u,d)||this}return Y(f,h),f.prototype.setAttributes=function(){this.r=18},f.prototype.getConnectedSourceRules=function(){var u=h.prototype.getConnectedSourceRules.call(this);return u.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u8d77\u70b9",validate:function(){return!1}}),u},f.extendKey="EndEventModel",f}(N.CircleNodeModel),ae=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Y(f,h),f.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},f.prototype.getShape=function(){var u=this.props.model,d=u.getNodeStyle(),v=u.x,m=u.y,S=u.r,M=h.prototype.getShape.call(this);return(0,N.h)("g",{},M,(0,N.h)("circle",J(J({},d),{cx:v,cy:m,r:S-5})))},f.extendKey="EndEventView",f}(N.CircleNode);const Me={type:"bpmn:endEvent",view:ae,model:ne};var ge=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),be=function(){return be=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},be.apply(this,arguments)},de=function(h){function f(u,d){var v=this;return u.id||(u.id="Gateway_"+C()),u.text||(u.text=""),u.text&&"string"==typeof u.text&&(u.text={value:u.text,x:u.x,y:u.y+40}),(v=h.call(this,u,d)||this).points=[[25,0],[50,25],[25,50],[0,25]],v}return ge(f,h),f.extendKey="ExclusiveGatewayModel",f}(N.PolygonNodeModel),Ae=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return ge(f,h),f.prototype.getShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.points,z=u.getNodeStyle();return(0,N.h)("g",{transform:"matrix(1 0 0 1 "+(d-m/2)+" "+(v-S/2)+")"},(0,N.h)("polygon",be(be({},z),{x:d,y:v,points:M})),(0,N.h)("path",be({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},z)))},f.extendKey="ExclusiveGatewayNode",f}(N.PolygonNode);const Pe={type:"bpmn:exclusiveGateway",view:Ae,model:de};var oe=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),H=function(){return H=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},H.apply(this,arguments)},te=function(h){function f(u,d){return u.id||(u.id="Activity_"+C()),h.call(this,u,d)||this}return oe(f,h),f.extendKey="UserTaskModel",f}(N.RectNodeModel),fe=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return oe(f,h),f.prototype.getLabelShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.getNodeStyle();return(0,N.h)("svg",{x:d-m/2+5,y:v-S/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,N.h)("path",{fill:M.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},f.prototype.getShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.radius,z=u.getNodeStyle();return(0,N.h)("g",{},[(0,N.h)("rect",H(H({},z),{x:d-m/2,y:v-S/2,rx:M,ry:M,width:m,height:S})),this.getLabelShape()])},f.extendKey="UserTaskNode",f}(N.RectNode);const ke={type:"bpmn:userTask",view:fe,model:te};var Se=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),ze=function(){return ze=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},ze.apply(this,arguments)},Ye=function(h){function f(u,d){return u.id||(u.id="Activity_"+C()),h.call(this,u,d)||this}return Se(f,h),f.extendKey="ServiceTaskModel",f}(N.RectNodeModel),He=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Se(f,h),f.prototype.getLabelShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.getNodeStyle();return(0,N.h)("svg",{x:d-m/2+5,y:v-S/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,N.h)("path",{fill:M.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},f.prototype.getShape=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.radius,z=u.getNodeStyle();return(0,N.h)("g",{},[(0,N.h)("rect",ze({x:d-m/2,y:v-S/2,rx:M,ry:M,width:m,height:S},z)),this.getLabelShape()])},f.extendKey="ServiceTaskNode",f}(N.RectNode);const tt={type:"bpmn:serviceTask",view:He,model:Ye};var ft=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),wt=function(h){function f(u,d){return u.id||(u.id="Flow_"+C()),h.call(this,u,d)||this}return ft(f,h),f.extendKey="SequenceFlowModel",f}(N.PolylineEdgeModel),Ot=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return ft(f,h),f.extendKey="SequenceFlowEdge",f}(N.PolylineEdge);const st={type:"bpmn:sequenceFlow",view:Ot,model:wt};var Te={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},$e=function(){function h(f){var u=f.lf;u.setTheme(Te),u.register(Q),u.register(Me),u.register(Pe),u.register(ke),u.register(tt),u.options.customBpmnEdge||(u.register(st),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return h.pluginName="bpmnElement",h}(),we=function(){function h(f){var u=this,d=f.lf;this.lf=d,this.customCssRules="",this.useGlobalRules=!0,d.getSnapshot=function(v,m){u.getSnapshot(v,m)},d.getSnapshotBlob=function(v){return u.getSnapshotBlob(v)},d.getSnapshotBase64=function(v){return u.getSnapshotBase64(v)}}return h.prototype.getSvgRootElement=function(f){var u=this;return this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,f.graphModel.nodes.forEach(function(v){var Z=v.x-v.width/2,F=v.y-v.height/2;Z<u.offsetX&&(u.offsetX=Z-5),F<u.offsetY&&(u.offsetY=F-5)}),f.graphModel.edges.forEach(function(v){v.pointsList&&v.pointsList.forEach(function(m){var S=m.x,M=m.y;S<u.offsetX&&(u.offsetX=S-5),M<u.offsetY&&(u.offsetY=M-5)})}),f.container.querySelector(".lf-canvas-overlay")},h.prototype.triggerDownload=function(f){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),d=document.createElement("a");d.setAttribute("download",this.fileName),d.setAttribute("href",f),d.setAttribute("target","_blank"),d.dispatchEvent(u)},h.prototype.removeAnchor=function(f){for(var u=f.childNodes,d=f.childNodes&&f.childNodes.length,v=0;v<d;v++){var m=u[v];(m.classList&&Array.from(m.classList)||[]).indexOf("lf-anchor")>-1&&(f.removeChild(f.childNodes[v]),d--,v--)}},h.prototype.getSnapshot=function(f,u){var d=this;this.fileName=f||"logic-flow."+Date.now()+".png";var v=this.getSvgRootElement(this.lf);this.getCanvasData(v,u).then(function(m){var S=m.toDataURL("image/png").replace("image/png","image/octet-stream");d.triggerDownload(S)})},h.prototype.getSnapshotBase64=function(f){var u=this,d=this.getSvgRootElement(this.lf);return new Promise(function(v){u.getCanvasData(d,f).then(function(m){var S=m.toDataURL("image/png");v({data:S,width:m.width,height:m.height})})})},h.prototype.getSnapshotBlob=function(f){var u=this,d=this.getSvgRootElement(this.lf);return new Promise(function(v){u.getCanvasData(d,f).then(function(m){m.toBlob(function(S){v({data:S,width:m.width,height:m.height})},"image/png")})})},h.prototype.getClassRules=function(){var f="";if(this.useGlobalRules)for(var u=document.styleSheets,d=0;d<u.length;d++)for(var v=u[d],m=0;m<v.cssRules.length;m++)f+=v.cssRules[m].cssText;return this.customCssRules&&(f+=this.customCssRules),f},h.prototype.getCanvasData=function(f,u){var d=this,v=f.cloneNode(!0),m=v.lastChild,S=m.childNodes&&m.childNodes.length;if(S)for(var M=0;M<S;M++){var z=m.childNodes[M],Z=z.classList&&Array.from(z.classList);if(Z&&Z.indexOf("lf-base")<0)m.removeChild(m.childNodes[M]),S--,M--;else{var F=m.childNodes[M];F&&F.childNodes.forEach(function(je){d.removeAnchor(je.firstChild)})}}v.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var me=window.devicePixelRatio||1,he=document.createElement("canvas"),Ie=this.lf.graphModel.rootEl.querySelector(".lf-base").getBoundingClientRect(),rt=this.lf.graphModel.transformModel,l=rt.SCALE_Y,p=Math.ceil(Ie.width/rt.SCALE_X),O=Math.ceil(Ie.height/l);he.style.width=p+"px",he.style.height=O+"px",he.width=p*me+80,he.height=O*me+80;var D=he.getContext("2d");D.clearRect(0,0,he.width,he.height),D.scale(me,me),u?(D.fillStyle=u,D.fillRect(0,0,p*me+80,O*me+80)):D.clearRect(0,0,p,O);var G=new Image,q=document.createElement("style");q.innerHTML=this.getClassRules();var se=document.createElement("foreignObject");return se.appendChild(q),v.appendChild(se),new Promise(function(je){G.onload=function(){D.drawImage(G,0,0),je(he)};var mt=("data:image/svg+xml;charset=utf-8,"+(new XMLSerializer).serializeToString(v)).replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");G.src=mt})},h.pluginName="snapshot",h}(),ht=new P([32,32,1]);function pt(){return ht.next()}function xt(h,f){for(var u=0;u<f;u++)h+="  ";return h}function De(h,f,u,d){var v="";if(h instanceof Array)for(var m=0,S=h.length;m<S;m++)v+=xt(u,d)+De(h[m],f,u,d+1);else if("object"==typeof h){var M=!1;for(var z in v+=xt(u,d)+"<"+f,h)"-"==z.charAt(0)?v+=" "+z.substr(1)+'="'+h[z].toString()+'"':M=!0;if(v+=M?">":" />",M){for(var z in h)"#text"==z?v+=h[z]:"#cdata"==z?v+="<![CDATA["+h[z]+"]]>":"-"!=z.charAt(0)&&(v+=De(h[z],z,u,d+1));v+=xt(u,d)+"</"+f+">"}}else v+=xt(u,d)+"<"+f+">"+h.toString()+"</"+f+">";return v}var ut=function(){};(ut.ObjTree=function(){return this}).VERSION="0.23",ut.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',ut.ObjTree.prototype.attr_prefix="-",ut.ObjTree.prototype.parseXML=function(h){var f;if(window.DOMParser){var u=new DOMParser,d=u.parseFromString(h,"application/xml");if(!d)return;f=d.documentElement}else window.ActiveXObject&&((u=new ActiveXObject("Microsoft.XMLDOM")).async=!1,u.loadXML(h),f=u.documentElement);if(f)return this.parseDOM(f)},ut.ObjTree.prototype.parseHTTP=function(h,f,u){var z,d={};for(var v in f)d[v]=f[v];if(d.method||(d.method=typeof d.postBody>"u"&&typeof d.postbody>"u"&&typeof d.parameters>"u"?"get":"post"),u){d.asynchronous=!0;var m=this,S=u,M=d.onComplete;d.onComplete=function(F){var me;F&&F.responseXML&&F.responseXML.documentElement&&(me=m.parseDOM(F.responseXML.documentElement)),S(me,F),M&&M(F)}}else d.asynchronous=!1;if(typeof HTTP<"u"&&HTTP.Request)d.uri=h,(Z=new HTTP.Request(d))&&(z=Z.transport);else if(typeof Ajax<"u"&&Ajax.Request){var Z;(Z=new Ajax.Request(h,d))&&(z=Z.transport)}return u?z:z&&z.responseXML&&z.responseXML.documentElement?this.parseDOM(z.responseXML.documentElement):void 0},ut.ObjTree.prototype.parseDOM=function(h){if(h){if(this.__force_array={},this.force_array)for(var f=0;f<this.force_array.length;f++)this.__force_array[this.force_array[f]]=1;var u=this.parseElement(h);if(this.__force_array[h.nodeName]&&(u=[u]),11!=h.nodeType){var d={};d[h.nodeName]=u,u=d}return u}},ut.ObjTree.prototype.parseElement=function(h){if(7!=h.nodeType){if(3==h.nodeType||4==h.nodeType)return null==h.nodeValue.match(/[^\x00-\x20]/)?void 0:h.nodeValue;var u,d={};if(h.attributes&&h.attributes.length){u={};for(var v=0;v<h.attributes.length;v++)"string"==typeof(m=h.attributes[v].nodeName)&&(!(S=h.attributes[v].nodeValue)||(typeof d[m=this.attr_prefix+m]>"u"&&(d[m]=0),d[m]++,this.addNode(u,m,d[m],S)))}if(h.childNodes&&h.childNodes.length){var M=!0;for(u&&(M=!1),v=0;v<h.childNodes.length&&M;v++){var z=h.childNodes[v].nodeType;3==z||4==z||(M=!1)}if(M)for(u||(u=""),v=0;v<h.childNodes.length;v++)u+=h.childNodes[v].nodeValue;else for(u||(u={}),v=0;v<h.childNodes.length;v++){var m,S;"string"==typeof(m=h.childNodes[v].nodeName)&&(!(S=this.parseElement(h.childNodes[v]))||(typeof d[m]>"u"&&(d[m]=0),d[m]++,this.addNode(u,m,d[m],S)))}}return u}},ut.ObjTree.prototype.addNode=function(h,f,u,d){this.__force_array[f]?(1==u&&(h[f]=[]),h[f][h[f].length]=d):1==u?h[f]=d:2==u?h[f]=[h[f],d]:h[f][h[f].length]=d},ut.ObjTree.prototype.writeXML=function(h){var f=this.hash_to_xml(null,h);return this.xmlDecl+f},ut.ObjTree.prototype.hash_to_xml=function(h,f){var u=[],d=[];for(var v in f)if(f.hasOwnProperty(v)){var m=f[v];v.charAt(0)!=this.attr_prefix?u[u.length]=typeof m>"u"||null==m?"<"+v+" />":"object"==typeof m&&m.constructor==Array?this.array_to_xml(v,m):"object"==typeof m?this.hash_to_xml(v,m):this.scalar_to_xml(v,m):d[d.length]=" "+v.substring(1)+'="'+this.xml_escape(m)+'"'}var S=d.join(""),M=u.join("");return typeof h>"u"||null==h||(M=u.length>0?M.match(/\n/)?"<"+h+S+">\n"+M+"</"+h+">\n":"<"+h+S+">"+M+"</"+h+">\n":"<"+h+S+" />\n"),M},ut.ObjTree.prototype.array_to_xml=function(h,f){for(var u=[],d=0;d<f.length;d++){var v=f[d];u[u.length]=typeof v>"u"||null==v?"<"+h+" />":"object"==typeof v&&v.constructor==Array?this.array_to_xml(h,v):"object"==typeof v?this.hash_to_xml(h,v):this.scalar_to_xml(h,v)}return u.join("")},ut.ObjTree.prototype.scalar_to_xml=function(h,f){return"#text"==h?this.xml_escape(f):"<"+h+">"+this.xml_escape(f)+"</"+h+">\n"},ut.ObjTree.prototype.xml_escape=function(h){return h.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var vt=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},zt=(()=>(function(h){h.START="bpmn:startEvent",h.END="bpmn:endEvent",h.GATEWAY="bpmn:exclusiveGateway",h.USER="bpmn:userTask",h.SYSTEM="bpmn:serviceTask",h.FLOW="bpmn:sequenceFlow"}(zt||(zt={})),zt))(),Ft=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Dt(h){var f={};return Object.entries(h).forEach(function(u){var d=vt(u,2),v=d[0],m=d[1];"object"!=typeof m?0===v.indexOf("-")?f[v]=m:f["-"+v]=m:f[v]=Dt(m)}),f}function Gt(h){var f={};return Object.entries(h).forEach(function(u){var d=vt(u,2),v=d[0],m=d[1];"string"==typeof m?0===v.indexOf("-")?f[v.substr(1)]=m:f[v]=m:f[v]="object"==typeof m?Gt(m):m}),f}function cr(h,f,u){var M,z,d=Number(h["dc:Bounds"]["-x"]),v=Number(h["dc:Bounds"]["-y"]),m=u["-name"],S=Xt.shapeConfigMap.get(f);if(S&&(d+=S.width/2,v+=S.height/2),Object.entries(u).forEach(function(me){var he=vt(me,2),Oe=he[0],Ie=he[1];-1===Ft.indexOf(Oe)&&(M||(M={}),M[Oe]=Ie)}),M&&(M=Gt(M)),m&&(z={x:d,y:v,value:m},h["bpmndi:BPMNLabel"]&&h["bpmndi:BPMNLabel"]["dc:Bounds"])){var Z=h["bpmndi:BPMNLabel"]["dc:Bounds"];z.x=Number(Z["-x"])+Number(Z["-width"])/2,z.y=Number(Z["-y"])+Number(Z["-height"])/2}var F={id:h["-bpmnElement"],type:f,x:d,y:v,properties:M};return z&&(F.text=z),F}function kt(h,f){var u,S,d=f["-name"];if(d){var v=h["bpmndi:BPMNLabel"]["dc:Bounds"],m=0;d.split("\n").forEach(function(z){m<z.length&&(m=z.length)}),u={value:d,x:Number(v["-x"])+10*m/2,y:Number(v["-y"])+7}}Object.entries(f).forEach(function(z){var Z=vt(z,2),F=Z[0],me=Z[1];-1===Ft.indexOf(F)&&(S||(S={}),S[F]=me)}),S&&(S=Gt(S));var M={id:f["-id"],type:zt.FLOW,pointsList:h["di:waypoint"].map(function(z){return{x:Number(z["-x"]),y:Number(z["-y"])}}),sourceNodeId:f["-sourceRef"],targetNodeId:f["-targetRef"],properties:S};return u&&(M.text=u),M}var Xt={pluginName:"bpmn-adapter",install:function(h){h.adapterIn=this.adapterIn,h.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(h,f){this.shapeConfigMap.set(h,f)},adapterOut:function(h){var f={"-id":"Process_"+pt(),"-isExecutable":"false"};!function _t(h,f){var u=new Map;f.nodes.forEach(function(v){var m,S={"-id":v.id};if(!(null===(m=v.text)||void 0===m)&&m.value&&(S["-name"]=v.text.value),v.properties){var M=Dt(v.properties);Object.assign(S,M)}u.set(v.id,S),h[v.type]?Array.isArray(h[v.type])?h[v.type].push(S):h[v.type]=[h[v.type],S]:h[v.type]=S});var d=f.edges.map(function(v){var m,S,M=u.get(v.targetNodeId);M["bpmn:incoming"]?Array.isArray(M["bpmn:incoming"])?M["bpmn:incoming"].push(v.id):M["bpmn:incoming"]=[M["bpmn:incoming"],v.id]:M["bpmn:incoming"]=v.id;var z=u.get(v.sourceNodeId);z["bpmn:outgoing"]?Array.isArray(z["bpmn:outgoing"])?z["bpmn:outgoing"].push(v.id):z["bpmn:outgoing"]=[z["bpmn:outgoing"],v.id]:z["bpmn:outgoing"]=v.id;var Z={"-id":v.id,"-sourceRef":v.sourceNodeId,"-targetRef":v.targetNodeId};if(!(null===(m=v.text)||void 0===m)&&m.value&&(Z["-name"]=null===(S=v.text)||void 0===S?void 0:S.value),v.properties){var F=Dt(v.properties);Object.assign(Z,F)}return Z});h[zt.FLOW]=d}(f,h);var u={"-id":"BPMNPlane_1","-bpmnElement":f["-id"]};return function Ut(h,f){h["bpmndi:BPMNEdge"]=f.edges.map(function(u){var d,v=u.id,S={"-id":v+"_di","-bpmnElement":v,"di:waypoint":u.pointsList.map(function(M){return{"-x":M.x,"-y":M.y}})};return!(null===(d=u.text)||void 0===d)&&d.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-10*u.text.value.length/2,"-y":u.text.y-7,"-width":10*u.text.value.length,"-height":14}}),S}),h["bpmndi:BPMNShape"]=f.nodes.map(function(u){var d,v=u.id,m=100,S=80,M=u.x,z=u.y,Z=Xt.shapeConfigMap.get(u.type);Z&&(m=Z.width,S=Z.height);var F={"-id":v+"_di","-bpmnElement":v,"dc:Bounds":{"-x":M-=m/2,"-y":z-=S/2,"-width":m,"-height":S}};return!(null===(d=u.text)||void 0===d)&&d.value&&(F["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-10*u.text.value.length/2,"-y":u.text.y-7,"-width":10*u.text.value.length,"-height":14}}),F})}(u,h),{"bpmn:definitions":{"-id":"Definitions_"+pt(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":f,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}}},adapterIn:function(h){if(h)return function nr(h){var f=[],u=[],d=h["bpmn:definitions"];if(d){var v=d["bpmn:process"];Object.keys(v).forEach(function(m){if(0===m.indexOf("bpmn:")){var S=v[m];m===zt.FLOW?u=function ar(h,f){var d,u=[];Array.isArray(h)?h.forEach(function(v){var m;m=Array.isArray(f)?f.find(function(S){return S["-bpmnElement"]===v["-id"]}):f,u.push(kt(m,v))}):(d=Array.isArray(f)?f.find(function(v){return v["-bpmnElement"]===h["-id"]}):f,u.push(kt(d,h)));return u}(S,d["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"]):f=f.concat(function vr(h,f,u){var d=[];if(Array.isArray(h))h.forEach(function(S){var z=cr(Array.isArray(f)?f.find(function(Z){return Z["-bpmnElement"]===S["-id"]}):f,u,S);d.push(z)});else{var v;v=Array.isArray(f)?f.find(function(S){return S["-bpmnElement"]===h["-id"]}):f;var m=cr(v,u,h);d.push(m)}return d}(S,d["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"],m))}})}return{nodes:f,edges:u}}(h)}};Xt.shapeConfigMap.set(zt.START,{width:40,height:40}),Xt.shapeConfigMap.set(zt.END,{width:40,height:40}),Xt.shapeConfigMap.set(zt.GATEWAY,{width:40,height:40}),Xt.shapeConfigMap.set(zt.SYSTEM,{width:100,height:80}),Xt.shapeConfigMap.set(zt.USER,{width:100,height:80});var tr={pluginName:"bpmnXmlAdapter",install:function(h){h.adapterIn=this.adapterXmlIn,h.adapterOut=this.adapterXmlOut},adapterXmlIn:function(h){var f=function(h){return(new ut.ObjTree).parseXML(h)}(h);return Xt.adapterIn(f)},adapterXmlOut:function(h){return function Bt(h){var f="";for(var u in h)f+=De(h[u],u,"\t\n",0);return f}(Xt.adapterOut(h))}},ot=function(){return ot=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},ot.apply(this,arguments)},Tt={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Rt(h){switch(h){case"bpmn:sequenceFlow":return 1;case"bpmn:startEvent":return 2;case"bpmn:endEvent":return 3;case"bpmn:userTask":return 4;case"bpmn:exclusiveGateway":return 6;default:return h}}function K(h){var f={nodes:[],edges:[]},u=h.flowElementList;return u&&u.length>0&&u.forEach(function(d){if(1===d.type){var v=function w(h){var d=h.properties,z=d.startPoint,Z=d.endPoint,F=d.pointsList,me={id:h.key,type:Tt[h.type],sourceNodeId:h.incoming[0],targetNodeId:h.outgoing[0],text:d.text||d.name,properties:{}};z&&(me.startPoint=JSON.parse(z)),Z&&(me.endPoint=JSON.parse(Z)),F&&(me.pointsList=JSON.parse(F));var he=["startPoint","endPoint","pointsList","text"];return Object.keys(h.properties).forEach(function(Oe){-1===he.indexOf(Oe)&&(me.properties[Oe]=h.properties[Oe])}),me}(d);f.edges.push(v)}else{var m=function I(h){var f=h.properties,u=h.key,d=h.type,m=f.x,S=f.y,M=f.text;if(void 0===m){var z=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m}(h.bounds,2),Z=z[0],he=z[1];m=(Z.x+he.x)/2,S=(Z.y+he.y)/2}var nt={id:u,type:Tt[d],x:m,y:S,text:M,properties:{}},rt=["x","y","text"];return Object.keys(h.properties).forEach(function(We){-1===rt.indexOf(We)&&(nt.properties[We]=h.properties[We])}),nt}(d);f.nodes.push(m)}}),f}!function(){function h(f){var u=f.lf;u.adapterIn=this.adapterIn,u.adapterOut=this.adapterOut}h.prototype.adapterOut=function(f){if(f)return function x(h){var f=new Map,u={flowElementList:[]};return h.nodes.forEach(function(d){var v=function W(h){var f=h.id,d=h.x,v=h.y,m=h.text,S=void 0===m?"":m,M=h.properties;return{incoming:[],outgoing:[],dockers:[],type:Rt(h.type),properties:ot(ot({},M),{name:S&&S.value||"",x:d,y:v,text:S}),key:f}}(d);u.flowElementList.push(v),f.set(d.id,v)}),h.edges.forEach(function(d){var v=function U(h){var f=h.id,m=h.startPoint,S=h.endPoint,M=h.pointsList,z=h.text,Z=void 0===z?"":z,F=h.properties;return{incoming:[h.sourceNodeId],outgoing:[h.targetNodeId],type:Rt(h.type),dockers:[],properties:ot(ot({},F),{name:Z&&Z.value||"",text:Z,startPoint:JSON.stringify(m),endPoint:JSON.stringify(S),pointsList:JSON.stringify(M)}),key:f}}(d);f.get(d.sourceNodeId).outgoing.push(v.key),f.get(d.targetNodeId).incoming.push(v.key),u.flowElementList.push(v)}),u}(f)},h.prototype.adapterIn=function(f){if(f)return K(f)},h.pluginName="turboAdapter"}();var Ze=(()=>(function(h){h.HORIZONTAL="horizontal",h.VERTICAL="vertical"}(Ze||(Ze={})),Ze))(),Je=function(h,f,u){var d=h.x,v=h.y;return(d-f.x)*(d-u.x)<=0&&(v-f.y)*(v-u.y)<=0},Pt=function(h,f,u){var d=function(h){var f=h.x,u=h.y,d=h.width,v=h.height;return{minX:f-d/2,minY:u-v/2,maxX:f+d/2,maxY:u+v/2,x:f,y:u,width:d,height:v,centerX:f,centerY:u}}(h),v=function(h,f){var u;return h.x===f.x?u=Ze.VERTICAL:h.y===f.y&&(u=Ze.HORIZONTAL),u}(f,u),m=Math.max(f.x,u.x),S=Math.min(f.x,u.x),M=Math.max(f.y,u.y),z=Math.min(f.y,u.y),Z=h.x,F=h.y,me=h.width,he=h.height;if(v===Ze.HORIZONTAL){if(f.y===F&&m>=d.maxX&&S<=d.minX)return{startCrossPoint:{x:f.x>u.x?Z+me/2:Z-me/2,y:F},endCrossPoint:{x:f.x>u.x?Z-me/2:Z+me/2,y:F}}}else if(v===Ze.VERTICAL&&f.x===h.x&&M>=d.maxY&&z<=d.minY)return{startCrossPoint:{x:Z,y:f.y>u.y?F+he/2:F-he/2},endCrossPoint:{x:Z,y:f.y>u.y?F-he/2:F+he/2}}},ur=function(h,f){for(var u=h.x,d=h.y,v=f.pointsList,m=0;m<v.length-1;m++)if(Je({x:u,y:d},v[m],v[m+1])){var S=Pt(h,v[m],v[m+1]);if(S)return{crossIndex:m+1,crossPoints:S}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Rr=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},go=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(Rr(arguments[f]));return h};!function(){function h(f){this._lf=f.lf,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}h.prototype.eventHandler=function(){var f=this;this.dndAdd&&this._lf.on("node:dnd-add",function(u){f.insetNode(u.data)}),this.dropAdd&&this._lf.on("node:drop",function(u){for(var d=u.data,v=f._lf.graphModel.edges,m=d.id,S=!0,M=0;M<v.length;M++)if(v[M].sourceNodeId===m||v[M].targetNodeId===m){S=!1;break}S&&f.insetNode(d)})},h.prototype.insetNode=function(f){for(var u=this._lf.graphModel.edges,d=this._lf.getNodeModelById(f.id),v=0;v<u.length;v++){var m=ur(d,u[v]),S=m.crossIndex,M=m.crossPoints;if(S>=0){var z=u[v],F=z.targetNodeId,me=z.id,he=z.type,Oe=z.pointsList;this._lf.addEdge({type:he,sourceNodeId:z.sourceNodeId,targetNodeId:f.id,pointsList:go(Oe.slice(0,S),[M.startCrossPoint])}),this._lf.addEdge({type:he,sourceNodeId:f.id,targetNodeId:F,pointsList:go([M.endCrossPoint],Oe.slice(S))}),this._lf.deleteEdge(me);break}}},h.pluginName="insertNodeInPolyline"}();var Xr=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},di=function(){function h(f){var u=this,d=f.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){u.lf.redo()}}],this.lf=d}return h.prototype.render=function(f,u){this.destroy();var d=this.getControlTool();this.toolEl=d,u.appendChild(d),this.domContainer=u},h.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},h.prototype.addItem=function(f){this.controlItems.push(f)},h.prototype.removeItem=function(f){var u=this.controlItems.findIndex(function(d){return d.key===f});return this.controlItems.splice(u,1)[0]},h.prototype.getControlTool=function(){var f=this,u="lf-control-item",d="lf-control-item disabled",v=document.createElement("div"),m=[];return v.className="lf-control",this.controlItems.forEach(function(S){var M=document.createElement("div"),z=document.createElement("i"),Z=document.createElement("span");switch(M.className=d,S.onClick&&(M.onclick=S.onClick.bind(null,f.lf)),S.onMouseEnter&&(M.onmouseenter=S.onMouseEnter.bind(null,f.lf)),S.onMouseLeave&&(M.onmouseleave=S.onMouseLeave.bind(null,f.lf)),z.className=S.iconClass,Z.className="lf-control-text",Z.title=S.title,Z.innerText=S.text,M.append(z,Z),S.text){case"\u4e0a\u4e00\u6b65":f.lf.on("history:change",function(F){M.className=F.data.undoAble?u:d});break;case"\u4e0b\u4e00\u6b65":f.lf.on("history:change",function(F){M.className=F.data.redoAble?u:d});break;default:M.className=u}m.push(M)}),v.append.apply(v,function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(Xr(arguments[f]));return h}(m)),v},h.pluginName="control",h}(),Ee=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},qr="lf:defaultNodeMenu",zo="lf:defaultEdgeMenu",Ur="lf:defaultGraphMenu",pi="lf:defaultSelectionMenu",Qn=function(){function h(f){var u=this,d=f.lf;this.__menuDOM=document.createElement("ul"),this.lf=d,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(v){u.setMenuConfig(v)},this.lf.addMenuConfig=function(v){u.addMenuConfig(v)},this.lf.setMenuByType=function(v){u.setMenuByType(v)}}return h.prototype.init=function(){var f=this;this.menuTypeMap.set(qr,[{text:"\u5220\u9664",callback:function(m){f.lf.deleteNode(m.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(m){f.lf.graphModel.editText(m.id)}},{text:"\u590d\u5236",callback:function(m){f.lf.cloneNode(m.id)}}]),this.menuTypeMap.set(zo,[{text:"\u5220\u9664",callback:function(m){f.lf.deleteEdge(m.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(m){f.lf.graphModel.editText(m.id)}}]),this.menuTypeMap.set(Ur,[]),this.menuTypeMap.set(pi,[{text:"\u5220\u9664",callback:function(m){f.lf.clearSelectElements(),m.edges.forEach(function(S){return f.lf.deleteEdge(S.id)}),m.nodes.forEach(function(S){return f.lf.deleteNode(S.id)})}}])},h.prototype.render=function(f,u){var d=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(v){v.stopPropagation();for(var m=v.target;-1===Array.from(m.classList).indexOf("lf-menu-item")&&-1===Array.from(m.classList).indexOf("lf-menu");)m=m.parentElement;Array.from(m.classList).indexOf("lf-menu-item")>-1?(m.onclickCallback(d.__currentData),d.__menuDOM.style.display="none",d.__currentData=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")},!0),this.lf.on("node:contextmenu",function(v){var he,m=v.data,M=v.position.domOverlayPosition,z=M.x,Z=M.y,me=d.lf.graphModel.getNodeModelById(m.id),Oe=d.menuTypeMap.get(me.type);he=me&&me.menu&&Array.isArray(me.menu)?me.menu:Oe||d.menuTypeMap.get(qr),d.__currentData=m,d.showMenu(z,Z,he)}),this.lf.on("edge:contextmenu",function(v){var he,m=v.data,M=v.position.domOverlayPosition,z=M.x,Z=M.y,me=d.lf.graphModel.getEdgeModelById(m.id),Oe=d.menuTypeMap.get(me.type);he=me&&me.menu&&Array.isArray(me.menu)?me.menu:Oe||d.menuTypeMap.get(zo),d.__currentData=m,d.showMenu(z,Z,he)}),this.lf.on("blank:contextmenu",function(v){var m=v.position,S=d.menuTypeMap.get(Ur),M=m.domOverlayPosition;d.showMenu(M.x,M.y,S)}),this.lf.on("selection:contextmenu",function(v){var m=v.data,S=v.position,M=d.menuTypeMap.get(pi),z=S.domOverlayPosition,Z=z.x,F=z.y;d.__currentData=m,d.showMenu(Z,F,M)}),this.lf.on("node:mousedown",function(){d.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){d.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){d.__menuDOM.style.display="none"})},h.prototype.destroy=function(){var f;null===(f=null==this?void 0:this.__container)||void 0===f||f.removeChild(this.__menuDOM),this.__menuDOM=null},h.prototype.showMenu=function(f,u,d){if(d&&d.length){var v=this.__menuDOM;v.innerHTML="",v.append.apply(v,function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(Ee(arguments[f]));return h}(this.__getMenuDom(d))),v.children.length&&(v.style.display="block",v.style.top=u+"px",v.style.left=f+"px")}},h.prototype.setMenuByType=function(f){!f.type||!f.menu||this.menuTypeMap.set(f.type,f.menu)},h.prototype.__getMenuDom=function(f){var u=[];return f&&f.length>0&&f.forEach(function(d){var v=document.createElement("li");if(v.className=d.className?"lf-menu-item "+d.className:"lf-menu-item",!0===d.icon){var m=document.createElement("span");m.className="lf-menu-item-icon",v.appendChild(m)}var S=document.createElement("span");S.className="lf-menu-item-text",d.text&&(S.innerText=d.text),v.appendChild(S),v.onclickCallback=d.callback,u.push(v)}),u},h.prototype.setMenuConfig=function(f){!f||(void 0!==f.nodeMenu&&this.menuTypeMap.set(qr,f.nodeMenu?f.nodeMenu:[]),void 0!==f.edgeMenu&&this.menuTypeMap.set(zo,f.edgeMenu?f.edgeMenu:[]),void 0!==f.graphMenu&&this.menuTypeMap.set(Ur,f.graphMenu?f.graphMenu:[]))},h.prototype.addMenuConfig=function(f){if(f){if(Array.isArray(f.nodeMenu)){var u=this.menuTypeMap.get(qr);this.menuTypeMap.set(qr,u.concat(f.nodeMenu))}Array.isArray(f.edgeMenu)&&(u=this.menuTypeMap.get(zo),this.menuTypeMap.set(zo,u.concat(f.edgeMenu))),Array.isArray(f.graphMenu)&&(u=this.menuTypeMap.get(Ur),this.menuTypeMap.set(Ur,u.concat(f.graphMenu)))}},h.prototype.changeMenuItem=function(f,u){if("add"===f)this.addMenuConfig(u);else{if("reset"!==f)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(u)}},h.pluginName="menu",h}(),jn="menu-common";!function(){function h(f){var u=this,d=f.lf;this.menuTypeMap=new Map,this.listenDelete=function(){u.hideContextMenu()},this.lf=d,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(jn,[]),this.lf.setContextMenuByType=function(v,m){u.setContextMenuByType(v,m)},this.lf.setContextMenuItems=function(v){u.setContextMenuItems(v)},this.lf.showContextMenu=function(v){u.showContextMenu(v)},this.lf.hideContextMenu=function(){u.hideContextMenu()}}h.prototype.render=function(f,u){var d=this;this.container=u,f.on("node:click",function(v){d._activeData=v.data,d.createContextMenu()}),f.on("edge:click",function(v){d._activeData=v.data,d.createContextMenu()}),f.on("blank:click",function(){d.hideContextMenu()})},h.prototype.setContextMenuByType=function(f,u){this.menuTypeMap.set(f,u)},h.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},h.prototype.showContextMenu=function(f){f&&f.id?(this._activeData=f,this.createContextMenu()):console.warn("\u8bf7\u68c0\u67e5\u4f20\u5165\u7684\u53c2\u6570")},h.prototype.setContextMenuItems=function(f){this.menuTypeMap.set(jn,f)},h.prototype.getContextMenuPosition=function(){var f=this._activeData,u=this.lf.graphModel.getElement(f.id);if(u){var d,v;if("edge"===u.BaseType){d=Number.MIN_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER;var m=u.getData();d=Math.max(m.startPoint.x,d),v=Math.min(m.startPoint.y,v),d=Math.max(m.endPoint.x,d),v=Math.min(m.endPoint.y,v),m.pointsList&&m.pointsList.forEach(function(S){d=Math.max(S.x,d),v=Math.min(S.y,v)})}return"node"===u.BaseType&&(d=f.x+u.width/2,v=f.y-u.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([d,v])}console.warn("\u627e\u4e0d\u5230\u5143\u7d20"+f.id)},h.prototype.createContextMenu=function(){var f=this;if(!this.lf.options.isSilentMode){var d=this.menuTypeMap.get(this._activeData.type)||[];d=d.concat(this.menuTypeMap.get(jn));var v=document.createDocumentFragment();d.forEach(function(m){var S=document.createElement("div");S.className="lf-context-item";var M=document.createElement("img");M.src=m.icon,M.className="lf-context-img",m.className&&(S.className=S.className+" "+m.className),M.addEventListener("click",function(){f.hideContextMenu(),m.callback?m.callback(f._activeData):f.addNode({sourceId:f._activeData.id,x:f._activeData.x,y:f._activeData.y,properties:m.properties,type:m.type})}),S.appendChild(M),v.appendChild(S)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(v),this.showMenu()}},h.prototype.addNode=function(f,u){var d=void 0!==u;void 0===u&&(u=f.y);var v=this.lf.getNodeModelById(f.sourceId);if(this.lf.getAreaElement([f.x-v.width+200,u-f.y/2-20],[f.x+v.width+200,u+f.y/2+20]).length)this.addNode(f,u+=100);else{var me,he,F=this.lf.addNode({type:f.type,x:f.x+200,y:u,properties:f.properties});d&&(me={x:f.x,y:f.y+v.height/2},he={x:F.x-F.width/2,y:F.y}),this.lf.addEdge({sourceNodeId:f.sourceId,targetNodeId:F.id,startPoint:me,endPoint:he})}},h.prototype.showMenu=function(){var f=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m}(this.getContextMenuPosition(),2),u=f[0],d=f[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=d+"px",this.__menuDOM.style.left=u+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},h.pluginName="contextMenu"}(),function(){function h(f){var u=this;this.lf=f.lf,this.lf.setPatternItems=function(v){u.setPatternItems(v)}}h.prototype.render=function(f,u){var d=this;this.destroy(),this.shapeList&&0!==this.shapeList.length?(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(v){d.panelEl.appendChild(d.createDndItem(v))}),u.appendChild(this.panelEl),this.domContainer=u):this.domContainer=u},h.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},h.prototype.setPatternItems=function(f){this.shapeList=f,this.domContainer&&this.render(this.lf,this.domContainer)},h.prototype.createDndItem=function(f){var u=this,d=document.createElement("div");d.className=f.className?"lf-dnd-item "+f.className:"lf-dnd-item";var v=document.createElement("div");if(v.className="lf-dnd-shape",f.icon&&(v.style.backgroundImage="url("+f.icon+")"),d.appendChild(v),f.label){var m=document.createElement("div");m.innerText=f.label,m.className="lf-dnd-text",d.appendChild(m)}return d.onmousedown=function(){f.type&&u.lf.dnd.startDrag({type:f.type,properties:f.properties,text:f.text}),f.callback&&f.callback(u.lf,u.domContainer)},d},h.pluginName="dndPanel"}();var Za=function(){function h(f){var u=this,d=f.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(m){var S=u.lf.getPointByClient(m.clientX,m.clientY).domOverlayPosition,M=S.x,z=S.y;u.endPoint={x:M,y:z};var Z=u.startPoint,F=Z.x,me=Z.y,he=u.wrapper.style,Oe=F,Ie=me,nt=M-F,rt=z-me;M<F&&(Oe=M,nt=F-M),z<me&&(Ie=z,rt=me-z),he.left=Oe+"px",he.top=Ie+"px",he.width=nt+"px",he.height=rt+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var m=u.startPoint,S=m.x,M=m.y,z=u.endPoint,Z=z.x,F=z.y;if(!(Math.abs(Z-S)<10&&Math.abs(F-M)<10)){var me=[Math.min(S,Z),Math.min(M,F)],he=[Math.max(S,Z),Math.max(M,F)],Oe=u.lf.graphModel.getAreaElement(me,he,u.isWholeEdge,u.isWholeNode,!0),Ie=u.lf.graphModel.group;Oe.forEach(function(nt){(!Ie||!Ie.getNodeGroup(nt.id))&&u.lf.selectElementById(nt.id,!0)}),u.lf.emit("selection:selected",Oe)}},this.lf=d;var v=d.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=v,d.openSelectionSelect=function(){u.openSelectionSelect()},d.closeSelectionSelect=function(){u.closeSelectionSelect()}}return h.prototype.render=function(f,u){var d=this;this.__domContainer=u,f.on("blank:mousedown",function(v){var m=v.e;if(f.getEditConfig().stopMoveGraph&&!d.__disabled){var M=f.getPointByClient(m.clientX,m.clientY).domOverlayPosition,z=M.x,Z=M.y;d.startPoint={x:z,y:Z},d.endPoint={x:z,y:Z};var F=document.createElement("div");F.className="lf-selection-select",F.oncontextmenu=function(he){he.preventDefault()},F.style.top=d.startPoint.y+"px",F.style.left=d.startPoint.x+"px",u.appendChild(F),d.wrapper=F,document.addEventListener("mousemove",d.__draw),document.addEventListener("mouseup",d.__drawOff)}})},h.prototype.setSelectionSense=function(f,u){void 0===f&&(f=!0),void 0===u&&(u=!0),this.isWholeEdge=f,this.isWholeNode=u},h.prototype.openSelectionSelect=function(){this.lf.getEditConfig().stopMoveGraph||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},h.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},h.prototype.open=function(){this.__disabled=!1},h.prototype.close=function(){this.__disabled=!0},h.pluginName="selectionSelect",h}();!function(){function h(f){var u=this,d=f.lf,v=f.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(m,S){u.__setView(),u.__isShow||u.__createMiniMap(m,S),u.__isShow=!0},this.hide=function(){u.__isShow&&u.__removeMiniMap(),u.__isShow=!1},this.__startDrag=function(m){document.addEventListener("mousemove",u.__drag),document.addEventListener("mouseup",u.__drop),u.__startPosition={x:m.x,y:m.y}},this.moveViewport=function(m,S){var M=u.__viewport.style;u.__viewPortTop=m,u.__viewPortLeft=S,M.top=u.__viewPortTop+"px",M.left=u.__viewPortLeft+"px"},this.__drag=function(m){u.moveViewport(u.__viewPortTop+m.y-u.__startPosition.y,u.__viewPortLeft+m.x-u.__startPosition.x),u.__startPosition={x:m.x,y:m.y},u.__lf.focusOn({coordinate:{x:(u.__viewPortLeft+u.__viewPortWidth/2)/u.__viewPortScale+u.__resetDataX,y:(u.__viewPortTop+u.__viewPortHeight/2)/u.__viewPortScale+u.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",u.__drag),document.removeEventListener("mouseup",u.__drop);var m=u.__viewPortTop,S=u.__viewPortLeft;u.__viewPortLeft>u.__width&&(S=u.__width-u.__viewPortWidth),u.__viewPortTop>u.__height&&(m=u.__height-u.__viewPortHeight),u.__viewPortLeft<-u.__width&&(S=0),u.__viewPortTop<-u.__height&&(m=0),u.moveViewport(m,S)},this.__lf=d,this.__miniMapWidth=d.graphModel.width,this.__miniMapHeight=220*d.graphModel.width/150,this.__LogicFlow=v,this.__init()}h.prototype.render=function(f,u){var d=this;this.__container=u,this.__lf.on("history:change",function(){d.__isShow&&d.__setView()}),this.__lf.on("blank:drop",function(){d.__isShow&&d.__setView()})},h.prototype.init=function(f){this.__disabledPlugins=this.__disabledPlugins.concat(f.disabledPlugins||[])},h.prototype.__init=function(){var f=document.createElement("div");f.className="lf-mini-map-graph",f.style.width=this.__width+"px",f.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:220*this.__lf.graphModel.width/150,container:f,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(u){return u},this.__lfMap.adapterOut=function(u){return u},this.__miniMapWrap=f,this.__createViewPort()},h.prototype.__createMiniMap=function(f,u){var d=document.createElement("div");d.appendChild(this.__miniMapWrap),typeof f<"u"&&typeof u<"u"&&(d.style.left=f+"px",d.style.top=u+"px"),d.style.position="absolute",d.className="lf-mini-map",this.__container.appendChild(d),this.__miniMapWrap.appendChild(this.__viewport);var m=document.createElement("div");m.className="lf-mini-map-header",m.innerText="\u5bfc\u822a",d.appendChild(m);var S=document.createElement("span");S.className="lf-mini-map-close",S.addEventListener("click",this.hide),d.appendChild(S),this.__miniMapContainer=d},h.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},h.prototype.__getBounds=function(f){var u=0,d=this.__miniMapWidth,v=0,m=this.__miniMapHeight,S=f.nodes;return S&&S.length>0&&S.forEach(function(M){var z=M.x,Z=M.y,F=M.width,me=void 0===F?200:F,he=M.height,Oe=void 0===he?200:he,Ie=z-me/2,nt=z+me/2,rt=Z-Oe/2,We=Z+Oe/2;u=Ie<u?Ie:u,d=nt>d?nt:d,v=rt<v?rt:v,m=We>m?We:m}),{left:u,top:v,bottom:m,right:d}},h.prototype.__resetData=function(f){var u=f.nodes,d=f.edges,v=0,m=0;return u&&u.length>0&&(u.forEach(function(S){var Z=S.width,me=S.height,Oe=S.x-(void 0===Z?200:Z)/2,Ie=S.y-(void 0===me?200:me)/2;v=Oe<v?Oe:v,m=Ie<m?Ie:m}),(v<0||m<0)&&(this.__resetDataX=v,this.__resetDataY=m,u.forEach(function(S){S.x=S.x-v,S.y=S.y-m,S.text&&(S.text.x=S.text.x-v,S.text.y=S.text.y-m)}),d.forEach(function(S){S.startPoint&&(S.startPoint.x=S.startPoint.x-v,S.startPoint.y=S.startPoint.y-m),S.endPoint&&(S.endPoint.x=S.endPoint.x-v,S.endPoint.y=S.endPoint.y-m),S.text&&(S.text.x=S.text.x-v,S.text.y=S.text.y-m),S.pointsList&&S.pointsList.forEach(function(M){M.x=M.x-v,M.y=M.y-m})}))),f},h.prototype.__setView=function(){var f,u,d=this.__resetData(this.__lf.getGraphRawData()),v=this.__lf.viewMap,m=this.__lf.graphModel.modelMap,S=this.__lfMap.viewMap;try{for(var M=function(h){var f="function"==typeof Symbol&&Symbol.iterator,u=f&&h[f],d=0;if(u)return u.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&d>=h.length&&(h=void 0),{value:h&&h[d++],done:!h}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")}(v.keys()),z=M.next();!z.done;z=M.next()){var Z=z.value;S.has(Z)||(this.__lfMap.setView(Z,v.get(Z)),this.__lfMap.graphModel.modelMap.set(Z,m.get(Z)))}}catch(p){f={error:p}}finally{try{z&&!z.done&&(u=M.return)&&u.call(M)}finally{if(f)throw f.error}}this.__lfMap.render(d);var F=this.__getBounds(d),me=F.left,he=F.top,Oe=F.right,Ie=F.bottom,We=this.__miniMapWrap.firstChild.style,l=Math.min(this.__width/(Oe-me),this.__height/(Ie-he));We.transform="matrix("+l+", 0, 0, "+l+", 0, 0)",We.transformOrigin="left top",We.height=Ie-Math.min(he,0)+"px",We.width=Oe-Math.min(me,0)+"px",this.__viewPortScale=l,this.__setViewPort(l,{left:me,top:he,right:Oe,bottom:Ie})},h.prototype.__setViewPort=function(f,u){var d=u.left,v=u.right,M=this.__viewport.style;M.width=this.__width-4+"px",M.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var z=this.__lf.getTransform(),Z=z.TRANSLATE_X,F=z.TRANSLATE_Y,he=(this.__width-4)/((v-d)/this.__lf.graphModel.width),Ie=he/(this.__lf.graphModel.width/this.__lf.graphModel.height);this.__viewPortTop=F>0?0:-F*f,this.__viewPortLeft=Z>0?0:-Z*f,this.__viewPortWidth=he,this.__viewPortHeight=Ie,M.top=this.__viewPortTop+"px",M.left=this.__viewPortLeft+"px",M.width=he+"px",M.height=Ie+"px"},h.prototype.__createViewPort=function(){var f=document.createElement("div");f.className="lf-minimap-viewport",f.addEventListener("mousedown",this.__startDrag),this.__viewport=f},h.pluginName="miniMap"}();var br,Jt,Go,qn,Ho,ua=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),_n=function(){return _n=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},_n.apply(this,arguments)},en=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},tn=(function(h){function f(){return null!==h&&h.apply(this,arguments)||this}ua(f,h),f.prototype.pointFilter=function(u){for(var d=u,v=1;v<d.length-1;){var m=en(d[v-1],2),S=m[0],M=m[1],z=en(d[v],2),Z=z[0],F=z[1],me=en(d[v+1],2);S===Z&&Z===me[0]||M===F&&F===me[1]?d.splice(v,1):v++}return d},f.prototype.getEdge=function(){for(var u=this.props.model,d=u.points,v=u.isAnimation,m=u.arrowConfig,S=u.radius,M=void 0===S?5:S,z=u.getEdgeStyle(),Z=u.getEdgeAnimationStyle(),F=this.pointFilter(d.split(" ").map(function(Vt){return Vt.split(",").map(function(sr){return Number(sr)})})),me=en(F[0],2),Ie="M"+me[0]+" "+me[1],nt=1;nt<F.length-1;nt++){var rt=en(F[nt-1],2),We=rt[0],l=rt[1],p=en(F[nt],2),O=p[0],D=p[1],G=en(F[nt+1],2),q=G[0],se=G[1];O===We&&D!==l&&(Ie=Ie+" L "+O+" "+(D>l?D-M:D+M)),D===l&&O!==We&&(Ie=Ie+" L "+(O>We?O-M:O+M)+" "+D),Ie=Ie+" Q "+O+" "+D,O===q&&D!==se&&(Ie=Ie+" "+O+" "+(D>se?D-M:D+M)),D===se&&O!==q&&(Ie=Ie+" "+(O>q?O-M:O+M)+" "+D)}var mt=en(F[F.length-1],2),Yt=_n(_n(_n({d:Ie=Ie+" L "+mt[0]+" "+mt[1],style:v?Z:{}},z),m),{fill:"none"});return(0,N.h)("path",_n({d:Ie},Yt))}}(N.PolylineEdge),function(h){ua(function f(){return null!==h&&h.apply(this,arguments)||this},h)}(N.PolylineEdgeModel),{}),Oo=[],vi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ir(h,f){for(var u in f)h[u]=f[u];return h}function ko(h){var f=h.parentNode;f&&f.removeChild(h)}function Cn(h,f,u){var d,v,m,S={};for(m in f)"key"==m?d=f[m]:"ref"==m?v=f[m]:S[m]=f[m];if(arguments.length>2&&(S.children=arguments.length>3?br.call(arguments,2):u),"function"==typeof h&&null!=h.defaultProps)for(m in h.defaultProps)void 0===S[m]&&(S[m]=h.defaultProps[m]);return rn(h,S,d,v,null)}function rn(h,f,u,d,v){var m={type:h,props:f,key:u,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:v??++Go};return null==v&&null!=Jt.vnode&&Jt.vnode(m),m}function rr(h){return h.children}function Zr(h,f){this.props=h,this.context=f}function Eo(h,f){if(null==f)return h.__?Eo(h.__,h.__.__k.indexOf(h)+1):null;for(var u;f<h.__k.length;f++)if(null!=(u=h.__k[f])&&null!=u.__e)return u.__e;return"function"==typeof h.type?Eo(h):null}function yi(h){var f,u;if(null!=(h=h.__)&&null!=h.__c){for(h.__e=h.__c.base=null,f=0;f<h.__k.length;f++)if(null!=(u=h.__k[f])&&null!=u.__e){h.__e=h.__c.base=u.__e;break}return yi(h)}}function gn(h){(!h.__d&&(h.__d=!0)&&qn.push(h)&&!nn.__r++||Ho!==Jt.debounceRendering)&&((Ho=Jt.debounceRendering)||setTimeout)(nn)}function nn(){for(var h;nn.__r=qn.length;)h=qn.sort(function(f,u){return f.__v.__b-u.__v.__b}),qn=[],h.some(function(f){var u,d,v,m,S,M;f.__d&&(S=(m=(u=f).__v).__e,(M=u.__P)&&(d=[],(v=Ir({},m)).__v=m.__v+1,Uo(M,m,v,u.__n,void 0!==M.ownerSVGElement,null!=m.__h?[S]:null,d,S??Eo(m),m.__h),Or(d,m),m.__e!=S&&yi(m)))})}function gi(h,f,u,d,v,m,S,M,z,Z){var F,me,he,Oe,Ie,nt,rt,We=d&&d.__k||Oo,l=We.length;for(u.__k=[],F=0;F<f.length;F++)if(null!=(Oe=u.__k[F]=null==(Oe=f[F])||"boolean"==typeof Oe?null:"string"==typeof Oe||"number"==typeof Oe||"bigint"==typeof Oe?rn(null,Oe,null,null,Oe):Array.isArray(Oe)?rn(rr,{children:Oe},null,null,null):Oe.__b>0?rn(Oe.type,Oe.props,Oe.key,Oe.ref?Oe.ref:null,Oe.__v):Oe)){if(Oe.__=u,Oe.__b=u.__b+1,null===(he=We[F])||he&&Oe.key==he.key&&Oe.type===he.type)We[F]=void 0;else for(me=0;me<l;me++){if((he=We[me])&&Oe.key==he.key&&Oe.type===he.type){We[me]=void 0;break}he=null}Uo(h,Oe,he=he||tn,v,m,S,M,z,Z),Ie=Oe.__e,(me=Oe.ref)&&he.ref!=me&&(rt||(rt=[]),he.ref&&rt.push(he.ref,null,Oe),rt.push(me,Oe.__c||Ie,Oe)),null!=Ie?(null==nt&&(nt=Ie),"function"==typeof Oe.type&&Oe.__k===he.__k?Oe.__d=z=Xo(Oe,z,h):z=mi(h,Oe,he,We,Ie,z),"function"==typeof u.type&&(u.__d=z)):z&&he.__e==z&&z.parentNode!=h&&(z=Eo(he))}for(u.__e=nt,F=l;F--;)null!=We[F]&&xi(We[F],We[F]);if(rt)for(F=0;F<rt.length;F++)Ei(rt[F],rt[++F],rt[++F])}function Xo(h,f,u){for(var d,v=h.__k,m=0;v&&m<v.length;m++)(d=v[m])&&(d.__=h,f="function"==typeof d.type?Xo(d,f,u):mi(u,d,d,v,d.__e,f));return f}function mi(h,f,u,d,v,m){var S,M,z;if(void 0!==f.__d)S=f.__d,f.__d=void 0;else if(null==u||v!=m||null==v.parentNode)e:if(null==m||m.parentNode!==h)h.appendChild(v),S=null;else{for(M=m,z=0;(M=M.nextSibling)&&z<d.length;z+=1)if(M==v)break e;h.insertBefore(v,m),S=m}return void 0!==S?S:v.nextSibling}function bi(h,f,u){"-"===f[0]?h.setProperty(f,u):h[f]=null==u?"":"number"!=typeof u||vi.test(f)?u:u+"px"}function xo(h,f,u,d,v){var m;e:if("style"===f)if("string"==typeof u)h.style.cssText=u;else{if("string"==typeof d&&(h.style.cssText=d=""),d)for(f in d)u&&f in u||bi(h.style,f,"");if(u)for(f in u)d&&u[f]===d[f]||bi(h.style,f,u[f])}else if("o"===f[0]&&"n"===f[1])m=f!==(f=f.replace(/Capture$/,"")),f=f.toLowerCase()in h?f.toLowerCase().slice(2):f.slice(2),h.l||(h.l={}),h.l[f+m]=u,u?d||h.addEventListener(f,m?Tr:So,m):h.removeEventListener(f,m?Tr:So,m);else if("dangerouslySetInnerHTML"!==f){if(v)f=f.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==f&&"list"!==f&&"form"!==f&&"tabIndex"!==f&&"download"!==f&&f in h)try{h[f]=u??"";break e}catch{}"function"==typeof u||(null==u||!1===u&&-1==f.indexOf("-")?h.removeAttribute(f):h.setAttribute(f,u))}}function So(h){this.l[h.type+!1](Jt.event?Jt.event(h):h)}function Tr(h){this.l[h.type+!0](Jt.event?Jt.event(h):h)}function Uo(h,f,u,d,v,m,S,M,z){var Z,F,me,he,Oe,Ie,nt,rt,We,l,p,O,D,G,q,se=f.type;if(void 0!==f.constructor)return null;null!=u.__h&&(z=u.__h,M=f.__e=u.__e,f.__h=null,m=[M]),(Z=Jt.__b)&&Z(f);try{e:if("function"==typeof se){if(rt=f.props,We=(Z=se.contextType)&&d[Z.__c],l=Z?We?We.props.value:Z.__:d,u.__c?nt=(F=f.__c=u.__c).__=F.__E:("prototype"in se&&se.prototype.render?f.__c=F=new se(rt,l):(f.__c=F=new Zr(rt,l),F.constructor=se,F.render=mn),We&&We.sub(F),F.props=rt,F.state||(F.state={}),F.context=l,F.__n=d,me=F.__d=!0,F.__h=[],F._sb=[]),null==F.__s&&(F.__s=F.state),null!=se.getDerivedStateFromProps&&(F.__s==F.state&&(F.__s=Ir({},F.__s)),Ir(F.__s,se.getDerivedStateFromProps(rt,F.__s))),he=F.props,Oe=F.state,me)null==se.getDerivedStateFromProps&&null!=F.componentWillMount&&F.componentWillMount(),null!=F.componentDidMount&&F.__h.push(F.componentDidMount);else{if(null==se.getDerivedStateFromProps&&rt!==he&&null!=F.componentWillReceiveProps&&F.componentWillReceiveProps(rt,l),!F.__e&&null!=F.shouldComponentUpdate&&!1===F.shouldComponentUpdate(rt,F.__s,l)||f.__v===u.__v){for(F.props=rt,F.state=F.__s,f.__v!==u.__v&&(F.__d=!1),F.__v=f,f.__e=u.__e,f.__k=u.__k,f.__k.forEach(function(je){je&&(je.__=f)}),p=0;p<F._sb.length;p++)F.__h.push(F._sb[p]);F._sb=[],F.__h.length&&S.push(F);break e}null!=F.componentWillUpdate&&F.componentWillUpdate(rt,F.__s,l),null!=F.componentDidUpdate&&F.__h.push(function(){F.componentDidUpdate(he,Oe,Ie)})}if(F.context=l,F.props=rt,F.__v=f,F.__P=h,O=Jt.__r,D=0,"prototype"in se&&se.prototype.render){for(F.state=F.__s,F.__d=!1,O&&O(f),Z=F.render(F.props,F.state,F.context),G=0;G<F._sb.length;G++)F.__h.push(F._sb[G]);F._sb=[]}else do{F.__d=!1,O&&O(f),Z=F.render(F.props,F.state,F.context),F.state=F.__s}while(F.__d&&++D<25);F.state=F.__s,null!=F.getChildContext&&(d=Ir(Ir({},d),F.getChildContext())),me||null==F.getSnapshotBeforeUpdate||(Ie=F.getSnapshotBeforeUpdate(he,Oe)),q=null!=Z&&Z.type===rr&&null==Z.key?Z.props.children:Z,gi(h,Array.isArray(q)?q:[q],f,u,d,v,m,S,M,z),F.base=f.__e,f.__h=null,F.__h.length&&S.push(F),nt&&(F.__E=F.__=null),F.__e=!1}else null==m&&f.__v===u.__v?(f.__k=u.__k,f.__e=u.__e):f.__e=function Oi(h,f,u,d,v,m,S,M){var z,Z,F,me=u.props,he=f.props,Oe=f.type,Ie=0;if("svg"===Oe&&(v=!0),null!=m)for(;Ie<m.length;Ie++)if((z=m[Ie])&&"setAttribute"in z==!!Oe&&(Oe?z.localName===Oe:3===z.nodeType)){h=z,m[Ie]=null;break}if(null==h){if(null===Oe)return document.createTextNode(he);h=v?document.createElementNS("http://www.w3.org/2000/svg",Oe):document.createElement(Oe,he.is&&he),m=null,M=!1}if(null===Oe)me===he||M&&h.data===he||(h.data=he);else{if(m=m&&br.call(h.childNodes),Z=(me=u.props||tn).dangerouslySetInnerHTML,F=he.dangerouslySetInnerHTML,!M){if(null!=m)for(me={},Ie=0;Ie<h.attributes.length;Ie++)me[h.attributes[Ie].name]=h.attributes[Ie].value;(F||Z)&&(F&&(Z&&F.__html==Z.__html||F.__html===h.innerHTML)||(h.innerHTML=F&&F.__html||""))}if(function on(h,f,u,d,v){var m;for(m in u)"children"===m||"key"===m||m in f||xo(h,m,null,u[m],d);for(m in f)v&&"function"!=typeof f[m]||"children"===m||"key"===m||"value"===m||"checked"===m||u[m]===f[m]||xo(h,m,f[m],u[m],d)}(h,he,me,v,M),F)f.__k=[];else if(Ie=f.props.children,gi(h,Array.isArray(Ie)?Ie:[Ie],f,u,d,v&&"foreignObject"!==Oe,m,S,m?m[0]:u.__k&&Eo(u,0),M),null!=m)for(Ie=m.length;Ie--;)null!=m[Ie]&&ko(m[Ie]);M||("value"in he&&void 0!==(Ie=he.value)&&(Ie!==h.value||"progress"===Oe&&!Ie||"option"===Oe&&Ie!==me.value)&&xo(h,"value",Ie,me.value,!1),"checked"in he&&void 0!==(Ie=he.checked)&&Ie!==h.checked&&xo(h,"checked",Ie,me.checked,!1))}return h}(u.__e,f,u,d,v,m,S,z);(Z=Jt.diffed)&&Z(f)}catch(je){f.__v=null,(z||null!=m)&&(f.__e=M,f.__h=!!z,m[m.indexOf(M)]=null),Jt.__e(je,f,u)}}function Or(h,f){Jt.__c&&Jt.__c(f,h),h.some(function(u){try{h=u.__h,u.__h=[],h.some(function(d){d.call(u)})}catch(d){Jt.__e(d,u.__v)}})}function Ei(h,f,u){try{"function"==typeof h?h(f):h.current=f}catch(d){Jt.__e(d,u)}}function xi(h,f,u){var d,v;if(Jt.unmount&&Jt.unmount(h),(d=h.ref)&&(d.current&&d.current!==h.__e||Ei(d,null,f)),null!=(d=h.__c)){if(d.componentWillUnmount)try{d.componentWillUnmount()}catch(m){Jt.__e(m,f)}d.base=d.__P=null,h.__c=void 0}if(d=h.__k)for(v=0;v<d.length;v++)d[v]&&xi(d[v],f,u||"function"!=typeof h.type);u||null==h.__e||ko(h.__e),h.__=h.__e=h.__d=void 0}function mn(h,f,u){return this.constructor(h,u)}br=Oo.slice,Jt={__e:function(h,f,u,d){for(var v,m,S;f=f.__;)if((v=f.__c)&&!v.__)try{if((m=v.constructor)&&null!=m.getDerivedStateFromError&&(v.setState(m.getDerivedStateFromError(h)),S=v.__d),null!=v.componentDidCatch&&(v.componentDidCatch(h,d||{}),S=v.__d),S)return v.__E=v}catch(M){h=M}throw h}},Go=0,Zr.prototype.setState=function(h,f){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ir({},this.state),"function"==typeof h&&(h=h(Ir({},u),this.props)),h&&Ir(u,h),null!=h&&this.__v&&(f&&this._sb.push(f),gn(this))},Zr.prototype.forceUpdate=function(h){this.__v&&(this.__e=!0,h&&this.__h.push(h),gn(this))},Zr.prototype.render=rr,qn=[],nn.__r=0;var Rn=function(){return Rn=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},Rn.apply(this,arguments)};function Po(h){var m=h.radius,M=h.x-h.width/2,z=h.y-h.height/2,Z=Rn(Rn({width:10,height:10,cx:0,cy:0,rx:m||0,ry:m||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+h.className},h),{x:M,y:z});return(0,N.h)("rect",Rn({},Z))}Po.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var an=(()=>(function(h){h.NODE="node",h.CIRCLE_NODE="circle-node",h.POLYGON_NODE="polygon-node",h.RECT_NODE="rect-node",h.HTML_NODE="html-node",h.TEXT_NODE="text-node",h.ELLIPSE_NODE="ellipse-node",h.DIAMOND_NODE="diamond-node",h.EDGE="edge",h.LINE_EDGE="line-edge",h.POLYLINE_EDGE="polyline-edge",h.BEZIER_EDGE="bezier-edge",h.GRAPH="graph"}(an||(an={})),an))();function eo(h){var f=h.x,u=h.y,d=h.width,v=h.height;return{minX:f-d/2,minY:u-v/2,maxX:f+d/2,maxY:u+v/2}}function Mi(h){var f=eo(h),u=h.radius,d=f.minX,v=f.minY,m=f.maxX,S=f.maxY;return[{x:d+u,y:v+u},{x:m-u,y:v+u},{x:m-u,y:S-u},{x:d+u,y:S-u}]}function $o(h){var f=h.point,u=h.beforeNode,d=h.afterNode,v=f.x,m=f.y,S={x:v,y:m},M=u.radius,z=eo(u),Z=eo(d);if(v===z.minX)S.x=Z.minX,S.y=(F=(m-u.y)/(u.height/2-M))?d.y+(d.height/2-M)*F:d.y;else if(v===z.maxX)S.x=Z.maxX,S.y=(F=(m-u.y)/(u.height/2-M))?d.y+(d.height/2-M)*F:d.y;else if(m===z.minY)S.y=Z.minY,S.x=(F=(v-u.x)/(u.width/2-M))?d.x+(d.width/2-M)*F:d.x;else if(m===z.maxY){var F;S.y=Z.maxY,S.x=(F=(v-u.x)/(u.width/2-M))?d.x+(d.width/2-M)*F:d.x}else{var me=Mi(u),he=Mi(d),Oe=eo(u),Ie=Oe.minX,nt=Oe.minY,rt=Oe.maxX,l=-1;if(v-Ie<M&&m-nt<M?l=0:rt-v<M&&m-nt<M?l=1:rt-v<M&&Oe.maxY-m<M?l=2:v-Ie<M&&nt-m<M&&(l=3),l>-1){var p=Math.atan2(m-me[l].y,v-me[l].x);S.x=he[l].x+M*Math.cos(p),S.y=he[l].y+M*Math.sin(p)}}return S}function un(h){var F,me,f=h.point,u=h.beforeNode,d=h.afterNode,M=(f.y-u.y)/(f.x-u.x),z=d.rx,Z=d.ry;return M>=1/0?(F=0,me=Z):M<=-1/0?(F=0,me=-Z):f.x-u.x>0?(F=z*Z/Math.sqrt(Z*Z+z*z*M*M),me=z*Z*M/Math.sqrt(Z*Z+z*z*M*M)):(F=-z*Z/Math.sqrt(Z*Z+z*z*M*M),me=-z*Z*M/Math.sqrt(Z*Z+z*z*M*M)),{x:F+d.x,y:me+d.y}}function Mo(h){var f=h.point,u=h.beforeNode,d=h.afterNode,M=f.x-u.x,z=f.y-u.y,Z=u.rx,F=u.ry,me=Math.sqrt((Z-Math.abs(M))*(Z-Math.abs(M))+z*z)/Math.sqrt(Z*Z+F*F),he=d.rx,Oe=d.ry,Ie=Math.sqrt((he*he+Oe*Oe)*me*me*(he*he/(he*he+Oe*Oe))),nt=Ie*(Oe/he);return{x:(M>=0?he-Ie:Ie-he)+d.x,y:(z>0?nt:-nt)+d.y}}var Pr=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),bn=function(){return bn=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},bn.apply(this,arguments)},_a=N.LogicFlowUtil.StepDrag,qa=function(h){function f(u){var d=h.call(this)||this;return d.updatePosition=function(v){var m=v.deltaX,S=v.deltaY,M=d.nodeModel,Z=M.y;d.nodeModel.x=M.x+m/2,d.nodeModel.y=Z+S/2,d.nodeModel.moveText(m/2,S/2)},d.getResize=function(v){var m=v.index,S=v.deltaX,M=v.deltaY,z=v.width,Z=v.height,F=v.PCTResizeInfo,me=v.pct,he=void 0===me?1:me,Oe={width:z,height:Z,deltaX:S,deltaY:M};if(F){var nt=0,rt=0;switch(m){case 0:rt=(-1*S-M)/4;break;case 1:rt=(S-M)/4;break;case 2:rt=(S+M)/4;break;case 3:rt=(-1*S+M)/4}0!==rt&&(nt=Math.round(rt/F.ResizeBasis.basisHeight*1e5)/1e3),F.ResizePCT.widthPCT=Math.max(Math.min(F.ResizePCT.widthPCT+nt,F.ScaleLimit.maxScaleLimit),F.ScaleLimit.minScaleLimit),F.ResizePCT.hightPCT=Math.max(Math.min(F.ResizePCT.hightPCT+nt,F.ScaleLimit.maxScaleLimit),F.ScaleLimit.minScaleLimit);var We=Math.round(F.ResizePCT.widthPCT*F.ResizeBasis.basisWidth/100),l=Math.round(F.ResizePCT.hightPCT*F.ResizeBasis.basisHeight/100);switch(m){case 0:S=z-We,M=Z-l;break;case 1:S=We-z,M=Z-l;break;case 2:S=We-z,M=l-Z;break;case 3:S=z-We,M=l-Z}return Oe.width=We,Oe.height=l,Oe.deltaX=S/he,Oe.deltaY=M/he,Oe}switch(m){case 0:Oe.width=z-S*he,Oe.height=Z-M*he;break;case 1:Oe.width=z+S*he,Oe.height=Z-M*he;break;case 2:Oe.width=z+S*he,Oe.height=Z+M*he;break;case 3:Oe.width=z-S*he,Oe.height=Z+M*he}return Oe},d.updateRect=function(v){var M=d.nodeModel,z=M.id,Z=M.x,F=M.y,me=M.width,he=M.height,Oe=M.radius,rt=d.getResize({index:d.index,deltaX:v.deltaX,deltaY:v.deltaY,width:me,height:he,PCTResizeInfo:M.PCTResizeInfo,pct:1}),We=d.nodeModel;if(rt.width<We.minWidth||rt.width>We.maxWidth||rt.height<We.minHeight||rt.height>We.maxHeight)d.dragHandler.cancelDrag();else{d.updatePosition({deltaX:rt.deltaX,deltaY:rt.deltaY}),d.nodeModel.width=rt.width,d.nodeModel.height=rt.height,d.nodeModel.setProperties({nodeSize:{width:rt.width,height:rt.height}});var Ue,G=d.getNodeEdges(z),q={x:Z,y:F,width:me,height:he,radius:Oe},se={x:d.nodeModel.x,y:d.nodeModel.y,width:d.nodeModel.width,height:d.nodeModel.height,radius:Oe},je={point:"",beforeNode:q,afterNode:se};G.sourceEdges.forEach(function(mt){je.point=mt.startPoint,Ue=$o(je),mt.updateStartPoint(Ue)}),G.targetEdges.forEach(function(mt){je.point=mt.endPoint,Ue=$o(je),mt.updateEndPoint(Ue)}),d.eventEmit({beforeNode:q,afterNode:se})}},d.updateEllipse=function(v){var M=d.nodeModel,z=M.id,Z=M.rx,F=M.ry,me=M.x,he=M.y,We=d.getResize({index:d.index,deltaX:v.deltaX,deltaY:v.deltaY,width:Z,height:F,PCTResizeInfo:M.PCTResizeInfo,pct:.5}),l=d.nodeModel;if(We.width<l.minWidth/2||We.width>l.maxWidth/2||We.height<l.minHeight/2||We.height>l.maxHeight/2)d.dragHandler.cancelDrag();else{d.updatePosition({deltaX:We.deltaX,deltaY:We.deltaY}),d.nodeModel.rx=We.width,d.nodeModel.ry=We.height,d.nodeModel.setProperties({nodeSize:{rx:We.width,ry:We.height}});var mt,q=d.getNodeEdges(z),se={x:me,y:he},je={rx:We.width,ry:We.height,x:d.nodeModel.x,y:d.nodeModel.y},Ue={point:{},beforeNode:se,afterNode:je};q.sourceEdges.forEach(function(bt){Ue.point=bt.startPoint,mt=un(Ue),bt.updateStartPoint(mt)}),q.targetEdges.forEach(function(bt){Ue.point=bt.endPoint,mt=un(Ue),bt.updateEndPoint(mt)}),d.eventEmit({beforeNode:bn(bn({},se),{rx:Z,ry:F}),afterNode:je})}},d.updateDiamond=function(v){var M=d.nodeModel,z=M.id,Z=M.rx,F=M.ry,me=M.x,he=M.y,We=d.getResize({index:d.index,deltaX:v.deltaX,deltaY:v.deltaY,width:Z,height:F,PCTResizeInfo:M.PCTResizeInfo,pct:.5}),l=d.nodeModel;if(We.width<l.minWidth/2||We.width>l.maxWidth/2||We.height<l.minHeight/2||We.height>l.maxHeight/2)d.dragHandler.cancelDrag();else{d.updatePosition({deltaX:We.deltaX,deltaY:We.deltaY}),d.nodeModel.rx=We.width,d.nodeModel.ry=We.height,d.nodeModel.setProperties({nodeSize:{rx:We.width,ry:We.height}});var Ue,q={x:me,y:he,rx:Z,ry:F},se={rx:We.width,ry:We.height,x:d.nodeModel.x,y:d.nodeModel.y},je={point:{},beforeNode:q,afterNode:se},mt=d.getNodeEdges(z);mt.sourceEdges.forEach(function(bt){je.point=bt.startPoint,Ue=Mo(je),bt.updateStartPoint(Ue)}),mt.targetEdges.forEach(function(bt){je.point=bt.endPoint,Ue=Mo(je),bt.updateEndPoint(Ue)}),d.eventEmit({beforeNode:q,afterNode:se})}},d.eventEmit=function(v){var S=v.afterNode,M=d.nodeModel,z=M.id,Z=M.modelType,F=M.type,me=bn({id:z,modelType:Z,type:F},v.beforeNode),he=bn({id:z,modelType:Z,type:F},S);d.graphModel.eventCenter.emit("node:resize",{oldNodeSize:me,newNodeSize:he})},d.onDraging=function(v){var m,S=v.deltaX,M=v.deltaY,Z=d.nodeModel.modelType;m=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m}(d.graphModel.transformModel.fixDeltaXY(S,M),2),S=m[0],M=m[1],Z===an.RECT_NODE||Z===an.HTML_NODE?d.updateRect({deltaX:S,deltaY:M}):Z===an.ELLIPSE_NODE?d.updateEllipse({deltaX:S,deltaY:M}):Z===an.DIAMOND_NODE&&d.updateDiamond({deltaX:S,deltaY:M})},d.onDragEnd=function(){var v=d.graphModel.gridSize,m=void 0===v?1:v,S=m*Math.round(d.nodeModel.x/m),M=m*Math.round(d.nodeModel.y/m);d.nodeModel.moveTo(S,M)},d.index=u.index,d.nodeModel=u.model,d.graphModel=u.graphModel,d.state={},d.dragHandler=new _a({onDraging:d.onDraging,onDragEnd:d.onDragEnd,step:1}),d}return Pr(f,h),f.prototype.getNodeEdges=function(u){for(var v=this.graphModel.edges,m=[],S=[],M=0;M<v.length;M++){var z=v[M];z.sourceNodeId===u?m.push(z):v[M].targetNodeId===u&&S.push(z)}return{sourceEdges:m,targetEdges:S}},f.prototype.render=function(){var u=this.props,d=u.x,v=u.y,m=u.index,M=u.model.getControlPointStyle();return Cn("g",{className:"lf-resize-control-"+m},Cn(Po,bn({className:"lf-node-control"},{x:d,y:v},M,{onMouseDown:this.dragHandler.handleMouseDown})))},f}(Zr);const ca=qa;var Yo=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),to=function(){return to=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},to.apply(this,arguments)},Wo=function(h){function f(){var u=h.call(this)||this;return u.state={},u}return Yo(f,h),f.prototype.getResizeControl=function(){var u=this.props,d=u.model,v=u.graphModel,m=d.x,S=d.y,M=d.width,z=d.height,Z={minX:m-M/2,minY:S-z/2,maxX:m+M/2,maxY:S+z/2},F=Z.minX,me=Z.minY,he=Z.maxX,Oe=Z.maxY;return[{x:F,y:me},{x:he,y:me},{x:he,y:Oe},{x:F,y:Oe}].map(function(nt,rt){return Cn(ca,to({index:rt},nt,{model:d,graphModel:v}))})},f.prototype.getGroupSolid=function(){var u=this.props.model,d=u.x,v=u.y,m=u.width,S=u.height,M=u.getResizeOutlineStyle();return Cn(Po,to({fill:"none"},M,{x:d,y:v,width:m,height:S}))},f.prototype.render=function(){return Cn("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},f}(Zr);const ro=Wo;var Ko=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),no=function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.width=m.width,v.height=m.height),v}return Ko(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.resize=function(u,d){console.log(u,d)},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.width,basisHeight:this.height},m={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo},f}(N.RectNodeModel),eu=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return Ko(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},f.prototype.getShape=function(){var u=this.props,d=u.model.isSelected,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d&&!v?this.getControlGroup():"")},f}(N.RectNode);const oo={type:"rect",view:eu,model:no};var sn=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}();(function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.rx=m.rx,v.ry=m.ry),v}sn(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.rx,basisHeight:this.ry},m={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo}})(N.EllipseNodeModel),function(h){function f(){return null!==h&&h.apply(this,arguments)||this}sn(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},f.prototype.getShape=function(){var u=this.props,d=u.model,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d.isSelected&&!v?this.getControlGroup():"")}}(N.EllipseNode);var Vo=function(){return Vo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},Vo.apply(this,arguments)};function pa(h){var f=h.fillOpacity,d=h.strokeWidth,m=h.strokeOpacity,M=h.fill,Z=h.stroke,he=h.className,Ie={fill:void 0===M?"transparent":M,fillOpacity:void 0===f?1:f,strokeWidth:void 0===d?1:d,stroke:void 0===Z?"#000":Z,strokeOpacity:void 0===m?1:m,points:"",className:void 0===he?"lf-basic-shape":he};return Ie.points=h.points.map(function(nt){return nt.join(",")}).join(" "),(0,N.h)("polygon",Vo({},Ie))}var Ni=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),Zo=function(){return Zo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},Zo.apply(this,arguments)};(function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.rx=m.rx,v.ry=m.ry),v}Ni(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.rx,basisHeight:this.ry},m={maxScaleLimit:Math.min(this.maxWidth/(2*this.rx)*100,this.maxHeight/(2*this.ry)*100),minScaleLimit:Math.max(this.minWidth/(2*this.rx)*100,this.minHeight/(2*this.ry)*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo}})(N.DiamondNodeModel),function(h){function f(){return null!==h&&h.apply(this,arguments)||this}Ni(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){var u=this.props.model,d=u.points,v=u.getNodeStyle();return(0,N.h)("g",null,(0,N.h)(pa,Zo({},v,{points:d})))},f.prototype.getShape=function(){var u=this.props,d=u.model.isSelected,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d&&!v?this.getControlGroup():"")}}(N.DiamondNode);var fn=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}();(function(h){function f(u,d){var v=h.call(this,u,d)||this,m=v.properties.nodeSize;return m&&(v.width=m.width,v.height=m.height),v}fn(f,h),f.prototype.initNodeData=function(u){h.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},f.prototype.getOutlineStyle=function(){var u=h.prototype.getOutlineStyle.call(this);return this.graphModel.editConfigModel.isSilentMode||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},f.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},f.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},f.prototype.enableProportionResize=function(u){if(void 0===u&&(u=!0),u){var v={basisWidth:this.width,basisHeight:this.height},m={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:{widthPCT:100,hightPCT:100},ResizeBasis:v,ScaleLimit:m}}else delete this.PCTResizeInfo}})(N.HtmlNodeModel),function(h){function f(){return null!==h&&h.apply(this,arguments)||this}fn(f,h),f.prototype.getControlGroup=function(){var u=this.props;return(0,N.h)(ro,{model:u.model,graphModel:u.graphModel})},f.prototype.getResizeShape=function(){return h.prototype.getShape.call(this)},f.prototype.getShape=function(){var u=this.props,d=u.model.isSelected,v=u.graphModel.editConfigModel.isSilentMode;return(0,N.h)("g",null,this.getResizeShape(),d&&!v?this.getControlGroup():"")}}(N.HtmlNode);var ji=function(){var h=function(f,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)v.hasOwnProperty(m)&&(d[m]=v[m])})(f,u)};return function(f,u){function d(){this.constructor=f}h(f,u),f.prototype=null===u?Object.create(u):(d.prototype=u.prototype,new d)}}(),wo=function(){return wo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},wo.apply(this,arguments)},Yr=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},Bn=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(Yr(arguments[f]));return h},Br=function(h){function f(){var u=null!==h&&h.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=500,u.unfoldedHight=300,u}return ji(f,h),f.prototype.initNodeData=function(u){var d=this;h.prototype.initNodeData.call(this,u);var v=[];Array.isArray(u.children)&&(v=u.children),this.children=new Set(v),this.width=500,this.height=300,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1e4,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){d.isFolded&&d.foldGroup(d.isFolded)})},f.prototype.getResizeOutlineStyle=function(){var u=h.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},f.prototype.foldGroup=function(u){var d=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var v=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(m){var S=d.graphModel.getElement(m);S.visible=!u,v=v.concat(S.incoming.edges.concat(S.outgoing.edges))}),this.foldEdge(u,v)},f.prototype.getAnchorStyle=function(u){var d=h.prototype.getAnchorStyle.call(this,u);return d.stroke="transparent",d.fill="transparent",d.hover.fill="transparent",d.hover.stroke="transparent",d},f.prototype.foldEdge=function(u,d){var v=this;d.forEach(function(m,S){var z=m.sourceNodeId,Z=m.targetNodeId,nt={id:m.id+"__"+S,sourceNodeId:z,targetNodeId:Z,startPoint:m.startPoint,endPoint:m.endPoint,type:m.type,properties:m.properties,text:m.text?.value};m.virtual&&v.graphModel.deleteEdgeById(m.id);var rt=v.graphModel.group.getNodeGroup(Z);rt||(rt=v.graphModel.getNodeModelById(Z));var We=v.graphModel.group.getNodeGroup(z);We||(We=v.graphModel.getNodeModelById(z)),u&&!1!==m.visible&&(v.children.has(z)||v.id===z?(nt.startPoint=void 0,nt.sourceNodeId=v.id):(nt.endPoint=void 0,nt.targetNodeId=v.id),(rt.id!==v.id||We.id!==v.id)&&v.createVirtualEdge(nt),m.visible=!1),!u&&!1===m.visible&&(rt&&rt.isGroup&&rt.isFolded?(nt.targetNodeId=rt.id,nt.endPoint=void 0,v.createVirtualEdge(nt)):We&&We.isGroup&&We.isFolded?(nt.sourceNodeId=We.id,nt.startPoint=void 0,v.createVirtualEdge(nt)):m.visible=!0)})},f.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var d=this.graphModel.addEdge(u);d.virtual=!0,d.text.editable=!1,d.isFoldedEdge=!0},f.prototype.isInRange=function(u){return u.x1>=this.x-this.width/2&&u.x2<=this.x+this.width/2&&u.y1>=this.y-this.height/2&&u.y2<=this.y+this.height/2},f.prototype.isAllowMoveTo=function(u){return{x:u.x1>=this.x-this.width/2&&u.x2<=this.x+this.width/2,y:u.y1>=this.y-this.height/2&&u.y2<=this.y+this.height/2}},f.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},f.prototype.addChild=function(u){this.children.add(u)},f.prototype.removeChild=function(u){this.children.delete(u)},f.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},f.prototype.getData=function(){var u=h.prototype.getData.call(this);u.children=Bn(this.children);var d=u.properties;return delete d.groupAddable,delete d.isFolded,u},f.prototype.getHistoryData=function(){var u=h.prototype.getData.call(this);u.children=Bn(this.children),u.isGroup=!0;var d=u.properties;return delete d.groupAddable,d.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},f.prototype.isAllowAppendIn=function(u){return!0},f.prototype.toBack=function(){this.zIndex--},f}(oo.model),va=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return ji(f,h),f.prototype.getControlGroup=function(){var u=this.props.model;return u.resizable&&!u.properties.isFolded?h.prototype.getControlGroup.call(this):null},f.prototype.getAddableShape=function(){var u=this.props.model,d=u.width,v=u.height,m=u.x,S=u.y,M=u.radius;if(!u.properties.groupAddable)return null;var Z=this.props.model.getNodeStyle().strokeWidth,F=this.props.model.getAddableOutlineStyle(),me=d+Z+8,he=v+Z+8;return(0,N.h)("rect",wo(wo({},F),{width:me,height:he,x:m-me/2,y:S-he/2,rx:M,ry:M}))},f.prototype.getFoldIcon=function(){var u=this.props.model,d=u.x-u.width/2+5,v=u.y-u.height/2+5;if(!u.foldable)return null;var m=(0,N.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(d+3)+","+(v+6)+" "+(d+11)+","+(v+6)+" M"+(d+7)+","+(v+2)+" "+(d+7)+","+(v+10):"M "+(d+3)+","+(v+6)+" "+(d+11)+","+(v+6)+" "});return(0,N.h)("g",{},[(0,N.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),m])},f.prototype.getResizeShape=function(){return(0,N.h)("g",{},[this.getAddableShape(),h.prototype.getResizeShape.call(this),this.getFoldIcon()])},f}(oo.view);const ya={type:"group",view:va,model:Br};!function(){function h(f){var u=this,d=f.lf;this.topGroupZIndex=-1e4,this.nodeGroupMap=new Map,this.graphRendered=function(v){v&&v.nodes&&v.nodes.forEach(function(m){m.children&&m.children.forEach(function(S){u.nodeGroupMap.set(S,m.id)})})},this.appendNodeToGroup=function(v){var m=v.data,S=u.nodeGroupMap.get(m.id);if(S){var M=u.lf.getNodeModelById(S);M.removeChild(m.id),u.nodeGroupMap.delete(m.id),M.setAllowAppendChild(!1)}var z=u.lf.getNodeModelById(m.id),Z=z.getBounds(),F=u.getGroup(Z,m);if(F){if(!F.isAllowAppendIn(m))return void u.lf.emit("group:not-allowed",{group:F.getData(),node:m});F.addChild(m.id),u.nodeGroupMap.set(m.id,F.id),F.setAllowAppendChild(!1),z.isGroup&&(m.children.forEach(function(he){u.nodeGroupMap.set(he,m.id)}),u.nodeSelected({data:m}))}},this.deleteGroupChild=function(v){var m=v.data;m.children&&m.children.forEach(function(z){u.nodeGroupMap.delete(z),u.lf.deleteNode(z)});var S=u.nodeGroupMap.get(m.id);S&&(u.lf.getNodeModelById(S).removeChild(m.id),u.nodeGroupMap.delete(m.id))},this.setActiveGroup=function(v){var m=v.data,S=u.lf.getNodeModelById(m.id),M=S.getBounds(),z=u.getGroup(M,m);u.activeGroup&&u.activeGroup.setAllowAppendChild(!1),!z||S.isGroup&&z.id===m.id||!z.isAllowAppendIn(m)||(u.activeGroup=z,u.activeGroup.setAllowAppendChild(!0))},this.nodeSelected=function(v){var S=u.lf.getNodeModelById(v.data.id);if(u.toFrontGroup(S),u.topGroupZIndex>-1e3){u.topGroupZIndex=-1e4;for(var M=u.lf.graphModel.nodes.filter(function(me){return me.isGroup}).sort(function(me,he){return me.zIndex-he.zIndex}),z=0,Z=0;Z<M.length;Z++){var F=M[Z];F.zIndex!==z&&(u.topGroupZIndex++,z=F.zIndex),F.setZIndex(u.topGroupZIndex)}}},this.toFrontGroup=function(v){!v||!v.isGroup||(u.topGroupZIndex++,v.setZIndex(u.topGroupZIndex),v.children&&v.children.forEach(function(m){var S=u.lf.getNodeModelById(m);u.toFrontGroup(S)}))},d.register(ya),this.lf=d,d.graphModel.addNodeMoveRules(function(v,m,S){if(v.isGroup){var M=u.getNodeAllChild(v);return d.graphModel.moveNodes(M,m,S,!0),!0}var z=d.getNodeModelById(u.nodeGroupMap.get(v.id));if(z&&z.isRestrict){var Z=v.getBounds();return z.isAllowMoveTo({x1:Z.x1+m,y1:Z.y1+S,x2:Z.x2+m,y2:Z.y2+S})}return!0}),d.graphModel.group=this,d.on("node:add,node:drop",this.appendNodeToGroup),d.on("node:delete",this.deleteGroupChild),d.on("node:dnd-drag,node:drag",this.setActiveGroup),d.on("node:click",this.nodeSelected),d.on("graph:rendered",this.graphRendered)}h.prototype.getNodeAllChild=function(f){var u=this,d=[];return f.children&&f.children.forEach(function(v){d.push(v);var m=u.lf.getNodeModelById(v);m.isGroup&&(d=d.concat(u.getNodeAllChild(m)))}),d},h.prototype.getGroup=function(f,u){var v=this.lf.graphModel.nodes.filter(function(M){return M.isGroup&&M.isInRange(f)&&M.id!==u.id});if(0!==v.length){if(1===v.length)return v[0];for(var m=v[v.length-1],S=v.length-2;S>=0;S--)v[S].zIndex>m.zIndex&&(m=v[S]);return m}},h.prototype.getNodeGroup=function(f){var u=this.nodeGroupMap.get(f);if(u)return this.lf.getNodeModelById(u)},h.pluginName="group"}();var ma=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},Qt=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(ma(arguments[f]));return h},uo=(function(){function h(f){var u=this,d=f.lf;this.lf=d,this.pathes=[],d.getPathes=function(){if(!u.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return u.getPathes()},d.setRawPathes=function(v){u.setPathes(v)},d.getRawPathes=function(){return u.pathes},d.setStartNodeType=function(v){u.startNodeType=v}}h.prototype.setPathes=function(f){this.pathes=f.map(function(u){return{routeId:u.routeId,name:u.name,elements:u.elements,type:u.type,similarElement:null,weight:0}})},h.prototype.getPathes=function(){var f=this,u=this.lf.getGraphRawData(),d=new Map,v=[];u.nodes.forEach(function(S){d.set(S.id,{id:S.id,data:S,nextNodes:[]}),S.type===f.startNodeType&&v.push(S.id)}),u.edges.forEach(function(S){d.get(S.sourceNodeId).nextNodes.push(S.targetNodeId)});var m=[];return v.forEach(function(S){m=m.concat(f.findPathElements(d.get(S),d,[]))}),this.getNewPathes(m)},h.prototype.findPathElements=function(f,u,d){void 0===d&&(d=[]);var v=Qt(d);if(v.push(f.id),0===f.nextNodes.length)return[v];for(var m=[],S=0;S<f.nextNodes.length;S++){var z,M=u.get(f.nextNodes[S]),Z=v.indexOf(M.id);z=-1!==Z?[Qt(v.slice(Z),[M.id])]:this.findPathElements(M,u,Qt(v)),m=m.concat(z)}return m},h.prototype.getNewPathes=function(f){var u=this,d=[],v=new Set;f.forEach(function(S){var M=u.getNewId("path"),z=u.getNewId("\u8def\u5f84"),Z=u.isLoopPath(S),F=S.join(",");v.has(F)||(v.add(F),d.push({routeId:M,name:z,elements:S,type:Z,weight:0,similarElement:""}))});var m=JSON.parse(JSON.stringify(this.pathes));return d.forEach(function(S){for(var M=0;M<m.length;M++){var z=m[M],Z=u.similar2Path(Qt(S.elements),Qt(z.elements));Z>S.weight&&z.weight<=Z&&(S.weight=Z,S.similarElement=z,Z===z.weight&&z.similarElement?(z.similarElement.similarElement=null,z.similarElement.weight=0,z.similarElement=null,z.weight=0):(z.similarElement=S,z.weight=Z))}}),d.forEach(function(S){S.similarElement&&S.similarElement.similarElement===S&&(S.routeId=S.similarElement.routeId,S.name=S.similarElement.name),delete S.similarElement,delete S.weight}),this.setPathes(d),d},h.prototype.similar2Path=function(f,u){var d=0,v=f.length+u.length;f.sort(),u.sort();for(var m=f.shift(),S=u.shift();void 0!==m&&void 0!==S;)m===S?(d++,m=f.shift(),S=u.shift()):m<S?m=f.shift():m>S&&(S=u.shift());return d/v*200},h.prototype.getNewId=function(f){return f+"_"+C()},h.prototype.isLoopPath=function(f){var u=f.length;return f.indexOf(f[u-1])!==u-1?1:0},h.pluginName="flowPath"}(),function(){return uo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},uo.apply(this,arguments)}),lo=(function(){function h(f){var u=this,d=f.lf;this.lf=d,this.trunk=[],d.layout=function(v){var m=u.lf.getGraphRawData();u.lf.setStartNodeType(v);var S=u.lf.getPathes();return u.levelHeight=[],u.newNodeMap=new Map,u.layout(m,S)}}h.prototype.layout=function(f,u){var d=this,v=[];u.forEach(function(z){var Z=z.elements;Z.length>v.length?v=Z:Z.length===v.length&&JSON.stringify(Z)===JSON.stringify(d.trunk)&&(v=d.trunk)}),this.trunk=v;for(var m=this.formatData(f),S={nodes:[],edges:[]},M=v.length-1;M>=0;M--)this.setNodePosition(v[M],m,S,M,1);this.lf.graphModel.graphDataToModel(S)},h.prototype.setNodePosition=function(f,u,d,v,m){var S=this,M=u[f],z=M.text,Z=M.type,F=M.next,he=160*v+40,Oe=120*m,Ie={id:f,x:he,text:z,y:Oe,type:Z,properties:M.properties};return z&&"object"==typeof z&&(Ie.text=uo(uo({},z),{x:he+z.x,y:Oe+z.y})),this.newNodeMap.set(Ie.id,{x:Ie.x,y:Ie.y,type:Z}),d.nodes.push(Ie),M.isFixed=!0,this.addLevelHeight(v,1),F&&F.length>0&&F.forEach(function(nt){if(!u[nt.nodeId].isFixed){var We=S.getLevelHeight(v+1);S.addLevelHeight(v,1),S.setNodePosition(nt.nodeId,u,d,v+1,We+1)}d.edges.push(uo({id:nt.edgeId,type:nt.edgeType,sourceNodeId:f,targetNodeId:nt.nodeId,properties:nt.properties,text:nt.text},S.getEdgeDataPoints(f,nt.nodeId)))}),Ie},h.prototype.getEdgeDataPoints=function(f,u){var d=this.newNodeMap.get(f),v=this.newNodeMap.get(u),m=this.getShape(f),S=m.width,M=m.height,z=this.getShape(u),Z=z.width,F=z.height,me=this.getRelativePosition(d,v),he={x:d.x,y:d.y},Oe={x:v.x,y:v.y};switch(me){case 0:he.x=d.x+S/2,Oe.x=v.x-Z/2;break;case-1:he.y=d.y+M/2,Oe.x=v.x-Z/2;break;case 1:he.x=d.x+S/2,Oe.y=v.y+F/2}return{startPoint:he,endPoint:Oe}},h.prototype.getRelativePosition=function(f,u){var d=f.y,v=u.y;return d<v?-1:d===v?0:1},h.prototype.getShape=function(f){var u=this.lf.getNodeModelById(f);return{height:u.height,width:u.width}},h.prototype.formatData=function(f){var u=f.nodes.reduce(function(d,v){var m=v.type,S=v.properties,M=v.text,Z=v.y;return M&&"object"==typeof M&&(M.x=M.x-v.x,M.y=M.y-Z),d[v.id]={type:m,properties:S,text:M,prev:[],next:[]},d},{});return f.edges.forEach(function(d){var v=d.sourceNodeId,m=d.targetNodeId,S=d.id,M=d.properties,z=d.text,Z=z;"object"==typeof z&&(Z=z.value),u[v].next.push({edgeId:S,nodeId:m,edgeType:d.type,properties:M,text:Z}),u[m].prev.push({edgeId:S,nodeId:v,properties:M,text:Z})}),u},h.prototype.addLevelHeight=function(f,u,d){void 0===u&&(u=1),void 0===d&&(d=!1);var v=this.levelHeight[f];v||(this.levelHeight[f]=v={positiveHeight:0,negativeHeight:0}),d?v.negativeHeight-=u:v.positiveHeight+=u},h.prototype.getLevelHeight=function(f,u){void 0===u&&(u=!1);var d=this.levelHeight[f];return d?u?d.negativeHeight:d.positiveHeight:0},h.pluginName="AutoLayout"}(),function(){return lo=Object.assign||function(h){for(var f,u=1,d=arguments.length;u<d;u++)for(var v in f=arguments[u])Object.prototype.hasOwnProperty.call(f,v)&&(h[v]=f[v]);return h},lo.apply(this,arguments)}),ba=function(h,f){var u="function"==typeof Symbol&&h[Symbol.iterator];if(!u)return h;var v,S,d=u.call(h),m=[];try{for(;(void 0===f||f-- >0)&&!(v=d.next()).done;)m.push(v.value)}catch(M){S={error:M}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(S)throw S.error}}return m},dn=function(){for(var h=[],f=0;f<arguments.length;f++)h=h.concat(ba(arguments[f]));return h};!function(){function h(f){var u=f.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=u}h.prototype.setMode=function(f){this.mode=f},h.prototype.setManual=function(f){this.manual=f},h.prototype.highlightSingle=function(f){var u=this.lf.getModelById(f);"node"===u.BaseType?u.updateStyles(this.tempStyles[f]):"edge"===u.BaseType&&(u.updateStyles(this.tempStyles[f]),u.sourceNode.updateStyles(this.tempStyles[u.sourceNode.id]),u.targetNode.updateStyles(this.tempStyles[u.targetNode.id]))},h.prototype.highlightPath=function(f){var u=this,d=function(h,f){var u=f.getModelById(h);return function(h,f){var u=[],d=[],v=function(S,M,z){void 0===z&&(z=null),z&&M.unshift.apply(M,dn(f.getEdgeModels({sourceNodeId:S.id,targetNodeId:z.id}).map(function(Z){return Z.id}))),M.includes(S.id)?u.push(M):(M.unshift(S.id),S.incoming.nodes.length?S.incoming.nodes.forEach(function(Z){v(Z,M.slice(),S)}):u.push(M))},m=function(S,M,z){void 0===z&&(z=null),z&&M.push.apply(M,dn(f.getEdgeModels({sourceNodeId:z.id,targetNodeId:S.id}).map(function(Z){return Z.id}))),M.includes(S.id)?d.push(M):(M.push(S.id),S.outgoing.nodes.length?S.outgoing.nodes.forEach(function(Z){m(Z,M.slice(),S)}):d.push(M))};return v(h,[]),m(h,[]),dn(new Set(dn(u.flat(),d.flat())))}("node"===u.BaseType?u:u.targetNode,f)}(f,this.lf);d.forEach(function(v){u.lf.getModelById(v).updateStyles(u.tempStyles[v])})},h.prototype.highlight=function(f,u){var d=this;void 0===u&&(u=this.mode),this.manual||(Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(m){var S="node"===m.BaseType?m.getNodeStyle():m.getEdgeStyle();d.tempStyles[m.id]=lo({},S),m.setStyles({opacity:.1})}),{single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)}[u](f))},h.prototype.restoreHighlight=function(){var f=this;!Object.keys(this.tempStyles).length||(Object.values(this.lf.graphModel.modelsMap).forEach(function(u){var d,v=null!==(d=f.tempStyles[u.id])&&void 0!==d?d:{};u.updateStyles(lo({},v))}),this.tempStyles={})},h.prototype.render=function(f,u){var d=this;this.lf.on("node:mouseenter",function(v){return d.highlight(v.data.id)}),this.lf.on("edge:mouseenter",function(v){return d.highlight(v.data.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},h.prototype.destroy=function(){},h.pluginName="highlight"}()}}]);