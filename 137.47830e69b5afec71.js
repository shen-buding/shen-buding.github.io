"use strict";(self.webpackChunkangular_base=self.webpackChunkangular_base||[]).push([[137],{5137:(Zt,R,d)=>{d.r(R),d.d(R,{CustomModule:()=>Ut});var z=d(6895),S=d(8236),c=d(2188),m=d.n(c),g=d(9336),s=d(4650),G=d(2027),b=d(7579),U=d(6063);class D extends b.x{constructor(e=1/0,t=1/0,n=U.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:a}=this;t||(n.push(e),!o&&n.push(r.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:o}=this,r=o.slice();for(let a=0;a<r.length&&!e.closed;a+=n?1:2)e.next(r[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:o}=this,r=(o?1:2)*e;if(e<1/0&&r<n.length&&n.splice(0,n.length-r),!o){const a=t.now();let l=0;for(let u=1;u<n.length&&n[u]<=a;u+=2)l=u;l&&n.splice(0,l+1)}}}var f=d(2722),N=d(3303),F=d(2289),A=d(3353),E=d(445);let Z=(()=>{class i{constructor(t,n,o,r,a,l,u){this.elementRef=t,this.renderer=n,this.mediaMatcher=o,this.ngZone=r,this.platform=a,this.breakpointService=l,this.directionality=u,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new D(1),this.dir="ltr",this.destroy$=new b.x}getGutter(){const t=[null,null],n=this.nzGutter||0;return(Array.isArray(n)?n:[n,null]).forEach((r,a)=>{"object"==typeof r&&null!==r?(t[a]=null,Object.keys(N.WV).map(l=>{const u=l;this.mediaMatcher.matchMedia(N.WV[u]).matches&&r[u]&&(t[a]=r[u])})):t[a]=Number(r)||null}),t}setGutterStyle(){const[t,n]=this.getGutter();this.actualGutter$.next([t,n]);const o=(r,a)=>{null!==a&&this.renderer.setStyle(this.elementRef.nativeElement,r,`-${a/2}px`)};o("margin-left",t),o("margin-right",t),o("margin-top",n),o("margin-bottom",n)}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.dir=t}),this.setGutterStyle()}ngOnChanges(t){t.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(N.WV).pipe((0,f.R)(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(F.vx),s.Y36(s.R0b),s.Y36(A.t4),s.Y36(N.r3),s.Y36(E.Is,8))},i.\u0275dir=s.lG2({type:i,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(t,n){2&t&&s.ekj("ant-row-top","top"===n.nzAlign)("ant-row-middle","middle"===n.nzAlign)("ant-row-bottom","bottom"===n.nzAlign)("ant-row-start","start"===n.nzJustify)("ant-row-end","end"===n.nzJustify)("ant-row-center","center"===n.nzJustify)("ant-row-space-around","space-around"===n.nzJustify)("ant-row-space-between","space-between"===n.nzJustify)("ant-row-space-evenly","space-evenly"===n.nzJustify)("ant-row-rtl","rtl"===n.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[s.TTD]}),i})(),V=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[E.vT,z.ez,F.xu,A.ud]}),i})();var p=d(655),Y=d(4968),k=d(8675),j=d(9300),B=d(7917),y=d(3187),x=d(1102);let T=(()=>{class i{constructor(t,n){this.elementRef=t,this.renderer=n,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(s.SBq),s.Y36(s.Qsj))},i.\u0275dir=s.lG2({type:i,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[s.TTD]}),i})(),I=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[A.ud]}),i})();class L{constructor(e,t,n,o){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=n,this.platformId=o,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=r=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===r.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new A.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const W={disabled:!1},Q=new s.OlP("nz-wave-global-options",{providedIn:"root",factory:function H(){return W}});let X=(()=>{class i{constructor(t,n,o,r,a){this.ngZone=t,this.elementRef=n,this.config=o,this.animationType=r,this.platformId=a,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new L(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(Q,8),s.Y36(s.QbO,8),s.Y36(s.Lbi))},i.\u0275dir=s.lG2({type:i,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),i})(),O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[A.ud]}),i})();const K=["nz-button",""];function J(i,e){1&i&&s._UZ(0,"span",1)}const _=["*"],P="button";let $=(()=>{class i{constructor(t,n,o,r,a,l){this.ngZone=t,this.elementRef=n,this.cdr=o,this.renderer=r,this.nzConfigService=a,this.directionality=l,this._nzModuleName=P,this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new b.x,this.loading$=new b.x,this.nzConfigService.getConfigChangeEventForComponent(P).pipe((0,f.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(t,n){t.forEach(o=>{if("#text"===o.nodeName){const r=n.createElement("span"),a=n.parentNode(o);n.insertBefore(a,r,o),n.appendChild(r,o)}})}assertIconOnly(t,n){const o=Array.from(t.childNodes),r=o.filter(h=>{const v=Array.from(h.childNodes||[]);return"SPAN"===h.nodeName&&v.length>0&&v.every(C=>"svg"===C.nodeName)}).length,a=o.every(h=>"#text"!==h.nodeName);o.filter(h=>{const v=Array.from(h.childNodes||[]);return!("SPAN"===h.nodeName&&v.length>0&&v.every(C=>"svg"===C.nodeName))}).every(h=>"SPAN"!==h.nodeName)&&a&&r>=1&&n.addClass(t,"ant-btn-icon-only")}ngOnInit(){this.directionality.change?.pipe((0,f.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,Y.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,f.R)(this.destroy$)).subscribe(t=>{(this.disabled&&"A"===t.target?.tagName||this.nzLoading)&&(t.preventDefault(),t.stopImmediatePropagation())})})}ngOnChanges(t){const{nzLoading:n}=t;n&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,k.O)(this.nzLoading),(0,j.h)(()=>!!this.nzIconDirectiveElement),(0,f.R)(this.destroy$)).subscribe(t=>{const n=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(n,"display","none"):this.renderer.removeStyle(n,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(B.jY),s.Y36(E.Is,8))},i.\u0275cmp=s.Xpm({type:i,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,n,o){if(1&t&&s.Suo(o,x.Ls,5,s.SBq),2&t){let r;s.iGM(r=s.CRH())&&(n.nzIconDirectiveElement=r.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(t,n){2&t&&(s.uIk("tabindex",n.disabled?-1:null===n.tabIndex?null:n.tabIndex)("disabled",n.disabled||null),s.ekj("ant-btn-primary","primary"===n.nzType)("ant-btn-dashed","dashed"===n.nzType)("ant-btn-link","link"===n.nzType)("ant-btn-text","text"===n.nzType)("ant-btn-circle","circle"===n.nzShape)("ant-btn-round","round"===n.nzShape)("ant-btn-lg","large"===n.nzSize)("ant-btn-sm","small"===n.nzSize)("ant-btn-dangerous",n.nzDanger)("ant-btn-loading",n.nzLoading)("ant-btn-background-ghost",n.nzGhost)("ant-btn-block",n.nzBlock)("ant-input-search-button",n.nzSearch)("ant-btn-rtl","rtl"===n.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[s.TTD],attrs:K,ngContentSelectors:_,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,n){1&t&&(s.F$t(),s.YNc(0,J,1,0,"span",0),s.Hsn(1)),2&t&&s.Q6J("ngIf",n.nzLoading)},dependencies:[z.O5,x.Ls,T],encapsulation:2,changeDetection:0}),(0,p.gn)([(0,y.yF)()],i.prototype,"nzBlock",void 0),(0,p.gn)([(0,y.yF)()],i.prototype,"nzGhost",void 0),(0,p.gn)([(0,y.yF)()],i.prototype,"nzSearch",void 0),(0,p.gn)([(0,y.yF)()],i.prototype,"nzLoading",void 0),(0,p.gn)([(0,y.yF)()],i.prototype,"nzDanger",void 0),(0,p.gn)([(0,y.yF)()],i.prototype,"disabled",void 0),(0,p.gn)([(0,B.oS)()],i.prototype,"nzSize",void 0),i})(),q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[E.vT,z.ez,O,x.PV,I,I,O]}),i})();var tt=d(6451),et=d(3900),nt=d(4004);const w={schedule(i,e){const t=setTimeout(i,e);return()=>clearTimeout(t)},scheduleBeforeRender(i){if(typeof window>"u")return w.schedule(i,0);if(typeof window.requestAnimationFrame>"u")return w.schedule(i,16);const e=window.requestAnimationFrame(i);return()=>window.cancelAnimationFrame(e)}};let M;function ct(i,e,t){let n=t;return function st(i){return!!i&&i.nodeType===Node.ELEMENT_NODE}(i)&&e.some((o,r)=>!("*"===o||!function rt(i,e){if(!M){const t=Element.prototype;M=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return i.nodeType===Node.ELEMENT_NODE&&M.call(i,e)}(i,o)||(n=r,0))),n}class mt{constructor(e,t){this.componentFactory=t.get(s._Vd).resolveComponentFactory(e)}create(e){return new pt(this.componentFactory,e)}}class pt{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new D(1),this.events=this.eventEmitters.pipe((0,et.w)(n=>(0,tt.T)(...n))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:n})=>n)),this.ngZone=this.injector.get(s.R0b),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=w.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function at(i,e){return i===e||i!=i&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=s.zs3.create({providers:[],parent:this.injector}),n=function ut(i,e){const t=i.childNodes,n=e.map(()=>[]);let o=-1;e.some((r,a)=>"*"===r&&(o=a,!0));for(let r=0,a=t.length;r<a;++r){const l=t[r],u=ct(l,e,o);-1!==u&&n[u].push(l)}return n}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,n,e),this.viewChangeDetectorRef=this.componentRef.injector.get(s.sBO),this.implementsOnChanges=function ot(i){return"function"==typeof i}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(s.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:n,templateName:o})=>e.instance[n].pipe((0,nt.U)(a=>({name:o,value:a}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=w.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const n=this.inputChanges[e];if(n)return void(n.currentValue=t);const o=this.unchangedInputs.has(e),r=o?void 0:this.getInputValue(e);this.inputChanges[e]=new s.WD2(r,t,o)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class gt extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}const At={type:"CustomRect",view:class yt extends c.RectNode{},model:class vt extends c.RectNodeModel{initNodeData(e){super.initNodeData(e)}getNodeStyle(){const e=super.getNodeStyle();return e.stroke="#2987ff",e}}},bt={type:"CustomaPolygon",view:class Ct extends c.PolygonNode{},model:class zt extends c.PolygonNodeModel{getNodeStyle(){const e=super.getNodeStyle();return e.stroke="#2987ff",e}}},wt={type:"CustomStart",view:class Nt extends c.CircleNode{},model:class Et extends c.CircleNodeModel{initNodeData(e){super.initNodeData(e)}getNodeStyle(){const e=super.getNodeStyle();return e.stroke="#2987ff",e}getConnectedTargetRules(){const e=super.getConnectedTargetRules();return e.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fb9\u7684\u7ec8\u70b9",validate:()=>!1}),e}}},Mt={type:"CustomEnd",view:class St extends c.CircleNode{getShape(){const{model:e}=this.props,{x:n,y:o,r}=e,{fill:a,stroke:l,strokeWidth:u}=e.getNodeStyle();return(0,c.h)("g",{},[(0,c.h)("circle",{cx:n,cy:o,r,fill:a,stroke:l,strokeWidth:u}),(0,c.h)("circle",{cx:n,cy:o,r:r-10,fill:a,stroke:l,strokeWidth:u})])}},model:class xt extends c.CircleNodeModel{initNodeData(e){super.initNodeData(e),this.r=50}getNodeStyle(){const e=super.getNodeStyle();return e.stroke="#2987ff",e.fill="transparent",e.strokeWidth=2,e}getConnectedSourceRules(){const e=super.getConnectedSourceRules();return e.push({message:"\u7ec8\u6b62\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u8d77\u70b9",validate:()=>!1}),e}}},Ft={type:"CustomHtml",view:class Rt extends c.HtmlNode{setHtml(e){const{properties:t}=this.props.model,n=document.createElement("custom-element");n.className="lf-html-wrapper",n.message=t.text,e.innerHTML="",e.appendChild(n)}},model:class Dt extends c.HtmlNodeModel{getNodeStyle(){const e=super.getNodeStyle();return e.stroke="#2987ff",e.fill="transparent",e.strokeWidth=2,e}initNodeData(e){super.initNodeData(e),e.text.editable=!1,this.width=100,this.height=100,this.anchorsOffset=[[50,0],[0,50],[-50,0],[0,-50]]}}};let Bt=(()=>{class i{constructor(){this.htmlMessage=""}get message(){return this.htmlMessage}set message(t){this.htmlMessage=t}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-html"]],inputs:{message:"message"},decls:6,vars:1,consts:[[1,"custom-html"],[1,"custom-head"],[1,"custom-body"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"angular\u7ec4\u4ef6"),s.qZA(),s.TgZ(3,"div",2)(4,"div"),s._uU(5),s.qZA()()()),2&t&&(s.xp6(5),s.Oqu(n.htmlMessage))}}),i})(),Tt=(()=>{class i{constructor(t){const n=function ft(i,e){const t=function dt(i,e){return e.get(s._Vd).resolveComponentFactory(i).inputs}(i,e.injector),n=e.strategyFactory||new mt(i,e.injector),o=function lt(i){const e={};return i.forEach(({propName:t,templateName:n})=>{e[function it(i){return i.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(n)]=t}),e}(t);class r extends gt{constructor(l){super(),this.injector=l}get ngElementStrategy(){if(!this._ngElementStrategy){const l=this._ngElementStrategy=n.create(this.injector||e.injector);t.forEach(({propName:u})=>{if(!this.hasOwnProperty(u))return;const h=this[u];delete this[u],l.setInputValue(u,h)})}return this._ngElementStrategy}attributeChangedCallback(l,u,h,v){this.ngElementStrategy.setInputValue(o[l],h)}connectedCallback(){let l=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),l=!0),this.ngElementStrategy.connect(this),l||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(l=>{const u=new CustomEvent(l.name,{detail:l.value});this.dispatchEvent(u)})}}return r.observedAttributes=Object.keys(o),t.forEach(({propName:a})=>{Object.defineProperty(r.prototype,a,{get(){return this.ngElementStrategy.getInputValue(a)},set(l){this.ngElementStrategy.setInputValue(a,l)},configurable:!0,enumerable:!0})}),r}(Bt,{injector:t});customElements.get("custom-element")||window.customElements.define("custom-element",n)}ngOnInit(){let t=this.lf;t&&t.on("selection:selected",()=>{t.updateEditConfig({stopMoveGraph:!1})}),this.registerNode()}registerNode(){let n=this.lf;n.register(At),n.register(bt),n.register(wt),n.register(Mt),n.register(Ft),n.on("connection:not-allowed",o=>{alert(o.msg)}),n.on("custom:button-click",o=>{console.log("custom:button-click"),n.setProperties(o.id,{body:"LogicFlow"})})}openSelection(){this.lf.updateEditConfig({stopMoveGraph:!0})}addStartNode(){this.lf.dnd.startDrag({type:"CustomStart",text:"\u5f00\u59cb",properties:{start:"\u5f00\u59cb"}})}addGeneralNode(){this.lf.dnd.startDrag({type:"CustomRect",text:"\u666e\u901a\u8282\u70b9",properties:{CustomRect:"\u77e9\u5f62"}})}addConditionNode(){this.lf.dnd.startDrag({type:"CustomaPolygon",text:"\u6761\u4ef6\u8282\u70b9"})}addHtmlNode(){this.lf.dnd.startDrag({type:"CustomHtml",text:"\u81ea\u5b9a\u4e49Html\u8282\u70b9",properties:{text:"\u70b9\u51fb\u4fee\u6539\u6807\u9898"}})}addEndNode(){this.lf.dnd.startDrag({type:"CustomEnd",text:"\u7ed3\u675f\u8282\u70b9"})}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(s.zs3))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-custom-node-panel"]],inputs:{lf:"lf"},decls:25,vars:0,consts:[[1,"node-panel"],[1,"node-item",3,"mousedown"],[1,"node-item-icon","selection"],[1,"node-label"],[1,"node-item-icon","start"],[1,"node-item-icon","general"],[1,"node-item-icon","condition"],[1,"node-item-icon","html"],[1,"node-item-icon","end"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("mousedown",function(){return n.openSelection()}),s._UZ(2,"div",2),s.TgZ(3,"span",3),s._uU(4,"\u9009\u533a"),s.qZA()(),s.TgZ(5,"div",1),s.NdJ("mousedown",function(){return n.addStartNode()}),s._UZ(6,"div",4),s.TgZ(7,"span",3),s._uU(8,"\u5f00\u59cb\u8282\u70b9"),s.qZA()(),s.TgZ(9,"div",1),s.NdJ("mousedown",function(){return n.addGeneralNode()}),s._UZ(10,"div",5),s.TgZ(11,"span",3),s._uU(12,"\u666e\u901a\u8282\u70b9"),s.qZA()(),s.TgZ(13,"div",1),s.NdJ("mousedown",function(){return n.addConditionNode()}),s._UZ(14,"div",6),s.TgZ(15,"span",3),s._uU(16,"\u6761\u4ef6\u8282\u70b9"),s.qZA()(),s.TgZ(17,"div",1),s.NdJ("mousedown",function(){return n.addHtmlNode()}),s._UZ(18,"div",7),s.TgZ(19,"span",3),s._uU(20,"Html\u8282\u70b9"),s.qZA()(),s.TgZ(21,"div",1),s.NdJ("mousedown",function(){return n.addEndNode()}),s._UZ(22,"div",8),s.TgZ(23,"span",3),s._uU(24,"\u7ed3\u675f\u8282\u70b9"),s.qZA()()())},styles:[".node-panel[_ngcontent-%COMP%]{position:absolute;top:100px;left:10px;width:70px;padding:10px;background-color:#fff;box-shadow:0 0 10px 1px #e4e0db;border-radius:6px;text-align:center;z-index:101}.node-item[_ngcontent-%COMP%]{margin-bottom:10px}.node-item-icon[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:10px;background-size:cover}.node-label[_ngcontent-%COMP%]{font-size:12px;margin-top:5px;-webkit-user-select:none;user-select:none}.selection[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=) center center no-repeat;cursor:grab}.start[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg==) center center no-repeat;cursor:grab}.end[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC) center center no-repeat;cursor:grab}.general[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAIlJREFUOE9jZKAyYKSyeQxgA7Xa/pv/+8/gSYnhzIwMq65WMV5jVJn0n531G8Mxhv8MRpQYyMDAcOszO4MBo0b7fwdGBob9//8xNDIwMRwgy9B/DA6MTAz1/xkYHFEMvFHN2ECOgRqt/xtGDYREymgYEp2ChnCyoUrWo3rhQPXii+ioJFIh1UtsAJK4mqGHZK9YAAAAAElFTkSuQmCC) center center no-repeat;cursor:grab}.html[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAZpJREFUOE/F1D1Lw1AYBeBzxEXcHPRaKjg6ibtDEcTNrVbcdFURBDvZxJKkIIJLEZwUFERoEdwdBPUP6KCzLr1VhG46aF5JbUJsm35AwYzJvQ/nPTcJ0eOLPfbwv6AyZRd9ONVZPkZN1nHCmCHTLnDnAlOvNu+7AlVGsiAS2uaMv1GZkoaLtHY4rAy5BnGrLZr1cEPCGrYDIqUtFv0No4ZcCvChbS4pUxYgKIDY1xa3wugfMAqLb8rA1yDKAmyWHR55QAg91BZXfTQAozBv4UhGZklc0cV4KcfnUA2/SQUn2uGyd78KtsKqzw3xukpqm5P1nQVJgYK2ueiDXmfeQfzpLUhiyA0ED9rheguwqG2mwiPvgUjXo/GsDH19451EsmTxIgyG0lWxYOQgSUYOQKyF0RFT5umi+NkPVcmy0tAfEGANYK3PYxArPqpMyYtgomxzrh3WFKwdwrl3Ft6LrQx5InBWsumEOr0G8OaPGfke1hce25Yxtw8vdJEo5XjTyZ+p7besMpLXDjc6wSJH7nRzs3VtE3aL9xz8Abf1vRWPrKqXAAAAAElFTkSuQmCC) center center no-repeat;cursor:grab}.condition[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAALdJREFUOE+11NERgyAMANBkCxbTabwWPadpF2OL9EBBLZBERX7h3iUhCULjgxrPvKjz79yEX+m9CAaM4BMghF5CWTBhBOMKviW0Cu4xN6P1oBnIAgKLFsESFmsnoRnIYRr0AO4w62Zc6lY5tUgTeAbjIg2gJk1tpM+AV6Ms1bH2KWPsPW2q8d2zbZN+L84vQdY+ZiA/KX5iinOtGb2EStiyP7jm3SK9vxyy9FusrwPaasFKG/r//gdxhLQV5onRWwAAAABJRU5ErkJggg==) center center no-repeat;cursor:grab}.lf-html-wrapper[_ngcontent-%COMP%]{width:100px;height:100px}.lf-html-wrapper[_ngcontent-%COMP%]   .custom-html[_ngcontent-%COMP%]{width:96px;height:96px;border:2px solid #2987ff}.lf-html-wrapper[_ngcontent-%COMP%]   .custom-head[_ngcontent-%COMP%]{color:red;height:26px;line-height:26px}.lf-html-wrapper[_ngcontent-%COMP%]   .custom-body[_ngcontent-%COMP%]{color:#2987ff;height:50px;line-height:50px}"]}),i})();const It=["custom"],Ot=[{path:"",component:(()=>{class i{constructor(t){this.router=t,this.lf=null,this.drawer=!1,this.currentNode=null}ngOnInit(){m().use(g.EV),m().use(g.t0),m().use(g.aC),m().use(g.oT),m().use(g.v2),m().use(g.Ju),this.lf=new(m())({container:this.customDom.nativeElement,grid:!0,height:670}),this.lf.render();const{eventCenter:t}=this.lf.graphModel;this.bindEvent(t)}bindEvent(t){t.on("node:click",n=>{console.log("\u8282\u70b9\u5355\u51fb",n),this.drawer=!0,this.currentNode=n,this.currentNode.data.properties.test="111"})}gotoDemo(){this.router.navigateByUrl("/demo")}gotoBpmn(){this.router.navigateByUrl("/bpmn")}gotoCustom(){this.router.navigateByUrl("/custom")}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(S.F0))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-custom"]],viewQuery:function(t,n){if(1&t&&s.Gf(It,7),2&t){let o;s.iGM(o=s.CRH())&&(n.customDom=o.first)}},decls:10,vars:2,consts:[["nz-row",""],[1,"flowCanvas"],[1,"container"],["custom",""],["ng-if","lf",3,"lf"],["nz-button","","nzType","primary"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"div",2,3)(4,"app-custom-node-panel",4)(5,"app-bpnm-data-panel",4),s.qZA()(),s._UZ(6,"br"),s.TgZ(7,"div",0)(8,"button",5),s._uU(9,"\u8054\u7cfbDevOps"),s.qZA()()),2&t&&(s.xp6(4),s.Q6J("lf",n.lf),s.xp6(1),s.Q6J("lf",n.lf))},dependencies:[G.N,Z,$,T,X,Tt],styles:[".flowCanvas[_ngcontent-%COMP%]{position:relative;width:100%;margin:0;display:flex}.flowCanvas[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-grow:1;border:0px solid #ababab;overflow:hidden}.text[_ngcontent-%COMP%]{margin:0 20px;font-size:weight;cursor:pointer}"]}),i})()}];let Pt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[z.ez,S.Bz.forChild(Ot),S.Bz]}),i})();var Gt=d(4466);let Ut=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[Gt.m,Pt,V,q]}),i})()}}]);